var Vs=Object.defineProperty,Bs=Object.defineProperties;var Ys=Object.getOwnPropertyDescriptors;var ve=Object.getOwnPropertySymbols;var zi=Object.prototype.hasOwnProperty,Fi=Object.prototype.propertyIsEnumerable;var Qe=(t,e,i)=>e in t?Vs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,Jt=(t,e)=>{for(var i in e||(e={}))zi.call(e,i)&&Qe(t,i,e[i]);if(ve)for(var i of ve(e))Fi.call(e,i)&&Qe(t,i,e[i]);return t},me=(t,e)=>Bs(t,Ys(e));var Hi=(t,e)=>{var i={};for(var r in t)zi.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(t!=null&&ve)for(var r of ve(t))e.indexOf(r)<0&&Fi.call(t,r)&&(i[r]=t[r]);return i};var I=(t,e,i)=>Qe(t,typeof e!="symbol"?e+"":e,i);var Z=(t,e,i)=>new Promise((r,s)=>{var n=a=>{try{l(i.next(a))}catch(h){s(h)}},o=a=>{try{l(i.throw(a))}catch(h){s(h)}},l=a=>a.done?r(a.value):Promise.resolve(a.value).then(n,o);l((i=i.apply(t,e)).next())});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function i(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=i(s);fetch(s.href,n)}})();var Ws="vh";function Xs(t){var e,i="--"+Ws;function r(){var s=t.clientHeight;s!==e&&requestAnimationFrame(function(){t.style.setProperty(i,s*.01+"px"),e=s})}return r(),r}window.addEventListener("resize",Xs(document.documentElement));const Ke=new WeakMap;function Je(t,e,i,r){var l,a;if(!t&&!Ke.has(e))return!1;const s=(l=Ke.get(e))!=null?l:new WeakMap;Ke.set(e,s);const n=(a=s.get(i))!=null?a:new Set;s.set(i,n);const o=n.has(r);return t?n.add(r):n.delete(r),o&&t}function $s(t,e){let i=t.target;if(i instanceof Text&&(i=i.parentElement),i instanceof Element&&t.currentTarget instanceof Element){const r=i.closest(e);if(r&&t.currentTarget.contains(r))return r}}function Us(t,e,i,r={}){const{signal:s,base:n=document}=r;if(s!=null&&s.aborted)return;const y=r,{once:o}=y,l=Hi(y,["once"]),a=n instanceof Document?n.documentElement:n,h=!!(typeof r=="object"?r.capture:r),c=g=>{const u=$s(g,String(t));if(u){const f=Object.assign(g,{delegateTarget:u});i.call(a,f),o&&(a.removeEventListener(e,c,l),Je(!1,a,i,d))}},d=JSON.stringify({selector:t,type:e,capture:h});Je(!0,a,i,d)||a.addEventListener(e,c,l),s==null||s.addEventListener("abort",()=>{Je(!1,a,i,d)})}function j(){return j=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)({}).hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},j.apply(null,arguments)}const Ir=(t,e)=>String(t).toLowerCase().replace(/[\s/_.]+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")||e||"",Ht=({hash:t}={})=>window.location.pathname+window.location.search+(t?window.location.hash:""),Gs=(t,e={})=>{const i=j({url:t=t||Ht({hash:!0}),random:Math.random(),source:"swup"},e);window.history.pushState(i,"",t)},te=(t=null,e={})=>{t=t||Ht({hash:!0});const i=j({},window.history.state||{},{url:t,random:Math.random(),source:"swup"},e);window.history.replaceState(i,"",t)},js=(t,e,i,r)=>{const s=new AbortController;return r=j({},r,{signal:s.signal}),Us(t,e,i,r),{destroy:()=>s.abort()}};let K=class Ae extends URL{constructor(e,i=document.baseURI){super(e.toString(),i),Object.setPrototypeOf(this,Ae.prototype)}get url(){return this.pathname+this.search}static fromElement(e){const i=e.getAttribute("href")||e.getAttribute("xlink:href")||"";return new Ae(i)}static fromUrl(e){return new Ae(e)}},_e=class extends Error{constructor(e,i){super(e),this.url=void 0,this.status=void 0,this.aborted=void 0,this.timedOut=void 0,this.name="FetchError",this.url=i.url,this.status=i.status,this.aborted=i.aborted||!1,this.timedOut=i.timedOut||!1}};function Zs(i){return Z(this,arguments,function*(t,e={}){var r;t=K.fromUrl(t).url;const{visit:s=this.visit}=e,n=j({},this.options.requestHeaders,e.headers),o=(r=e.timeout)!=null?r:this.options.timeout,l=new AbortController,{signal:a}=l;e=j({},e,{headers:n,signal:a});let h,c=!1,d=null;o&&o>0&&(d=setTimeout(()=>{c=!0,l.abort("timeout")},o));try{h=yield this.hooks.call("fetch:request",s,{url:t,options:e},(m,{url:p,options:_})=>fetch(p,_)),d&&clearTimeout(d)}catch(m){throw c?(this.hooks.call("fetch:timeout",s,{url:t}),new _e(`Request timed out: ${t}`,{url:t,timedOut:c})):(m==null?void 0:m.name)==="AbortError"||a.aborted?new _e(`Request aborted: ${t}`,{url:t,aborted:!0}):m}const{status:v,url:y}=h,g=yield h.text();if(v===500)throw this.hooks.call("fetch:error",s,{status:v,response:h,url:y}),new _e(`Server error: ${y}`,{status:v,url:y});if(!g)throw new _e(`Empty response: ${y}`,{status:v,url:y});const{url:u}=K.fromUrl(y),f={url:u,html:g};return!s.cache.write||e.method&&e.method!=="GET"||t!==u||this.cache.set(f.url,f),f})}class Qs{constructor(e){this.swup=void 0,this.pages=new Map,this.swup=e}get size(){return this.pages.size}get all(){const e=new Map;return this.pages.forEach((i,r)=>{e.set(r,j({},i))}),e}has(e){return this.pages.has(this.resolve(e))}get(e){const i=this.pages.get(this.resolve(e));return i&&j({},i)}set(e,i){i=j({},i,{url:e=this.resolve(e)}),this.pages.set(e,i),this.swup.hooks.callSync("cache:set",void 0,{page:i})}update(e,i){e=this.resolve(e);const r=j({},this.get(e),i,{url:e});this.pages.set(e,r)}delete(e){this.pages.delete(this.resolve(e))}clear(){this.pages.clear(),this.swup.hooks.callSync("cache:clear",void 0,void 0)}prune(e){this.pages.forEach((i,r)=>{e(r,i)&&this.delete(r)})}resolve(e){const{url:i}=K.fromUrl(e);return this.swup.resolveUrl(i)}}const hi=(t,e=document)=>e.querySelector(t),gi=(t,e=document)=>Array.from(e.querySelectorAll(t)),kr=()=>new Promise(t=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{t()})})});function Dr(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function Ks(t,e=[]){return new Promise((i,r)=>{const s=t(...e);Dr(s)?s.then(i,r):i(s)})}function qi(t,e){const i=t==null?void 0:t.closest(`[${e}]`);return i!=null&&i.hasAttribute(e)?(i==null?void 0:i.getAttribute(e))||!0:void 0}class Js{constructor(e){this.swup=void 0,this.swupClasses=["to-","is-changing","is-rendering","is-popstate","is-animating","is-leaving"],this.swup=e}get selectors(){const{scope:e}=this.swup.visit.animation;return e==="containers"?this.swup.visit.containers:e==="html"?["html"]:Array.isArray(e)?e:[]}get selector(){return this.selectors.join(",")}get targets(){return this.selector.trim()?gi(this.selector):[]}add(...e){this.targets.forEach(i=>i.classList.add(...e))}remove(...e){this.targets.forEach(i=>i.classList.remove(...e))}clear(){this.targets.forEach(e=>{const i=e.className.split(" ").filter(r=>this.isSwupClass(r));e.classList.remove(...i)})}isSwupClass(e){return this.swupClasses.some(i=>e.startsWith(i))}}class Lr{constructor(e,i){this.id=void 0,this.state=void 0,this.from=void 0,this.to=void 0,this.containers=void 0,this.animation=void 0,this.trigger=void 0,this.cache=void 0,this.history=void 0,this.scroll=void 0,this.meta=void 0;const{to:r,from:s,hash:n,el:o,event:l}=i;this.id=Math.random(),this.state=1,this.from={url:s!=null?s:e.location.url,hash:e.location.hash},this.to={url:r,hash:n},this.containers=e.options.containers,this.animation={animate:!0,wait:!1,name:void 0,native:e.options.native,scope:e.options.animationScope,selector:e.options.animationSelector},this.trigger={el:o,event:l},this.cache={read:e.options.cache,write:e.options.cache},this.history={action:"push",popstate:!1,direction:void 0},this.scroll={reset:!0,target:void 0},this.meta={}}advance(e){this.state<e&&(this.state=e)}abort(){this.state=8}get done(){return this.state>=7}}function tn(t){return new Lr(this,t)}class en{constructor(e){this.swup=void 0,this.registry=new Map,this.hooks=["animation:out:start","animation:out:await","animation:out:end","animation:in:start","animation:in:await","animation:in:end","animation:skip","cache:clear","cache:set","content:replace","content:scroll","enable","disable","fetch:request","fetch:error","fetch:timeout","history:popstate","link:click","link:self","link:anchor","link:newtab","page:load","page:view","scroll:top","scroll:anchor","visit:start","visit:transition","visit:abort","visit:end"],this.swup=e,this.init()}init(){this.hooks.forEach(e=>this.create(e))}create(e){this.registry.has(e)||this.registry.set(e,new Map)}exists(e){return this.registry.has(e)}get(e){const i=this.registry.get(e);if(i)return i;console.error(`Unknown hook '${e}'`)}clear(){this.registry.forEach(e=>e.clear())}on(e,i,r={}){const s=this.get(e);if(!s)return console.warn(`Hook '${e}' not found.`),()=>{};const n=j({},r,{id:s.size+1,hook:e,handler:i});return s.set(i,n),()=>this.off(e,i)}before(e,i,r={}){return this.on(e,i,j({},r,{before:!0}))}replace(e,i,r={}){return this.on(e,i,j({},r,{replace:!0}))}once(e,i,r={}){return this.on(e,i,j({},r,{once:!0}))}off(e,i){const r=this.get(e);r&&i?r.delete(i)||console.warn(`Handler for hook '${e}' not found.`):r&&r.clear()}call(e,i,r,s){return Z(this,null,function*(){const[n,o,l]=this.parseCallArgs(e,i,r,s),{before:a,handler:h,after:c}=this.getHandlers(e,l);yield this.run(a,n,o);const[d]=yield this.run(h,n,o,!0);return yield this.run(c,n,o),this.dispatchDomEvent(e,n,o),d})}callSync(e,i,r,s){const[n,o,l]=this.parseCallArgs(e,i,r,s),{before:a,handler:h,after:c}=this.getHandlers(e,l);this.runSync(a,n,o);const[d]=this.runSync(h,n,o,!0);return this.runSync(c,n,o),this.dispatchDomEvent(e,n,o),d}parseCallArgs(e,i,r,s){return i instanceof Lr||typeof i!="object"&&typeof r!="function"?[i,r,s]:[void 0,i,r]}run(n){return Z(this,arguments,function*(e,i=this.swup.visit,r,s=!1){const o=[];for(const{hook:l,handler:a,defaultHandler:h,once:c}of e)if(i==null||!i.done){c&&this.off(l,a);try{const d=yield Ks(a,[i,r,h]);o.push(d)}catch(d){if(s)throw d;console.error(`Error in hook '${l}':`,d)}}return o})}runSync(e,i=this.swup.visit,r,s=!1){const n=[];for(const{hook:o,handler:l,defaultHandler:a,once:h}of e)if(i==null||!i.done){h&&this.off(o,l);try{const c=l(i,r,a);n.push(c),Dr(c)&&console.warn(`Swup will not await Promises in handler for synchronous hook '${o}'.`)}catch(c){if(s)throw c;console.error(`Error in hook '${o}':`,c)}}return n}getHandlers(e,i){const r=this.get(e);if(!r)return{found:!1,before:[],handler:[],after:[],replaced:!1};const s=Array.from(r.values()),n=this.sortRegistrations,o=s.filter(({before:d,replace:v})=>d&&!v).sort(n),l=s.filter(({replace:d})=>d).filter(d=>!0).sort(n),a=s.filter(({before:d,replace:v})=>!d&&!v).sort(n),h=l.length>0;let c=[];if(i&&(c=[{id:0,hook:e,handler:i}],h)){const d=l.length-1,{handler:v,once:y}=l[d],g=u=>{const f=l[u-1];return f?(m,p)=>f.handler(m,p,g(u-1)):i};c=[{id:0,hook:e,once:y,handler:v,defaultHandler:g(d)}]}return{found:!0,before:o,handler:c,after:a,replaced:h}}sortRegistrations(e,i){var r,s;return((r=e.priority)!=null?r:0)-((s=i.priority)!=null?s:0)||e.id-i.id||0}dispatchDomEvent(e,i,r){if(i!=null&&i.done)return;const s={hook:e,args:r,visit:i||this.swup.visit};document.dispatchEvent(new CustomEvent("swup:any",{detail:s,bubbles:!0})),document.dispatchEvent(new CustomEvent(`swup:${e}`,{detail:s,bubbles:!0}))}parseName(e){const[i,...r]=e.split(".");return[i,r.reduce((s,n)=>j({},s,{[n]:!0}),{})]}}const rn=t=>{if(t&&t.charAt(0)==="#"&&(t=t.substring(1)),!t)return null;const e=decodeURIComponent(t);let i=document.getElementById(t)||document.getElementById(e)||hi(`a[name='${CSS.escape(t)}']`)||hi(`a[name='${CSS.escape(e)}']`);return i||t!=="top"||(i=document.body),i},ge="transition",ti="animation";function sn(i){return Z(this,arguments,function*({selector:t,elements:e}){if(t===!1&&!e)return;let r=[];if(e)r=Array.from(e);else if(t&&(r=gi(t,document.body),!r.length))return void console.warn(`[swup] No elements found matching animationSelector \`${t}\``);const s=r.map(n=>function(o){const{type:l,timeout:a,propCount:h}=function(c){const d=window.getComputedStyle(c),v=ye(d,`${ge}Delay`),y=ye(d,`${ge}Duration`),g=Vi(v,y),u=ye(d,`${ti}Delay`),f=ye(d,`${ti}Duration`),m=Vi(u,f),p=Math.max(g,m),_=p>0?g>m?ge:ti:null;return{type:_,timeout:p,propCount:_?_===ge?y.length:f.length:0}}(o);return!(!l||!a)&&new Promise(c=>{const d=`${l}end`,v=performance.now();let y=0;const g=()=>{o.removeEventListener(d,u),c()},u=f=>{f.target===o&&((performance.now()-v)/1e3<f.elapsedTime||++y>=h&&g())};setTimeout(()=>{y<h&&g()},a+1),o.addEventListener(d,u)})}(n));s.filter(Boolean).length>0?yield Promise.all(s):t&&console.warn(`[swup] No CSS animation duration defined on elements matching \`${t}\``)})}function ye(t,e){return(t[e]||"").split(", ")}function Vi(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((i,r)=>Bi(i)+Bi(t[r])))}function Bi(t){return 1e3*parseFloat(t)}function nn(t,e={},i={}){if(typeof t!="string")throw new Error("swup.navigate() requires a URL parameter");if(this.shouldIgnoreVisit(t,{el:i.el,event:i.event}))return void window.location.assign(t);const{url:r,hash:s}=K.fromUrl(t),n=this.createVisit(j({},i,{to:r,hash:s}));this.performNavigation(n,e)}function on(i){return Z(this,arguments,function*(t,e={}){if(this.navigating){if(this.visit.state>=6)return t.state=2,void(this.onVisitEnd=()=>this.performNavigation(t,e));yield this.hooks.call("visit:abort",this.visit,void 0),delete this.visit.to.document,this.visit.state=8}this.navigating=!0,this.visit=t;const{el:r}=t.trigger;e.referrer=e.referrer||this.location.url,e.animate===!1&&(t.animation.animate=!1),t.animation.animate||this.classes.clear();const s=e.history||qi(r,"data-swup-history");typeof s=="string"&&["push","replace"].includes(s)&&(t.history.action=s);const n=e.animation||qi(r,"data-swup-animation");var o,l;typeof n=="string"&&(t.animation.name=n),t.meta=e.meta||{},typeof e.cache=="object"?(t.cache.read=(o=e.cache.read)!=null?o:t.cache.read,t.cache.write=(l=e.cache.write)!=null?l:t.cache.write):e.cache!==void 0&&(t.cache={read:!!e.cache,write:!!e.cache}),delete e.cache;try{yield this.hooks.call("visit:start",t,void 0),t.state=3;const a=this.hooks.call("page:load",t,{options:e},(c,d)=>Z(this,null,function*(){let v;return c.cache.read&&(v=this.cache.get(c.to.url)),d.page=v||(yield this.fetchPage(c.to.url,d.options)),d.cache=!!v,d.page}));a.then(({html:c})=>{t.advance(5),t.to.html=c,t.to.document=new DOMParser().parseFromString(c,"text/html")});const h=t.to.url+t.to.hash;if(t.history.popstate||(t.history.action==="replace"||t.to.url===this.location.url?te(h):(this.currentHistoryIndex++,Gs(h,{index:this.currentHistoryIndex}))),this.location=K.fromUrl(h),t.history.popstate&&this.classes.add("is-popstate"),t.animation.name&&this.classes.add(`to-${Ir(t.animation.name)}`),t.animation.wait&&(yield a),t.done||(yield this.hooks.call("visit:transition",t,void 0,()=>Z(this,null,function*(){if(!t.animation.animate)return yield this.hooks.call("animation:skip",void 0),void(yield this.renderPage(t,yield a));t.advance(4),yield this.animatePageOut(t),t.animation.native&&document.startViewTransition?yield document.startViewTransition(()=>Z(this,null,function*(){return yield this.renderPage(t,yield a)})).finished:yield this.renderPage(t,yield a),yield this.animatePageIn(t)})),t.done))return;yield this.hooks.call("visit:end",t,void 0,()=>this.classes.clear()),t.state=7,this.navigating=!1,this.onVisitEnd&&(this.onVisitEnd(),this.onVisitEnd=void 0)}catch(a){if(!a||a!=null&&a.aborted)return void(t.state=8);t.state=9,console.error(a),this.options.skipPopStateHandling=()=>(window.location.assign(t.to.url+t.to.hash),!0),window.history.back()}finally{delete t.to.document}})}const an=function(t){return Z(this,null,function*(){yield this.hooks.call("animation:out:start",t,void 0,()=>{this.classes.add("is-changing","is-animating","is-leaving")}),yield this.hooks.call("animation:out:await",t,{skip:!1},(e,{skip:i})=>{if(!i)return this.awaitAnimations({selector:e.animation.selector})}),yield this.hooks.call("animation:out:end",t,void 0)})},ln=function(t){var e;const i=t.to.document;if(!i)return!1;const r=((e=i.querySelector("title"))==null?void 0:e.innerText)||"";document.title=r;const s=gi('[data-swup-persist]:not([data-swup-persist=""])'),n=t.containers.map(o=>{const l=document.querySelector(o),a=i.querySelector(o);return l&&a?(l.replaceWith(a.cloneNode(!0)),!0):(l||console.warn(`[swup] Container missing in current document: ${o}`),a||console.warn(`[swup] Container missing in incoming document: ${o}`),!1)}).filter(Boolean);return s.forEach(o=>{const l=o.getAttribute("data-swup-persist"),a=hi(`[data-swup-persist="${l}"]`);a&&a!==o&&a.replaceWith(o)}),n.length===t.containers.length},hn=function(t){const e={behavior:"auto"},{target:i,reset:r}=t.scroll,s=i!=null?i:t.to.hash;let n=!1;return s&&(n=this.hooks.callSync("scroll:anchor",t,{hash:s,options:e},(o,{hash:l,options:a})=>{const h=this.getAnchorElement(l);return h&&h.scrollIntoView(a),!!h})),r&&!n&&(n=this.hooks.callSync("scroll:top",t,{options:e},(o,{options:l})=>(window.scrollTo(j({top:0,left:0},l)),!0))),n},cn=function(t){return Z(this,null,function*(){if(t.done)return;const e=this.hooks.call("animation:in:await",t,{skip:!1},(i,{skip:r})=>{if(!r)return this.awaitAnimations({selector:i.animation.selector})});yield kr(),yield this.hooks.call("animation:in:start",t,void 0,()=>{this.classes.remove("is-animating")}),yield e,yield this.hooks.call("animation:in:end",t,void 0)})},un=function(t,e){return Z(this,null,function*(){if(t.done)return;t.advance(6);const{url:i}=e;this.isSameResolvedUrl(Ht(),i)||(te(i),this.location=K.fromUrl(i),t.to.url=this.location.url,t.to.hash=this.location.hash),yield this.hooks.call("content:replace",t,{page:e},(r,{})=>{if(this.classes.remove("is-leaving"),r.animation.animate&&this.classes.add("is-rendering"),!this.replaceContent(r))throw new Error("[swup] Container mismatch, aborting");r.animation.animate&&(this.classes.add("is-changing","is-animating","is-rendering"),r.animation.name&&this.classes.add(`to-${Ir(r.animation.name)}`))}),yield this.hooks.call("content:scroll",t,void 0,()=>this.scrollToContent(t)),yield this.hooks.call("page:view",t,{url:this.location.url,title:document.title})})},dn=function(t){var e;if(e=t,!!(e!=null&&e.isSwupPlugin)){if(t.swup=this,!t._checkRequirements||t._checkRequirements())return t._beforeMount&&t._beforeMount(),t.mount(),this.plugins.push(t),this.plugins}else console.error("Not a swup plugin instance",t)};function fn(t){const e=this.findPlugin(t);if(e)return e.unmount(),e._afterUnmount&&e._afterUnmount(),this.plugins=this.plugins.filter(i=>i!==e),this.plugins;console.error("No such plugin",e)}function pn(t){return this.plugins.find(e=>e===t||e.name===t||e.name===`Swup${String(t)}`)}function vn(t){if(typeof this.options.resolveUrl!="function")return console.warn("[swup] options.resolveUrl expects a callback function."),t;const e=this.options.resolveUrl(t);return e&&typeof e=="string"?e.startsWith("//")||e.startsWith("http")?(console.warn("[swup] options.resolveUrl needs to return a relative url"),t):e:(console.warn("[swup] options.resolveUrl needs to return a url"),t)}function mn(t,e){return this.resolveUrl(t)===this.resolveUrl(e)}const _n={animateHistoryBrowsing:!1,animationSelector:'[class*="transition-"]',animationScope:"html",cache:!0,containers:["#swup"],hooks:{},ignoreVisit:(t,{el:e}={})=>!(e==null||!e.closest("[data-no-swup]")),linkSelector:"a[href]",linkToSelf:"scroll",native:!1,plugins:[],resolveUrl:t=>t,requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"},skipPopStateHandling:t=>{var e;return((e=t.state)==null?void 0:e.source)!=="swup"},timeout:0};class gn{get currentPageUrl(){return this.location.url}constructor(e={}){var i,r;this.version="4.8.1",this.options=void 0,this.defaults=_n,this.plugins=[],this.visit=void 0,this.cache=void 0,this.hooks=void 0,this.classes=void 0,this.location=K.fromUrl(window.location.href),this.currentHistoryIndex=void 0,this.clickDelegate=void 0,this.navigating=!1,this.onVisitEnd=void 0,this.use=dn,this.unuse=fn,this.findPlugin=pn,this.log=()=>{},this.navigate=nn,this.performNavigation=on,this.createVisit=tn,this.delegateEvent=js,this.fetchPage=Zs,this.awaitAnimations=sn,this.renderPage=un,this.replaceContent=ln,this.animatePageIn=cn,this.animatePageOut=an,this.scrollToContent=hn,this.getAnchorElement=rn,this.getCurrentUrl=Ht,this.resolveUrl=vn,this.isSameResolvedUrl=mn,this.options=j({},this.defaults,e),this.handleLinkClick=this.handleLinkClick.bind(this),this.handlePopState=this.handlePopState.bind(this),this.cache=new Qs(this),this.classes=new Js(this),this.hooks=new en(this),this.visit=this.createVisit({to:""}),this.currentHistoryIndex=(i=(r=window.history.state)==null?void 0:r.index)!=null?i:1,this.enable()}enable(){return Z(this,null,function*(){var e;const{linkSelector:i}=this.options;this.clickDelegate=this.delegateEvent(i,"click",this.handleLinkClick),window.addEventListener("popstate",this.handlePopState),this.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),this.options.native=this.options.native&&!!document.startViewTransition,this.options.plugins.forEach(r=>this.use(r));for(const[r,s]of Object.entries(this.options.hooks)){const[n,o]=this.hooks.parseName(r);this.hooks.on(n,s,o)}((e=window.history.state)==null?void 0:e.source)!=="swup"&&te(null,{index:this.currentHistoryIndex}),yield kr(),yield this.hooks.call("enable",void 0,void 0,()=>{const r=document.documentElement;r.classList.add("swup-enabled"),r.classList.toggle("swup-native",this.options.native)})})}destroy(){return Z(this,null,function*(){this.clickDelegate.destroy(),window.removeEventListener("popstate",this.handlePopState),this.cache.clear(),this.options.plugins.forEach(e=>this.unuse(e)),yield this.hooks.call("disable",void 0,void 0,()=>{const e=document.documentElement;e.classList.remove("swup-enabled"),e.classList.remove("swup-native")}),this.hooks.clear()})}shouldIgnoreVisit(e,{el:i,event:r}={}){const{origin:s,url:n,hash:o}=K.fromUrl(e);return s!==window.location.origin||!(!i||!this.triggerWillOpenNewWindow(i))||!!this.options.ignoreVisit(n+o,{el:i,event:r})}handleLinkClick(e){const i=e.delegateTarget,{href:r,url:s,hash:n}=K.fromElement(i);if(this.shouldIgnoreVisit(r,{el:i,event:e}))return;if(this.navigating&&s===this.visit.to.url)return void e.preventDefault();const o=this.createVisit({to:s,hash:n,el:i,event:e});e.metaKey||e.ctrlKey||e.shiftKey||e.altKey?this.hooks.callSync("link:newtab",o,{href:r}):e.button===0&&this.hooks.callSync("link:click",o,{el:i,event:e},()=>{var l;const a=(l=o.from.url)!=null?l:"";e.preventDefault(),s&&s!==a?this.isSameResolvedUrl(s,a)||this.performNavigation(o):n?this.hooks.callSync("link:anchor",o,{hash:n},()=>{te(s+n),this.scrollToContent(o)}):this.hooks.callSync("link:self",o,void 0,()=>{this.options.linkToSelf==="navigate"?this.performNavigation(o):(te(s),this.scrollToContent(o))})})}handlePopState(e){var i,r,s,n;const o=(i=(r=e.state)==null?void 0:r.url)!=null?i:window.location.href;if(this.options.skipPopStateHandling(e)||this.isSameResolvedUrl(Ht(),this.location.url))return;const{url:l,hash:a}=K.fromUrl(o),h=this.createVisit({to:l,hash:a,event:e});h.history.popstate=!0;const c=(s=(n=e.state)==null?void 0:n.index)!=null?s:0;c&&c!==this.currentHistoryIndex&&(h.history.direction=c-this.currentHistoryIndex>0?"forwards":"backwards",this.currentHistoryIndex=c),h.animation.animate=!1,h.scroll.reset=!1,h.scroll.target=!1,this.options.animateHistoryBrowsing&&(h.animation.animate=!0,h.scroll.reset=!0),this.hooks.callSync("history:popstate",h,{event:e},()=>{this.performNavigation(h)})}triggerWillOpenNewWindow(e){return!!e.matches('[download], [target="_blank"]')}}function ee(){return ee=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},ee.apply(this,arguments)}const Yi=t=>String(t).split(".").map(e=>String(parseInt(e||"0",10))).concat(["0","0"]).slice(0,3).join(".");let yn=class{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(e=>e()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return typeof this.requires!="object"||Object.entries(this.requires).forEach(([e,i])=>{if(!function(r,s,n){const o=function(l,a){var h;if(l==="swup")return(h=a.version)!=null?h:"";{var c;const d=a.findPlugin(l);return(c=d==null?void 0:d.version)!=null?c:""}}(r,n);return!!o&&((l,a)=>a.every(h=>{const[,c,d]=h.match(/^([\D]+)?(.*)$/)||[];var v,y;return((g,u)=>{const f={"":m=>m===0,">":m=>m>0,">=":m=>m>=0,"<":m=>m<0,"<=":m=>m<=0};return(f[u]||f[""])(g)})((y=d,v=Yi(v=l),y=Yi(y),v.localeCompare(y,void 0,{numeric:!0})),c||">=")}))(o,s)}(e,i=Array.isArray(i)?i:[i],this.swup)){const r=`${e} ${i.join(", ")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${r}`)}}),!0}on(e,i,r={}){var s;i=!(s=i).name.startsWith("bound ")||s.hasOwnProperty("prototype")?i.bind(this):i;const n=this.swup.hooks.on(e,i,r);return this.handlersToUnregister.push(n),n}once(e,i,r={}){return this.on(e,i,ee({},r,{once:!0}))}before(e,i,r={}){return this.on(e,i,ee({},r,{before:!0}))}replace(e,i,r={}){return this.on(e,i,ee({},r,{replace:!0}))}off(e,i){return this.swup.hooks.off(e,i)}};function De(){return De=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)({}).hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},De.apply(null,arguments)}function Wi(){return window.matchMedia("(hover: hover)").matches}function Se(t){return!!t&&(t instanceof HTMLAnchorElement||t instanceof SVGAElement)}const Xi=window.requestIdleCallback||(t=>setTimeout(t,1)),Sn=["preloadVisibleLinks"];let wn=class extends yn{constructor(e={}){var i;super(),i=this,this.name="SwupPreloadPlugin",this.requires={swup:">=4.5"},this.defaults={throttle:5,preloadInitialPage:!0,preloadHoveredLinks:!0,preloadVisibleLinks:{enabled:!1,threshold:.2,delay:500,containers:["body"],ignore:()=>!1}},this.options=void 0,this.queue=void 0,this.preloadObserver=void 0,this.preloadPromises=new Map,this.mouseEnterDelegate=void 0,this.touchStartDelegate=void 0,this.focusDelegate=void 0,this.onPageLoad=(n,o,l)=>{const{url:a}=n.to;return a&&this.preloadPromises.has(a)?this.preloadPromises.get(a):l(n,o)},this.onMouseEnter=function(n){return Z(this,null,function*(){if(n.target!==n.delegateTarget||!Wi())return;const o=n.delegateTarget;if(!Se(o))return;const{url:l,hash:a}=K.fromElement(o),h=i.swup.createVisit({to:l,hash:a,el:o,event:n});i.swup.hooks.callSync("link:hover",h,{el:o,event:n}),i.preload(o,{priority:!0})})},this.onTouchStart=n=>{if(Wi())return;const o=n.delegateTarget;Se(o)&&this.preload(o,{priority:!0})},this.onFocus=n=>{const o=n.delegateTarget;Se(o)&&this.preload(o,{priority:!0})};const{preloadVisibleLinks:r}=e,s=function(n,o){if(n==null)return{};var l={};for(var a in n)if({}.hasOwnProperty.call(n,a)){if(o.includes(a))continue;l[a]=n[a]}return l}(e,Sn);this.options=De({},this.defaults,s),typeof r=="object"?this.options.preloadVisibleLinks=De({},this.options.preloadVisibleLinks,{enabled:!0},r):this.options.preloadVisibleLinks.enabled=!!r,this.preload=this.preload.bind(this),this.queue=function(n=1){const o=[],l=[];let a=0,h=0;function c(){h<n&&a>0&&((l.shift()||o.shift()||(()=>{}))(),a--,h++)}return{add:function(d,v=!1){if(d.__queued){if(!v)return;{const y=o.indexOf(d);if(y>=0){const g=o.splice(y,1);a-=g.length}}}d.__queued=!0,(v?l:o).push(d),a++,a<=1&&c()},next:function(){h--,c()}}}(this.options.throttle)}mount(){const e=this.swup;e.options.cache?(e.hooks.create("page:preload"),e.hooks.create("link:hover"),e.preload=this.preload,e.preloadLinks=this.preloadLinks,this.replace("page:load",this.onPageLoad),this.preloadLinks(),this.on("page:view",()=>this.preloadLinks()),this.options.preloadVisibleLinks.enabled&&(this.preloadVisibleLinks(),this.on("page:view",()=>this.preloadVisibleLinks())),this.options.preloadHoveredLinks&&this.preloadLinksOnAttention(),this.options.preloadInitialPage&&this.preload(Ht())):console.warn("SwupPreloadPlugin: swup cache needs to be enabled for preloading")}unmount(){var e,i,r;this.swup.preload=void 0,this.swup.preloadLinks=void 0,this.preloadPromises.clear(),(e=this.mouseEnterDelegate)==null||e.destroy(),(i=this.touchStartDelegate)==null||i.destroy(),(r=this.focusDelegate)==null||r.destroy(),this.stopPreloadingVisibleLinks()}preload(r){return Z(this,arguments,function*(e,i={}){var s;let n,o;const l=(s=i.priority)!=null&&s;if(Array.isArray(e))return Promise.all(e.map(h=>this.preload(h)));if(Se(e))o=e,{href:n}=K.fromElement(e);else{if(typeof e!="string")return;n=e}if(!n)return;if(this.swup.cache.has(n))return this.swup.cache.get(n);if(this.preloadPromises.has(n))return this.preloadPromises.get(n);if(!this.shouldPreload(n,{el:o}))return;const a=new Promise(h=>{this.queue.add(()=>{this.performPreload(n).catch(()=>{}).then(c=>h(c)).finally(()=>{this.queue.next(),this.preloadPromises.delete(n)})},l)});return this.preloadPromises.set(n,a),a})}preloadLinks(){Xi(()=>{Array.from(document.querySelectorAll("a[data-swup-preload], [data-swup-preload-all] a")).forEach(e=>this.preload(e))})}preloadLinksOnAttention(){const{swup:e}=this,{linkSelector:i}=e.options,r={passive:!0,capture:!0};this.mouseEnterDelegate=e.delegateEvent(i,"mouseenter",this.onMouseEnter,r),this.touchStartDelegate=e.delegateEvent(i,"touchstart",this.onTouchStart,r),this.focusDelegate=e.delegateEvent(i,"focus",this.onFocus,r)}preloadVisibleLinks(){if(this.preloadObserver)return void this.preloadObserver.update();const{threshold:e,delay:i,containers:r}=this.options.preloadVisibleLinks;this.preloadObserver=function({threshold:s,delay:n,containers:o,callback:l,filter:a}){const h=new Map,c=new IntersectionObserver(g=>{g.forEach(u=>{u.isIntersecting?d(u.target):v(u.target)})},{threshold:s}),d=g=>{var u;const{href:f}=K.fromElement(g),m=(u=h.get(f))!=null?u:new Set;h.set(f,m),m.add(g),setTimeout(()=>{const p=h.get(f);p!=null&&p.size&&(l(g),c.unobserve(g),p.delete(g))},n)},v=g=>{var u;const{href:f}=K.fromElement(g);(u=h.get(f))==null||u.delete(g)},y=()=>{Xi(()=>{const g=o.map(u=>`${u} a[*|href]`).join(", ");Array.from(document.querySelectorAll(g)).filter(u=>a(u)).forEach(u=>c.observe(u))})};return{start:()=>y(),stop:()=>c.disconnect(),update:()=>(h.clear(),y())}}({threshold:e,delay:i,containers:r,callback:s=>this.preload(s),filter:s=>{if(this.options.preloadVisibleLinks.ignore(s)||!s.matches(this.swup.options.linkSelector))return!1;const{href:n}=K.fromElement(s);return this.shouldPreload(n,{el:s})}}),this.preloadObserver.start()}stopPreloadingVisibleLinks(){this.preloadObserver&&this.preloadObserver.stop()}shouldPreload(e,{el:i}={}){const{url:r,href:s}=K.fromUrl(e);return!(!function(){if(navigator.connection){var n;if(navigator.connection.saveData||(n=navigator.connection.effectiveType)!=null&&n.endsWith("2g"))return!1}return!0}()||this.swup.cache.has(r)||this.preloadPromises.has(r)||this.swup.shouldIgnoreVisit(s,{el:i})||i&&this.swup.resolveUrl(r)===this.swup.resolveUrl(Ht()))}performPreload(e){return Z(this,null,function*(){var i=this;const{url:r}=K.fromUrl(e),s=this.swup.createVisit({to:r});return yield this.swup.hooks.call("page:preload",s,{url:r},function(o,l){return Z(this,null,function*(){return l.page=yield i.swup.fetchPage(e,{visit:o}),l.page})})})}};var bn="1.1.20";function Pr(t,e,i){return Math.max(t,Math.min(e,i))}function En(t,e,i){return(1-i)*t+i*e}function Tn(t,e,i,r){return En(t,e,1-Math.exp(-i*r))}function An(t,e){return(t%e+e)%e}var In=class{constructor(){I(this,"isRunning",!1);I(this,"value",0);I(this,"from",0);I(this,"to",0);I(this,"currentTime",0);I(this,"lerp");I(this,"duration");I(this,"easing");I(this,"onUpdate")}advance(t){var i;if(!this.isRunning)return;let e=!1;if(this.duration&&this.easing){this.currentTime+=t;const r=Pr(0,this.currentTime/this.duration,1);e=r>=1;const s=e?1:this.easing(r);this.value=this.from+(this.to-this.from)*s}else this.lerp?(this.value=Tn(this.value,this.to,this.lerp*60,t),Math.round(this.value)===this.to&&(this.value=this.to,e=!0)):(this.value=this.to,e=!0);e&&this.stop(),(i=this.onUpdate)==null||i.call(this,this.value,e)}stop(){this.isRunning=!1}fromTo(t,e,{lerp:i,duration:r,easing:s,onStart:n,onUpdate:o}){this.from=this.value=t,this.to=e,this.lerp=i,this.duration=r,this.easing=s,this.currentTime=0,this.isRunning=!0,n==null||n(),this.onUpdate=o}};function kn(t,e){let i;return function(...r){let s=this;clearTimeout(i),i=setTimeout(()=>{i=void 0,t.apply(s,r)},e)}}var Dn=class{constructor(t,e,{autoResize:i=!0,debounce:r=250}={}){I(this,"width",0);I(this,"height",0);I(this,"scrollHeight",0);I(this,"scrollWidth",0);I(this,"debouncedResize");I(this,"wrapperResizeObserver");I(this,"contentResizeObserver");I(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});I(this,"onWrapperResize",()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});I(this,"onContentResize",()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=t,this.content=e,i&&(this.debouncedResize=kn(this.resize,r),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var t,e;(t=this.wrapperResizeObserver)==null||t.disconnect(),(e=this.contentResizeObserver)==null||e.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},Rr=class{constructor(){I(this,"events",{})}emit(e,...i){var s;let r=this.events[e]||[];for(let n=0,o=r.length;n<o;n++)(s=r[n])==null||s.call(r,...i)}on(e,i){var r;return(r=this.events[e])!=null&&r.push(i)||(this.events[e]=[i]),()=>{var s;this.events[e]=(s=this.events[e])==null?void 0:s.filter(n=>i!==n)}}off(e,i){var r;this.events[e]=(r=this.events[e])==null?void 0:r.filter(s=>i!==s)}destroy(){this.events={}}},$i=100/6,It={passive:!1},Ln=class{constructor(t,e={wheelMultiplier:1,touchMultiplier:1}){I(this,"touchStart",{x:0,y:0});I(this,"lastDelta",{x:0,y:0});I(this,"window",{width:0,height:0});I(this,"emitter",new Rr);I(this,"onTouchStart",t=>{const{clientX:e,clientY:i}=t.targetTouches?t.targetTouches[0]:t;this.touchStart.x=e,this.touchStart.y=i,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:t})});I(this,"onTouchMove",t=>{const{clientX:e,clientY:i}=t.targetTouches?t.targetTouches[0]:t,r=-(e-this.touchStart.x)*this.options.touchMultiplier,s=-(i-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=e,this.touchStart.y=i,this.lastDelta={x:r,y:s},this.emitter.emit("scroll",{deltaX:r,deltaY:s,event:t})});I(this,"onTouchEnd",t=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:t})});I(this,"onWheel",t=>{let{deltaX:e,deltaY:i,deltaMode:r}=t;const s=r===1?$i:r===2?this.window.width:1,n=r===1?$i:r===2?this.window.height:1;e*=s,i*=n,e*=this.options.wheelMultiplier,i*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:e,deltaY:i,event:t})});I(this,"onWindowResize",()=>{this.window={width:window.innerWidth,height:window.innerHeight}});this.element=t,this.options=e,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,It),this.element.addEventListener("touchstart",this.onTouchStart,It),this.element.addEventListener("touchmove",this.onTouchMove,It),this.element.addEventListener("touchend",this.onTouchEnd,It)}on(t,e){return this.emitter.on(t,e)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,It),this.element.removeEventListener("touchstart",this.onTouchStart,It),this.element.removeEventListener("touchmove",this.onTouchMove,It),this.element.removeEventListener("touchend",this.onTouchEnd,It)}},Pn=class{constructor({wrapper:t=window,content:e=document.documentElement,eventsTarget:i=t,smoothWheel:r=!0,syncTouch:s=!1,syncTouchLerp:n=.075,touchInertiaMultiplier:o=35,duration:l,easing:a=A=>Math.min(1,1.001-Math.pow(2,-10*A)),lerp:h=.1,infinite:c=!1,orientation:d="vertical",gestureOrientation:v="vertical",touchMultiplier:y=1,wheelMultiplier:g=1,autoResize:u=!0,prevent:f,virtualScroll:m,overscroll:p=!0,autoRaf:_=!1,anchors:S=!1,__experimental__naiveDimensions:T=!1}={}){I(this,"_isScrolling",!1);I(this,"_isStopped",!1);I(this,"_isLocked",!1);I(this,"_preventNextNativeScrollEvent",!1);I(this,"_resetVelocityTimeout",null);I(this,"__rafID",null);I(this,"isTouching");I(this,"time",0);I(this,"userData",{});I(this,"lastVelocity",0);I(this,"velocity",0);I(this,"direction",0);I(this,"options");I(this,"targetScroll");I(this,"animatedScroll");I(this,"animate",new In);I(this,"emitter",new Rr);I(this,"dimensions");I(this,"virtualScroll");I(this,"onScrollEnd",t=>{t instanceof CustomEvent||(this.isScrolling==="smooth"||this.isScrolling===!1)&&t.stopPropagation()});I(this,"dispatchScrollendEvent",()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))});I(this,"onClick",t=>{const i=t.composedPath().find(r=>{var s;return r instanceof HTMLAnchorElement&&((s=r.getAttribute("href"))==null?void 0:s.startsWith("#"))});if(i){const r=i.getAttribute("href");if(r){const s=typeof this.options.anchors=="object"&&this.options.anchors?this.options.anchors:void 0;this.scrollTo(r,s)}}});I(this,"onPointerDown",t=>{t.button===1&&this.reset()});I(this,"onVirtualScroll",t=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(t)===!1)return;const{deltaX:e,deltaY:i,event:r}=t;if(this.emitter.emit("virtual-scroll",{deltaX:e,deltaY:i,event:r}),r.ctrlKey||r.lenisStopPropagation)return;const s=r.type.includes("touch"),n=r.type.includes("wheel");this.isTouching=r.type==="touchstart"||r.type==="touchmove";const o=e===0&&i===0;if(this.options.syncTouch&&s&&r.type==="touchstart"&&o&&!this.isStopped&&!this.isLocked){this.reset();return}const a=this.options.gestureOrientation==="vertical"&&i===0||this.options.gestureOrientation==="horizontal"&&e===0;if(o||a)return;let h=r.composedPath();h=h.slice(0,h.indexOf(this.rootElement));const c=this.options.prevent;if(h.find(f=>{var m,p,_;return f instanceof HTMLElement&&(typeof c=="function"&&(c==null?void 0:c(f))||((m=f.hasAttribute)==null?void 0:m.call(f,"data-lenis-prevent"))||s&&((p=f.hasAttribute)==null?void 0:p.call(f,"data-lenis-prevent-touch"))||n&&((_=f.hasAttribute)==null?void 0:_.call(f,"data-lenis-prevent-wheel")))}))return;if(this.isStopped||this.isLocked){r.preventDefault();return}if(!(this.options.syncTouch&&s||this.options.smoothWheel&&n)){this.isScrolling="native",this.animate.stop(),r.lenisStopPropagation=!0;return}let v=i;this.options.gestureOrientation==="both"?v=Math.abs(i)>Math.abs(e)?i:e:this.options.gestureOrientation==="horizontal"&&(v=e),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&i>0||this.animatedScroll===this.limit&&i<0))&&(r.lenisStopPropagation=!0),r.preventDefault();const y=s&&this.options.syncTouch,u=s&&r.type==="touchend"&&Math.abs(v)>5;u&&(v=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+v,Jt({programmatic:!1},y?{lerp:u?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))});I(this,"onNativeScroll",()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){const t=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-t,this.direction=Math.sign(this.animatedScroll-t),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}});I(this,"raf",t=>{const e=t-(this.time||t);this.time=t,this.animate.advance(e*.001),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))});window.lenisVersion=bn,(!t||t===document.documentElement)&&(t=window),this.options={wrapper:t,content:e,eventsTarget:i,smoothWheel:r,syncTouch:s,syncTouchLerp:n,touchInertiaMultiplier:o,duration:l,easing:a,lerp:h,infinite:c,gestureOrientation:v,orientation:d,touchMultiplier:y,wheelMultiplier:g,autoResize:u,prevent:f,virtualScroll:m,overscroll:p,autoRaf:_,anchors:S,__experimental__naiveDimensions:T},this.dimensions=new Dn(t,e,{autoResize:u}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new Ln(i,{touchMultiplier:y,wheelMultiplier:g}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this.__rafID&&cancelAnimationFrame(this.__rafID)}on(t,e){return this.emitter.on(t,e)}off(t,e){return this.emitter.off(t,e)}setScroll(t){this.isHorizontal?this.options.wrapper.scrollTo({left:t,behavior:"instant"}):this.options.wrapper.scrollTo({top:t,behavior:"instant"})}resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.reset(),this.isStopped=!1)}stop(){this.isStopped||(this.reset(),this.isStopped=!0)}scrollTo(t,{offset:e=0,immediate:i=!1,lock:r=!1,duration:s=this.options.duration,easing:n=this.options.easing,lerp:o=this.options.lerp,onStart:l,onComplete:a,force:h=!1,programmatic:c=!0,userData:d}={}){if(!((this.isStopped||this.isLocked)&&!h)){if(typeof t=="string"&&["top","left","start"].includes(t))t=0;else if(typeof t=="string"&&["bottom","right","end"].includes(t))t=this.limit;else{let v;if(typeof t=="string"?v=document.querySelector(t):t instanceof HTMLElement&&(t!=null&&t.nodeType)&&(v=t),v){if(this.options.wrapper!==window){const g=this.rootElement.getBoundingClientRect();e-=this.isHorizontal?g.left:g.top}const y=v.getBoundingClientRect();t=(this.isHorizontal?y.left:y.top)+this.animatedScroll}}if(typeof t=="number"){if(t+=e,t=Math.round(t),this.options.infinite?c&&(this.targetScroll=this.animatedScroll=this.scroll):t=Pr(0,t,this.limit),t===this.targetScroll){l==null||l(this),a==null||a(this);return}if(this.userData=d!=null?d:{},i){this.animatedScroll=this.targetScroll=t,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),a==null||a(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}c||(this.targetScroll=t),this.animate.fromTo(this.animatedScroll,t,{duration:s,easing:n,lerp:o,onStart:()=>{r&&(this.isLocked=!0),this.isScrolling="smooth",l==null||l(this)},onUpdate:(v,y)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=v-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=v,this.setScroll(this.scroll),c&&(this.targetScroll=v),y||this.emit(),y&&(this.reset(),this.emit(),a==null||a(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){var e,i;const t=this.options.wrapper;return this.isHorizontal?(e=t.scrollX)!=null?e:t.scrollLeft:(i=t.scrollY)!=null?i:t.scrollTop}get scroll(){return this.options.infinite?An(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(t){this._isScrolling!==t&&(this._isScrolling=t,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(t){this._isStopped!==t&&(this._isStopped=t,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(t){this._isLocked!==t&&(this._isLocked=t,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let t="lenis";return this.isStopped&&(t+=" lenis-stopped"),this.isLocked&&(t+=" lenis-locked"),this.isScrolling&&(t+=" lenis-scrolling"),this.isScrolling==="smooth"&&(t+=" lenis-smooth"),t}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};function ci(){return ci=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)({}).hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},ci.apply(null,arguments)}class Ui{constructor({scrollElements:e,rootMargin:i="-1px -1px -1px -1px",IORaf:r}){this.scrollElements=void 0,this.rootMargin=void 0,this.IORaf=void 0,this.observer=void 0,this.scrollElements=e,this.rootMargin=i,this.IORaf=r,this._init()}_init(){this.observer=new IntersectionObserver(e=>{e.forEach(i=>{const r=this.scrollElements.find(s=>s.$el===i.target);i.isIntersecting?(r&&(r.isAlreadyIntersected=!0),this._setInview(i)):r&&r.isAlreadyIntersected&&this._setOutOfView(i)})},{rootMargin:this.rootMargin});for(const e of this.scrollElements)this.observe(e.$el)}destroy(){this.observer.disconnect()}observe(e){e&&this.observer.observe(e)}unobserve(e){e&&this.observer.unobserve(e)}_setInview(e){const i=this.scrollElements.find(r=>r.$el===e.target);this.IORaf&&(i==null||i.setInteractivityOn()),!this.IORaf&&(i==null||i.setInview())}_setOutOfView(e){const i=this.scrollElements.find(r=>r.$el===e.target);this.IORaf&&(i==null||i.setInteractivityOff()),!this.IORaf&&(i==null||i.setOutOfView()),i!=null&&i.attributes.scrollRepeat||this.IORaf||this.unobserve(e.target)}}function Gi(t,e,i,r,s){return i+((s-t)/(e-t)*(r-i)||0)}function ji(t,e){return t.reduce((i,r)=>Math.abs(r-e)<Math.abs(i-e)?r:i)}class Rn{constructor({$el:e,id:i,modularInstance:r,subscribeElementUpdateFn:s,unsubscribeElementUpdateFn:n,needRaf:o,scrollOrientation:l}){var a,h,c,d,v,y;this.$el=void 0,this.id=void 0,this.needRaf=void 0,this.attributes=void 0,this.scrollOrientation=void 0,this.isAlreadyIntersected=void 0,this.intersection=void 0,this.metrics=void 0,this.currentScroll=void 0,this.translateValue=void 0,this.progress=void 0,this.lastProgress=void 0,this.modularInstance=void 0,this.progressModularModules=void 0,this.isInview=void 0,this.isInteractive=void 0,this.isInFold=void 0,this.isFirstResize=void 0,this.subscribeElementUpdateFn=void 0,this.unsubscribeElementUpdateFn=void 0,this.$el=e,this.id=i,this.needRaf=o,this.scrollOrientation=l,this.modularInstance=r,this.subscribeElementUpdateFn=s,this.unsubscribeElementUpdateFn=n,this.attributes={scrollClass:(a=this.$el.dataset.scrollClass)!=null?a:"is-inview",scrollOffset:(h=this.$el.dataset.scrollOffset)!=null?h:"0,0",scrollPosition:(c=this.$el.dataset.scrollPosition)!=null?c:"start,end",scrollModuleProgress:this.$el.dataset.scrollModuleProgress!=null,scrollCssProgress:this.$el.dataset.scrollCssProgress!=null,scrollEventProgress:(d=this.$el.dataset.scrollEventProgress)!=null?d:null,scrollSpeed:this.$el.dataset.scrollSpeed!=null?parseFloat(this.$el.dataset.scrollSpeed):null,scrollParallaxSideways:this.$el.dataset.scrollParallaxSideways!=null,scrollParallaxClamp:(v=this.$el.dataset.scrollParallaxClamp)!=null?v:null,scrollRepeat:this.$el.dataset.scrollRepeat!=null,scrollCall:(y=this.$el.dataset.scrollCall)!=null?y:null,scrollCallSelf:this.$el.dataset.scrollCallSelf!=null,scrollIgnoreFold:this.$el.dataset.scrollIgnoreFold!=null,scrollEnableTouchSpeed:this.$el.dataset.scrollEnableTouchSpeed!=null},this.intersection={start:0,end:0},this.metrics={offsetStart:0,offsetEnd:0,bcr:{}},this.currentScroll=this.scrollOrientation==="vertical"?window.scrollY:window.scrollX,this.translateValue=0,this.progress=0,this.lastProgress=null,this.progressModularModules=[],this.isInview=!1,this.isInteractive=!1,this.isAlreadyIntersected=!1,this.isInFold=!1,this.isFirstResize=!0,this._init()}_init(){this.needRaf&&(this.modularInstance&&this.attributes.scrollModuleProgress&&this._getProgressModularModules(),this._resize())}onResize({currentScroll:e}){this.currentScroll=e,this._resize()}onRender({currentScroll:e,smooth:i}){const r=this.scrollOrientation==="vertical"?window.innerHeight:window.innerWidth;if(this.currentScroll=e,this._computeProgress(),this.attributes.scrollSpeed&&!isNaN(this.attributes.scrollSpeed))if(this.attributes.scrollEnableTouchSpeed||i){if(this.isInFold){const s=Math.max(0,this.progress);this.translateValue=s*r*this.attributes.scrollSpeed*-1}else{let s=Gi(0,1,-1,1,this.progress);switch(this.attributes.scrollParallaxClamp){case"+":s=Math.max(s,0);break;case"-":s=Math.min(s,0)}this.translateValue=s*r*this.attributes.scrollSpeed*-1}this.$el.style.transform=`translate3d(${this.scrollOrientation==="vertical"?this.attributes.scrollParallaxSideways?`${this.translateValue}px, 0`:`0, ${this.translateValue}px`:this.attributes.scrollParallaxSideways?`0, ${this.translateValue}px`:`${this.translateValue}px, 0`}, 0)`}else this.translateValue&&(this.$el.style.transform="translate3d(0, 0, 0)"),this.translateValue=0}setInview(){if(this.isInview)return;this.isInview=!0,this.$el.classList.add(this.attributes.scrollClass);const e=this._getScrollCallFrom();this.attributes.scrollCall&&this._dispatchCall("enter",e)}setOutOfView(){if(!this.isInview||!this.attributes.scrollRepeat)return;this.isInview=!1,this.$el.classList.remove(this.attributes.scrollClass);const e=this._getScrollCallFrom();this.attributes.scrollCall&&this._dispatchCall("leave",e)}setInteractivityOn(){this.isInteractive||(this.isInteractive=!0,this.subscribeElementUpdateFn(this))}setInteractivityOff(){this.isInteractive&&(this.isInteractive=!1,this.unsubscribeElementUpdateFn(this),this.lastProgress!=null&&this._computeProgress(ji([0,1],this.lastProgress)))}_resize(){this.metrics.bcr=this.$el.getBoundingClientRect(),this._computeMetrics(),this._computeIntersection(),this.isFirstResize&&(this.isFirstResize=!1,this.isInFold&&this.setInview())}_computeMetrics(){const{top:e,left:i,height:r,width:s}=this.metrics.bcr,n=this.scrollOrientation==="vertical"?window.innerHeight:window.innerWidth,o=this.scrollOrientation==="vertical"?r:s;this.metrics.offsetStart=this.currentScroll+(this.scrollOrientation==="vertical"?e:i)-this.translateValue,this.metrics.offsetEnd=this.metrics.offsetStart+o,this.isInFold=this.metrics.offsetStart<n&&!this.attributes.scrollIgnoreFold}_computeIntersection(){const e=this.scrollOrientation==="vertical"?window.innerHeight:window.innerWidth,i=this.scrollOrientation==="vertical"?this.metrics.bcr.height:this.metrics.bcr.width,r=this.attributes.scrollOffset.split(","),s=r[0]!=null?r[0].trim():"0",n=r[1]!=null?r[1].trim():"0",o=this.attributes.scrollPosition.split(",");let l=o[0]!=null?o[0].trim():"start";const a=o[1]!=null?o[1].trim():"end",h=s.includes("%")?e*parseInt(s.replace("%","").trim())*.01:parseInt(s),c=n.includes("%")?e*parseInt(n.replace("%","").trim())*.01:parseInt(n);switch(this.isInFold&&(l="fold"),l){case"start":default:this.intersection.start=this.metrics.offsetStart-e+h;break;case"middle":this.intersection.start=this.metrics.offsetStart-e+h+.5*i;break;case"end":this.intersection.start=this.metrics.offsetStart-e+h+i;break;case"fold":this.intersection.start=0}switch(a){case"start":this.intersection.end=this.metrics.offsetStart-c;break;case"middle":this.intersection.end=this.metrics.offsetStart-c+.5*i;break;default:this.intersection.end=this.metrics.offsetStart-c+i}if(this.intersection.end<=this.intersection.start)switch(a){case"start":default:this.intersection.end=this.intersection.start+1;break;case"middle":this.intersection.end=this.intersection.start+.5*i;break;case"end":this.intersection.end=this.intersection.start+i}}_computeProgress(e){const i=e!=null?e:(r=Gi(this.intersection.start,this.intersection.end,0,1,this.currentScroll))<0?0:r>1?1:r;var r;if(this.progress=i,i!=this.lastProgress){if(this.lastProgress=i,this.attributes.scrollCssProgress&&this._setCssProgress(i),this.attributes.scrollEventProgress&&this._setCustomEventProgress(i),this.attributes.scrollModuleProgress)for(const s of this.progressModularModules)this.modularInstance&&this.modularInstance.call("onScrollProgress",i,s.moduleName,s.moduleId);i>0&&i<1&&this.setInview(),i===0&&this.setOutOfView(),i===1&&this.setOutOfView()}}_setCssProgress(e=0){this.$el.style.setProperty("--progress",e.toString())}_setCustomEventProgress(e=0){const i=this.attributes.scrollEventProgress;if(!i)return;const r=new CustomEvent(i,{detail:{target:this.$el,progress:e}});window.dispatchEvent(r)}_getProgressModularModules(){if(!this.modularInstance)return;const e=Object.keys(this.$el.dataset).filter(r=>r.includes("module")),i=Object.entries(this.modularInstance.modules);if(e.length)for(const r of e){const s=this.$el.dataset[r];if(!s)return;for(const n of i){const[o,l]=n;s in l&&this.progressModularModules.push({moduleName:o,moduleId:s})}}}_getScrollCallFrom(){const e=ji([this.intersection.start,this.intersection.end],this.currentScroll);return this.intersection.start===e?"start":"end"}_dispatchCall(e,i){var r,s;const n=(r=this.attributes.scrollCall)==null?void 0:r.split(","),o=(s=this.attributes)==null?void 0:s.scrollCallSelf;if(n&&n.length>1){var l;const[a,h,c]=n;let d;d=o?this.$el.dataset[`module${h.trim()}`]:c,this.modularInstance&&this.modularInstance.call(a.trim(),{target:this.$el,way:e,from:i},h.trim(),(l=d)==null?void 0:l.trim())}else if(n){const[a]=n,h=new CustomEvent(a,{detail:{target:this.$el,way:e,from:i}});window.dispatchEvent(h)}}}const Cn=["scrollOffset","scrollPosition","scrollModuleProgress","scrollCssProgress","scrollEventProgress","scrollSpeed"];class xn{constructor({$el:e,modularInstance:i,triggerRootMargin:r,rafRootMargin:s,scrollOrientation:n}){this.$scrollContainer=void 0,this.modularInstance=void 0,this.triggerRootMargin=void 0,this.rafRootMargin=void 0,this.scrollElements=void 0,this.triggeredScrollElements=void 0,this.RAFScrollElements=void 0,this.scrollElementsToUpdate=void 0,this.IOTriggerInstance=void 0,this.IORafInstance=void 0,this.scrollOrientation=void 0,e?(this.$scrollContainer=e,this.modularInstance=i,this.scrollOrientation=n,this.triggerRootMargin=r!=null?r:"-1px -1px -1px -1px",this.rafRootMargin=s!=null?s:"100% 100% 100% 100%",this.scrollElements=[],this.triggeredScrollElements=[],this.RAFScrollElements=[],this.scrollElementsToUpdate=[],this._init()):console.error("Please provide a DOM Element as scrollContainer")}_init(){const e=this.$scrollContainer.querySelectorAll("[data-scroll]"),i=Array.from(e);this._subscribeScrollElements(i),this.IOTriggerInstance=new Ui({scrollElements:[...this.triggeredScrollElements],rootMargin:this.triggerRootMargin,IORaf:!1}),this.IORafInstance=new Ui({scrollElements:[...this.RAFScrollElements],rootMargin:this.rafRootMargin,IORaf:!0})}destroy(){this.IOTriggerInstance.destroy(),this.IORafInstance.destroy(),this._unsubscribeAllScrollElements()}onResize({currentScroll:e}){for(const i of this.RAFScrollElements)i.onResize({currentScroll:e})}onRender({currentScroll:e,smooth:i}){for(const r of this.scrollElementsToUpdate)r.onRender({currentScroll:e,smooth:i})}removeScrollElements(e){const i=e.querySelectorAll("[data-scroll]");if(i.length){for(let r=0;r<this.triggeredScrollElements.length;r++){const s=this.triggeredScrollElements[r];Array.from(i).indexOf(s.$el)>-1&&(this.IOTriggerInstance.unobserve(s.$el),this.triggeredScrollElements.splice(r,1))}for(let r=0;r<this.RAFScrollElements.length;r++){const s=this.RAFScrollElements[r];Array.from(i).indexOf(s.$el)>-1&&(this.IORafInstance.unobserve(s.$el),this.RAFScrollElements.splice(r,1))}i.forEach(r=>{const s=this.scrollElementsToUpdate.find(o=>o.$el===r),n=this.scrollElements.find(o=>o.$el===r);s&&this._unsubscribeElementUpdate(s),n&&(this.scrollElements=this.scrollElements.filter(o=>o.id!=n.id))})}}addScrollElements(e){const i=e.querySelectorAll("[data-scroll]"),r=[];this.scrollElements.forEach(o=>{r.push(o.id)});const s=Math.max(...r,0)+1,n=Array.from(i);this._subscribeScrollElements(n,s,!0)}_subscribeScrollElements(e,i=0,r=!1){for(let s=0;s<e.length;s++){const n=e[s],o=this._checkRafNeeded(n),l=new Rn({$el:n,id:i+s,scrollOrientation:this.scrollOrientation,modularInstance:this.modularInstance,subscribeElementUpdateFn:this._subscribeElementUpdate.bind(this),unsubscribeElementUpdateFn:this._unsubscribeElementUpdate.bind(this),needRaf:o});this.scrollElements.push(l),o?(this.RAFScrollElements.push(l),r&&(this.IORafInstance.scrollElements.push(l),this.IORafInstance.observe(l.$el))):(this.triggeredScrollElements.push(l),r&&(this.IOTriggerInstance.scrollElements.push(l),this.IOTriggerInstance.observe(l.$el)))}}_unsubscribeAllScrollElements(){this.scrollElements=[],this.RAFScrollElements=[],this.triggeredScrollElements=[],this.scrollElementsToUpdate=[]}_subscribeElementUpdate(e){this.scrollElementsToUpdate.push(e)}_unsubscribeElementUpdate(e){this.scrollElementsToUpdate=this.scrollElementsToUpdate.filter(i=>i.id!=e.id)}_checkRafNeeded(e){let i=[...Cn];const r=s=>{i=i.filter(n=>n!=s)};if(e.dataset.scrollOffset){if(e.dataset.scrollOffset.split(",").map(s=>s.replace("%","").trim()).join(",")!="0,0")return!0;r("scrollOffset")}else r("scrollOffset");if(e.dataset.scrollPosition){if(e.dataset.scrollPosition.trim()!="top,bottom")return!0;r("scrollPosition")}else r("scrollPosition");if(e.dataset.scrollSpeed&&!isNaN(parseFloat(e.dataset.scrollSpeed)))return!0;r("scrollSpeed");for(const s of i)if(s in e.dataset)return!0;return!1}}class On{constructor({resizeElements:e,resizeCallback:i=()=>{}}){this.$resizeElements=void 0,this.isFirstObserve=void 0,this.observer=void 0,this.resizeCallback=void 0,this.$resizeElements=e,this.resizeCallback=i,this.isFirstObserve=!0,this._init()}_init(){this.observer=new ResizeObserver(e=>{var i;!this.isFirstObserve&&((i=this.resizeCallback)==null||i.call(this)),this.isFirstObserve=!1});for(const e of this.$resizeElements)this.observer.observe(e)}destroy(){this.observer.disconnect()}}class Mn{constructor({lenisOptions:e={},modularInstance:i,triggerRootMargin:r,rafRootMargin:s,autoResize:n=!0,autoStart:o=!0,scrollCallback:l=()=>{},initCustomTicker:a,destroyCustomTicker:h}={}){this.rafPlaying=void 0,this.lenisInstance=void 0,this.coreInstance=void 0,this.lenisOptions=void 0,this.modularInstance=void 0,this.triggerRootMargin=void 0,this.rafRootMargin=void 0,this.rafInstance=void 0,this.autoResize=void 0,this.autoStart=void 0,this.ROInstance=void 0,this.initCustomTicker=void 0,this.destroyCustomTicker=void 0,this._onRenderBind=void 0,this._onResizeBind=void 0,this._onScrollToBind=void 0;for(const[c]of Object.entries(e))["wrapper","content","infinite"].includes(c)&&console.warn(`Warning: Key "${c}" is not possible to edit in Locomotive Scroll.`);Object.assign(this,{lenisOptions:e,modularInstance:i,triggerRootMargin:r,rafRootMargin:s,autoResize:n,autoStart:o,scrollCallback:l,initCustomTicker:a,destroyCustomTicker:h}),this._onRenderBind=this._onRender.bind(this),this._onScrollToBind=this._onScrollTo.bind(this),this._onResizeBind=this._onResize.bind(this),this.rafPlaying=!1,this._init()}_init(){var e;this.lenisInstance=new Pn(ci({},this.lenisOptions,{wrapper:window,content:document.documentElement,infinite:!1})),(e=this.lenisInstance)==null||e.on("scroll",this.scrollCallback),document.documentElement.setAttribute("data-scroll-orientation",this.lenisInstance.options.orientation),requestAnimationFrame(()=>{this.coreInstance=new xn({$el:this.lenisInstance.rootElement,modularInstance:this.modularInstance,triggerRootMargin:this.triggerRootMargin,rafRootMargin:this.rafRootMargin,scrollOrientation:this.lenisInstance.options.orientation}),this._bindEvents(),this.initCustomTicker&&!this.destroyCustomTicker?console.warn("initCustomTicker callback is declared, but destroyCustomTicker is not. Please pay attention. It could cause trouble."):!this.initCustomTicker&&this.destroyCustomTicker&&console.warn("destroyCustomTicker callback is declared, but initCustomTicker is not. Please pay attention. It could cause trouble."),this.autoStart&&this.start()})}destroy(){var e;this.stop(),this._unbindEvents(),this.lenisInstance.destroy(),(e=this.coreInstance)==null||e.destroy(),requestAnimationFrame(()=>{var i;(i=this.coreInstance)==null||i.destroy()})}_bindEvents(){this._bindScrollToEvents(),this.autoResize&&("ResizeObserver"in window?this.ROInstance=new On({resizeElements:[document.body],resizeCallback:this._onResizeBind}):window.addEventListener("resize",this._onResizeBind))}_unbindEvents(){this._unbindScrollToEvents(),this.autoResize&&("ResizeObserver"in window?this.ROInstance&&this.ROInstance.destroy():window.removeEventListener("resize",this._onResizeBind))}_bindScrollToEvents(e){const i=e||this.lenisInstance.rootElement,r=i==null?void 0:i.querySelectorAll("[data-scroll-to]");r!=null&&r.length&&r.forEach(s=>{s.addEventListener("click",this._onScrollToBind,!1)})}_unbindScrollToEvents(e){const i=e||this.lenisInstance.rootElement,r=i==null?void 0:i.querySelectorAll("[data-scroll-to]");r!=null&&r.length&&r.forEach(s=>{s.removeEventListener("click",this._onScrollToBind,!1)})}_onResize(){requestAnimationFrame(()=>{var e;(e=this.coreInstance)==null||e.onResize({currentScroll:this.lenisInstance.scroll})})}_onRender(){var e,i;(e=this.lenisInstance)==null||e.raf(Date.now()),(i=this.coreInstance)==null||i.onRender({currentScroll:this.lenisInstance.scroll,smooth:this.lenisInstance.options.smoothWheel})}_onScrollTo(e){var i;e.preventDefault();const r=(i=e.currentTarget)!=null?i:null;if(!r)return;const s=r.getAttribute("data-scroll-to-href")||r.getAttribute("href"),n=r.getAttribute("data-scroll-to-offset")||0,o=r.getAttribute("data-scroll-to-duration")||this.lenisInstance.options.duration;s&&this.scrollTo(s,{offset:typeof n=="string"?parseInt(n):n,duration:typeof o=="string"?parseInt(o):o})}start(){var e;this.rafPlaying||((e=this.lenisInstance)==null||e.start(),this.rafPlaying=!0,this.initCustomTicker?this.initCustomTicker(this._onRenderBind):this._raf())}stop(){var e;this.rafPlaying&&((e=this.lenisInstance)==null||e.stop(),this.rafPlaying=!1,this.destroyCustomTicker?this.destroyCustomTicker(this._onRenderBind):this.rafInstance&&cancelAnimationFrame(this.rafInstance))}removeScrollElements(e){var i;e?(this._unbindScrollToEvents(e),(i=this.coreInstance)==null||i.removeScrollElements(e)):console.error("Please provide a DOM Element as $oldContainer")}addScrollElements(e){var i;e?((i=this.coreInstance)==null||i.addScrollElements(e),requestAnimationFrame(()=>{this._bindScrollToEvents(e)})):console.error("Please provide a DOM Element as $newContainer")}resize(){this._onResizeBind()}scrollTo(e,i){var r;(r=this.lenisInstance)==null||r.scrollTo(e,{offset:i==null?void 0:i.offset,lerp:i==null?void 0:i.lerp,duration:i==null?void 0:i.duration,immediate:i==null?void 0:i.immediate,lock:i==null?void 0:i.lock,force:i==null?void 0:i.force,easing:i==null?void 0:i.easing,onComplete:i==null?void 0:i.onComplete})}_raf(){this._onRenderBind(),this.rafInstance=requestAnimationFrame(()=>this._raf())}}/**
* Muuri v0.9.5
* https://muuri.dev/
* Copyright (c) 2015-present, Haltu Oy
* Released under the MIT license
* https://github.com/haltu/muuri/blob/master/LICENSE.md
* @license MIT
*
* Muuri Packer
* Copyright (c) 2016-present, Niklas Rm <inramo@gmail.com>
* @license MIT
*
* Muuri Ticker / Muuri Emitter / Muuri Dragger
* Copyright (c) 2018-present, Niklas Rm <inramo@gmail.com>
* @license MIT
*
* Muuri AutoScroller
* Copyright (c) 2019-present, Niklas Rm <inramo@gmail.com>
* @license MIT
*/var He={},zt=typeof Map=="function"?new Map:null,dt="swap",qt="move",Nn="synchronize",Rt="layoutStart",Zi="layoutEnd",Qi="layoutAbort",Ki="add",Ji="remove",zn="showStart",Fn="showEnd",se="hideStart",Hn="hideEnd",tr="filter",er="sort",Le="move",Pe="send",Ct="beforeSend",Re="receive",Ce="beforeReceive",qn="dragInit",Vn="dragStart",Bn="dragMove",Yn="dragScroll",Wn="dragEnd",Xn="dragReleaseStart",ne="dragReleaseEnd",$n="destroy",Cr="ontouchstart"in window,yi=!!window.PointerEvent,Si=!!window.navigator.msPointerEnabled,Un=16777216;function ht(){this._events={},this._queue=[],this._counter=0,this._clearOnEmit=!1}ht.prototype.on=function(t,e){if(!this._events||!t||!e)return this;var i=this._events[t];return i||(i=this._events[t]=[]),i.push(e),this};ht.prototype.off=function(t,e){if(!this._events||!t||!e)return this;var i=this._events[t];if(!i||!i.length)return this;for(var r;(r=i.indexOf(e))!==-1;)i.splice(r,1);return this};ht.prototype.clear=function(t){if(!this._events||!t)return this;var e=this._events[t];return e&&(e.length=0,delete this._events[t]),this};ht.prototype.emit=function(t){if(!this._events||!t)return this._clearOnEmit=!1,this;var e=this._events[t];if(!e||!e.length)return this._clearOnEmit=!1,this;var i=this._queue,r=i.length,s=arguments.length-1,n;s>3&&(n=[],n.push.apply(n,arguments),n.shift()),i.push.apply(i,e),this._clearOnEmit&&(e.length=0,this._clearOnEmit=!1),++this._counter;for(var o=r,l=i.length;o<l;o++)if(s===0?i[o]():s===1?i[o](arguments[1]):s===2?i[o](arguments[1],arguments[2]):s===3?i[o](arguments[1],arguments[2],arguments[3]):i[o].apply(null,n),!this._events)return this;return--this._counter,this._counter||(i.length=0),this};ht.prototype.burst=function(){return this._events?(this._clearOnEmit=!0,this.emit.apply(this,arguments),this):this};ht.prototype.countListeners=function(t){if(!this._events)return 0;var e=this._events[t];return e?e.length:0};ht.prototype.destroy=function(){return this._events?(this._queue.length=this._counter=0,this._events=null,this):this};var qe=yi?"pointerout":Si?"MSPointerOut":"",Gn=100;function Ot(t){qe&&(this._dragger=t,this._timeout=null,this._outEvent=null,this._isActive=!1,this._addBehaviour=this._addBehaviour.bind(this),this._removeBehaviour=this._removeBehaviour.bind(this),this._onTimeout=this._onTimeout.bind(this),this._resetData=this._resetData.bind(this),this._onStart=this._onStart.bind(this),this._onOut=this._onOut.bind(this),this._dragger.on("start",this._onStart))}Ot.prototype._addBehaviour=function(){this._isActive||(this._isActive=!0,this._dragger.on("move",this._resetData),this._dragger.on("cancel",this._removeBehaviour),this._dragger.on("end",this._removeBehaviour),window.addEventListener(qe,this._onOut))};Ot.prototype._removeBehaviour=function(){this._isActive&&(this._dragger.off("move",this._resetData),this._dragger.off("cancel",this._removeBehaviour),this._dragger.off("end",this._removeBehaviour),window.removeEventListener(qe,this._onOut),this._resetData(),this._isActive=!1)};Ot.prototype._resetData=function(){window.clearTimeout(this._timeout),this._timeout=null,this._outEvent=null};Ot.prototype._onStart=function(t){t.pointerType!=="mouse"&&this._addBehaviour()};Ot.prototype._onOut=function(t){this._dragger._getTrackedTouch(t)&&(this._resetData(),this._outEvent=t,this._timeout=window.setTimeout(this._onTimeout,Gn))};Ot.prototype._onTimeout=function(){var t=this._outEvent;this._resetData(),this._dragger.isActive()&&this._dragger._onCancel(t)};Ot.prototype.destroy=function(){qe&&(this._dragger.off("start",this._onStart),this._removeBehaviour())};var ei=["","webkit","moz","ms","o","Webkit","Moz","MS","O"],ir={};function Ve(t,e){var i=ir[e]||"";if(i)return i;for(var r=e[0].toUpperCase()+e.slice(1),s=0;s<ei.length;){if(i=ei[s]?ei[s]+r:e,i in t)return ir[e]=i,i;++s}return""}function xr(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(i){}return t}var Be=window.navigator.userAgent.toLowerCase(),jn=Be.indexOf("edge")>-1,Zn=Be.indexOf("trident")>-1,Qn=Be.indexOf("firefox")>-1,Kn=Be.indexOf("android")>-1,Dt=xr()?{passive:!0}:!1,Or="touchAction",we=Ve(document.documentElement.style,Or),Jn="auto";function b(t,e){this._element=t,this._emitter=new ht,this._isDestroyed=!1,this._cssProps={},this._touchAction="",this._isActive=!1,this._pointerId=null,this._startTime=0,this._startX=0,this._startY=0,this._currentX=0,this._currentY=0,this._onStart=this._onStart.bind(this),this._onMove=this._onMove.bind(this),this._onCancel=this._onCancel.bind(this),this._onEnd=this._onEnd.bind(this),this._edgeHack=null,(jn||Zn)&&(yi||Si)&&(this._edgeHack=new Ot(this)),this.setCssProps(e),this._touchAction||this.setTouchAction(Jn),t.addEventListener("dragstart",b._preventDefault,!1),t.addEventListener(b._inputEvents.start,this._onStart,Dt)}b._pointerEvents={start:"pointerdown",move:"pointermove",cancel:"pointercancel",end:"pointerup"};b._msPointerEvents={start:"MSPointerDown",move:"MSPointerMove",cancel:"MSPointerCancel",end:"MSPointerUp"};b._touchEvents={start:"touchstart",move:"touchmove",cancel:"touchcancel",end:"touchend"};b._mouseEvents={start:"mousedown",move:"mousemove",cancel:"",end:"mouseup"};b._inputEvents=function(){return Cr?b._touchEvents:yi?b._pointerEvents:Si?b._msPointerEvents:b._mouseEvents}();b._emitter=new ht;b._emitterEvents={start:"start",move:"move",end:"end",cancel:"cancel"};b._activeInstances=[];b._preventDefault=function(t){t.preventDefault&&t.cancelable!==!1&&t.preventDefault()};b._activateInstance=function(t){var e=b._activeInstances.indexOf(t);e>-1||(b._activeInstances.push(t),b._emitter.on(b._emitterEvents.move,t._onMove),b._emitter.on(b._emitterEvents.cancel,t._onCancel),b._emitter.on(b._emitterEvents.end,t._onEnd),b._activeInstances.length===1&&b._bindListeners())};b._deactivateInstance=function(t){var e=b._activeInstances.indexOf(t);e!==-1&&(b._activeInstances.splice(e,1),b._emitter.off(b._emitterEvents.move,t._onMove),b._emitter.off(b._emitterEvents.cancel,t._onCancel),b._emitter.off(b._emitterEvents.end,t._onEnd),b._activeInstances.length||b._unbindListeners())};b._bindListeners=function(){window.addEventListener(b._inputEvents.move,b._onMove,Dt),window.addEventListener(b._inputEvents.end,b._onEnd,Dt),b._inputEvents.cancel&&window.addEventListener(b._inputEvents.cancel,b._onCancel,Dt)};b._unbindListeners=function(){window.removeEventListener(b._inputEvents.move,b._onMove,Dt),window.removeEventListener(b._inputEvents.end,b._onEnd,Dt),b._inputEvents.cancel&&window.removeEventListener(b._inputEvents.cancel,b._onCancel,Dt)};b._getEventPointerId=function(t){return typeof t.pointerId=="number"?t.pointerId:t.changedTouches?t.changedTouches[0]?t.changedTouches[0].identifier:null:1};b._getTouchById=function(t,e){if(typeof t.pointerId=="number")return t.pointerId===e?t:null;if(t.changedTouches){for(var i=0;i<t.changedTouches.length;i++)if(t.changedTouches[i].identifier===e)return t.changedTouches[i];return null}return t};b._onMove=function(t){b._emitter.emit(b._emitterEvents.move,t)};b._onCancel=function(t){b._emitter.emit(b._emitterEvents.cancel,t)};b._onEnd=function(t){b._emitter.emit(b._emitterEvents.end,t)};b.prototype._reset=function(){this._pointerId=null,this._startTime=0,this._startX=0,this._startY=0,this._currentX=0,this._currentY=0,this._isActive=!1,b._deactivateInstance(this)};b.prototype._createEvent=function(t,e){var i=this._getTrackedTouch(e);return{type:t,srcEvent:e,distance:this.getDistance(),deltaX:this.getDeltaX(),deltaY:this.getDeltaY(),deltaTime:t===b._emitterEvents.start?0:this.getDeltaTime(),isFirst:t===b._emitterEvents.start,isFinal:t===b._emitterEvents.end||t===b._emitterEvents.cancel,pointerType:e.pointerType||(e.touches?"touch":"mouse"),identifier:this._pointerId,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,target:i.target}};b.prototype._emit=function(t,e){this._emitter.emit(t,this._createEvent(t,e))};b.prototype._getTrackedTouch=function(t){return this._pointerId===null?null:b._getTouchById(t,this._pointerId)};b.prototype._onStart=function(t){if(!this._isDestroyed&&this._pointerId===null&&(this._pointerId=b._getEventPointerId(t),this._pointerId!==null)){var e=this._getTrackedTouch(t);this._startX=this._currentX=e.clientX,this._startY=this._currentY=e.clientY,this._startTime=Date.now(),this._isActive=!0,this._emit(b._emitterEvents.start,t),this._isActive&&b._activateInstance(this)}};b.prototype._onMove=function(t){var e=this._getTrackedTouch(t);e&&(this._currentX=e.clientX,this._currentY=e.clientY,this._emit(b._emitterEvents.move,t))};b.prototype._onCancel=function(t){this._getTrackedTouch(t)&&(this._emit(b._emitterEvents.cancel,t),this._reset())};b.prototype._onEnd=function(t){this._getTrackedTouch(t)&&(this._emit(b._emitterEvents.end,t),this._reset())};b.prototype.isActive=function(){return this._isActive};b.prototype.setTouchAction=function(t){this._touchAction=t,we&&(this._cssProps[we]="",this._element.style[we]=t),Cr&&(this._element.removeEventListener(b._touchEvents.start,b._preventDefault,!0),(this._element.style[we]!==t||Qn&&Kn)&&this._element.addEventListener(b._touchEvents.start,b._preventDefault,!0))};b.prototype.setCssProps=function(t){if(t){var e=this._cssProps,i=this._element,r,s;for(r in e)i.style[r]=e[r],delete e[r];for(r in t)if(t[r]){if(r===Or){this.setTouchAction(t[r]);continue}s=Ve(i.style,r),s&&(e[s]="",i.style[s]=t[r])}}};b.prototype.getDeltaX=function(){return this._currentX-this._startX};b.prototype.getDeltaY=function(){return this._currentY-this._startY};b.prototype.getDistance=function(){var t=this.getDeltaX(),e=this.getDeltaY();return Math.sqrt(t*t+e*e)};b.prototype.getDeltaTime=function(){return this._startTime?Date.now()-this._startTime:0};b.prototype.on=function(t,e){this._emitter.on(t,e)};b.prototype.off=function(t,e){this._emitter.off(t,e)};b.prototype.destroy=function(){if(!this._isDestroyed){var t=this._element;this._edgeHack&&this._edgeHack.destroy(),this._reset(),this._emitter.destroy(),t.removeEventListener(b._inputEvents.start,this._onStart,Dt),t.removeEventListener("dragstart",b._preventDefault,!1),t.removeEventListener(b._touchEvents.start,b._preventDefault,!0);for(var e in this._cssProps)t.style[e]=this._cssProps[e],delete this._cssProps[e];this._element=null,this._isDestroyed=!0}};var to=1e3/60,eo=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return this.setTimeout(function(){t(Date.now())},to)}).bind(window);function Ye(t){this._nextStep=null,this._lanes=[],this._stepQueue=[],this._stepCallbacks={},this._step=this._step.bind(this);for(var e=0;e<t;e++)this._lanes.push(new wi)}Ye.prototype._step=function(t){var e=this._lanes,i=this._stepQueue,r=this._stepCallbacks,s,n,o,l,a,h;for(this._nextStep=null,s=0;s<e.length;s++){for(l=e[s].queue,a=e[s].callbacks,h=e[s].indices,n=0;n<l.length;n++)o=l[n],o&&(i.push(o),r[o]=a[o],delete a[o],delete h[o]);l.length=0}for(s=0;s<i.length;s++)o=i[s],r[o]&&r[o](t),delete r[o];i.length=0};Ye.prototype.add=function(t,e,i){this._lanes[t].add(e,i),this._nextStep||(this._nextStep=eo(this._step))};Ye.prototype.remove=function(t,e){this._lanes[t].remove(e)};function wi(){this.queue=[],this.indices={},this.callbacks={}}wi.prototype.add=function(t,e){var i=this.indices[t];i!==void 0&&(this.queue[i]=void 0),this.queue.push(t),this.callbacks[t]=e,this.indices[t]=this.queue.length-1};wi.prototype.remove=function(t){var e=this.indices[t];e!==void 0&&(this.queue[e]=void 0,delete this.callbacks[t],delete this.indices[t])};var Mr="layoutRead",Nr="layoutWrite",zr="visibilityRead",Fr="visibilityWrite",Hr="dragStartRead",qr="dragStartWrite",Vr="dragMoveRead",Br="dragMoveWrite",Yr="dragScrollRead",Wr="dragScrollWrite",Xr="dragSortRead",$r="placeholderLayoutRead",Ur="placeholderLayoutWrite",Gr="placeholderResizeWrite",jr="autoScrollRead",Zr="autoScrollWrite",Qr="debounceRead",et=0,Kr=1,it=2,x=new Ye(3);function io(t,e,i){x.add(et,Mr+t,e),x.add(it,Nr+t,i)}function Jr(t){x.remove(et,Mr+t),x.remove(it,Nr+t)}function ro(t,e,i){x.add(et,zr+t,e),x.add(it,Fr+t,i)}function ts(t){x.remove(et,zr+t),x.remove(it,Fr+t)}function so(t,e,i){x.add(et,Hr+t,e),x.add(it,qr+t,i)}function es(t){x.remove(et,Hr+t),x.remove(it,qr+t)}function no(t,e,i){x.add(et,Vr+t,e),x.add(it,Br+t,i)}function is(t){x.remove(et,Vr+t),x.remove(it,Br+t)}function oo(t,e,i){x.add(et,Yr+t,e),x.add(it,Wr+t,i)}function rs(t){x.remove(et,Yr+t),x.remove(it,Wr+t)}function We(t,e){x.add(Kr,Xr+t,e)}function ao(t){x.remove(Kr,Xr+t)}function lo(t,e,i){x.add(et,$r+t,e),x.add(it,Ur+t,i)}function ss(t){x.remove(et,$r+t),x.remove(it,Ur+t)}function ho(t,e){x.add(it,Gr+t,e)}function co(t){x.remove(it,Gr+t)}function ns(t,e){x.add(et,jr,t),x.add(it,Zr,e)}function uo(){x.remove(et,jr),x.remove(it,Zr)}function fo(t,e){x.add(et,Qr+t,e)}function po(t){x.remove(et,Qr+t)}var $=1,Q=2,jt=4,bi=8,oe=$|bi,ae=$|jt,le=Q|bi,xe=Q|jt,vo="function";function C(t){return typeof t===vo}var be=typeof WeakMap=="function"?new WeakMap:null;function st(t,e){var i=be&&be.get(t);return i||(i=window.getComputedStyle(t,null),be&&be.set(t,i)),i.getPropertyValue(e)}function lt(t,e){return parseFloat(st(t,e))||0}var Vt=document.documentElement,mo=document.body,Ee={value:0,offset:0};function os(t){return t===window||t===Vt||t===mo?window:t}function he(t){return t===window?t.pageXOffset:t.scrollLeft}function ce(t){return t===window?t.pageYOffset:t.scrollTop}function as(t){return t===window?Vt.scrollWidth-Vt.clientWidth:t.scrollWidth-t.clientWidth}function ls(t){return t===window?Vt.scrollHeight-Vt.clientHeight:t.scrollHeight-t.clientHeight}function hs(t,e){if(e=e||{},t===window)e.width=Vt.clientWidth,e.height=Vt.clientHeight,e.left=0,e.right=e.width,e.top=0,e.bottom=e.height;else{var i=t.getBoundingClientRect(),r=t.clientLeft||lt(t,"border-left-width"),s=t.clientTop||lt(t,"border-top-width");e.width=t.clientWidth,e.height=t.clientHeight,e.left=i.left+r,e.right=e.left+e.width,e.top=i.top+s,e.bottom=e.top+e.height}return e}function de(t){return t._drag._getGrid()._settings.dragAutoScroll}function _o(t){t._drag&&t._drag._prepareScroll()}function go(t){if(!(!t._drag||!t._isActive)){var e=t._drag;e._scrollDiffX=e._scrollDiffY=0,t._setTranslate(e._left,e._top)}}function ui(t,e,i,r){return Ee.value=Math.min(r/2,t),Ee.offset=Math.max(0,i+Ee.value*2+r*e-r)/2,Ee}function St(){this.reset()}St.prototype.reset=function(){this.isActive&&this.onStop(),this.item=null,this.element=null,this.isActive=!1,this.isEnding=!1,this.direction=null,this.value=null,this.maxValue=0,this.threshold=0,this.distance=0,this.speed=0,this.duration=0,this.action=null};St.prototype.hasReachedEnd=function(){return jt&this.direction?this.value>=this.maxValue:this.value<=0};St.prototype.computeCurrentScrollValue=function(){return this.value===null?$&this.direction?he(this.element):ce(this.element):Math.max(0,Math.min(this.value,this.maxValue))};St.prototype.computeNextScrollValue=function(t){var e=this.speed*(t/1e3),i=jt&this.direction?this.value+e:this.value-e;return Math.max(0,Math.min(i,this.maxValue))};St.prototype.computeSpeed=function(){var t={direction:null,threshold:0,distance:0,value:0,maxValue:0,deltaTime:0,duration:0,isEnding:!1};return function(e){var i=this.item,r=de(i).speed;return C(r)?(t.direction=this.direction,t.threshold=this.threshold,t.distance=this.distance,t.value=this.value,t.maxValue=this.maxValue,t.duration=this.duration,t.speed=this.speed,t.deltaTime=e,t.isEnding=this.isEnding,r(i,this.element,t)):r}}();St.prototype.tick=function(t){return this.isActive||(this.isActive=!0,this.onStart()),this.value=this.computeCurrentScrollValue(),this.speed=this.computeSpeed(t),this.value=this.computeNextScrollValue(t),this.duration+=t,this.value};St.prototype.onStart=function(){var t=this.item,e=de(t).onStart;C(e)&&e(t,this.element,this.direction)};St.prototype.onStop=function(){var t=this.item,e=de(t).onStop;C(e)&&e(t,this.element,this.direction),t._drag&&t._drag.sort()};function Zt(){this.element=null,this.requestX=null,this.requestY=null,this.scrollLeft=0,this.scrollTop=0}Zt.prototype.reset=function(){this.requestX&&(this.requestX.action=null),this.requestY&&(this.requestY.action=null),this.element=null,this.requestX=null,this.requestY=null,this.scrollLeft=0,this.scrollTop=0};Zt.prototype.addRequest=function(t){$&t.direction?(this.removeRequest(this.requestX),this.requestX=t):(this.removeRequest(this.requestY),this.requestY=t),t.action=this};Zt.prototype.removeRequest=function(t){t&&(this.requestX===t?(this.requestX=null,t.action=null):this.requestY===t&&(this.requestY=null,t.action=null))};Zt.prototype.computeScrollValues=function(){this.scrollLeft=this.requestX?this.requestX.value:he(this.element),this.scrollTop=this.requestY?this.requestY.value:ce(this.element)};Zt.prototype.scroll=function(){var t=this.element;t&&(t.scrollTo?t.scrollTo(this.scrollLeft,this.scrollTop):(t.scrollLeft=this.scrollLeft,t.scrollTop=this.scrollTop))};function ue(t,e){this.pool=[],this.createItem=t,this.releaseItem=e}ue.prototype.pick=function(){return this.pool.pop()||this.createItem()};ue.prototype.release=function(t){this.releaseItem(t),this.pool.indexOf(t)===-1&&this.pool.push(t)};ue.prototype.reset=function(){this.pool.length=0};function yo(t,e){return!(t.left+t.width<=e.left||e.left+e.width<=t.left||t.top+t.height<=e.top||e.top+e.height<=t.top)}function So(t,e){if(!yo(t,e))return 0;var i=Math.min(t.left+t.width,e.left+e.width)-Math.max(t.left,e.left),r=Math.min(t.top+t.height,e.top+e.height)-Math.max(t.top,e.top);return i*r}function Oe(t,e){var i=So(t,e);if(!i)return 0;var r=Math.min(t.width,e.width)*Math.min(t.height,e.height);return i/r*100}var cs={width:0,height:0,left:0,right:0,top:0,bottom:0},us={width:0,height:0,left:0,right:0,top:0,bottom:0};function O(){this._isDestroyed=!1,this._isTicking=!1,this._tickTime=0,this._tickDeltaTime=0,this._items=[],this._actions=[],this._requests={},this._requests[$]={},this._requests[Q]={},this._requestOverlapCheck={},this._dragPositions={},this._dragDirections={},this._overlapCheckInterval=150,this._requestPool=new ue(function(){return new St},function(t){t.reset()}),this._actionPool=new ue(function(){return new Zt},function(t){t.reset()}),this._readTick=this._readTick.bind(this),this._writeTick=this._writeTick.bind(this)}O.AXIS_X=$;O.AXIS_Y=Q;O.FORWARD=jt;O.BACKWARD=bi;O.LEFT=oe;O.RIGHT=ae;O.UP=le;O.DOWN=xe;O.smoothSpeed=function(t,e,i){return function(r,s,n){var o=0;if(!n.isEnding)if(n.threshold>0){var l=n.threshold-Math.max(0,n.distance);o=t/n.threshold*l}else o=t;var a=n.speed,h=o;return a===o?h:a<o?(h=a+e*(n.deltaTime/1e3),Math.min(o,h)):(h=a-i*(n.deltaTime/1e3),Math.max(o,h))}};O.pointerHandle=function(t){var e={left:0,top:0,width:0,height:0},i=t||1;return function(r,s,n,o,l,a,h){return e.left=a-i*.5,e.top=h-i*.5,e.width=i,e.height=i,e}};O.prototype._readTick=function(t){this._isDestroyed||(t&&this._tickTime?(this._tickDeltaTime=t-this._tickTime,this._tickTime=t,this._updateRequests(),this._updateActions()):(this._tickTime=t,this._tickDeltaTime=0))};O.prototype._writeTick=function(){this._isDestroyed||(this._applyActions(),ns(this._readTick,this._writeTick))};O.prototype._startTicking=function(){this._isTicking=!0,ns(this._readTick,this._writeTick)};O.prototype._stopTicking=function(){this._isTicking=!1,this._tickTime=0,this._tickDeltaTime=0,uo()};O.prototype._getItemHandleRect=function(t,e,i){var r=t._drag;if(e){var s=r._dragMoveEvent||r._dragStartEvent,n=e(t,r._clientX,r._clientY,t._width,t._height,s.clientX,s.clientY);i.left=n.left,i.top=n.top,i.width=n.width,i.height=n.height}else i.left=r._clientX,i.top=r._clientY,i.width=t._width,i.height=t._height;return i.right=i.left+i.width,i.bottom=i.top+i.height,i};O.prototype._requestItemScroll=function(t,e,i,r,s,n,o){var l=this._requests[e],a=l[t._id];a?(a.element!==i||a.direction!==r)&&a.reset():a=this._requestPool.pick(),a.item=t,a.element=i,a.direction=r,a.threshold=s,a.distance=n,a.maxValue=o,l[t._id]=a};O.prototype._cancelItemScroll=function(t,e){var i=this._requests[e],r=i[t._id];r&&(r.action&&r.action.removeRequest(r),this._requestPool.release(r),delete i[t._id])};O.prototype._checkItemOverlap=function(t,e,i){var r=de(t),s=C(r.targets)?r.targets(t):r.targets,n=r.threshold,o=r.safeZone;if(!s||!s.length){e&&this._cancelItemScroll(t,$),i&&this._cancelItemScroll(t,Q);return}var l=this._dragDirections[t._id],a=l[0],h=l[1];if(!a&&!h){e&&this._cancelItemScroll(t,$),i&&this._cancelItemScroll(t,Q);return}for(var c=this._getItemHandleRect(t,r.handle,cs),d=us,v=null,y=null,g=!0,u=!0,f=0,m=0,p=null,_=null,S=0,T=0,A=0,N=null,M=-1/0,D=0,z=0,H=null,X=0,W=0,U=null,Et=-1/0,pe=0,_t=0,Tt=null,At=0,Qt=0,Bt=0;Bt<s.length;Bt++)v=s[Bt],g=e&&a&&v.axis!==Q,u=i&&h&&v.axis!==$,m=v.priority||0,!((!g||m<M)&&(!u||m<Et))&&(y=os(v.element||v),T=g?as(y):-1,A=u?ls(y):-1,!(!T&&!A)&&(d=hs(y,d),f=Oe(c,d),!(f<=0)&&(g&&m>=M&&T>0&&(m>M||f>z)&&(_=null,p=ui(typeof v.threshold=="number"?v.threshold:n,o,c.width,d.width),a===ae?(S=d.right+p.offset-c.right,S<=p.value&&he(y)<T&&(_=ae)):a===oe&&(S=c.left-(d.left-p.offset),S<=p.value&&he(y)>0&&(_=oe)),_!==null&&(N=y,M=m,D=p.value,z=f,H=_,X=S,W=T)),u&&m>=Et&&A>0&&(m>Et||f>_t)&&(_=null,p=ui(typeof v.threshold=="number"?v.threshold:n,o,c.height,d.height),h===xe?(S=d.bottom+p.offset-c.bottom,S<=p.value&&ce(y)<A&&(_=xe)):h===le&&(S=c.top-(d.top-p.offset),S<=p.value&&ce(y)>0&&(_=le)),_!==null&&(U=y,Et=m,pe=p.value,_t=f,Tt=_,At=S,Qt=A)))));e&&(N?this._requestItemScroll(t,$,N,H,D,X,W):this._cancelItemScroll(t,$)),i&&(U?this._requestItemScroll(t,Q,U,Tt,pe,At,Qt):this._cancelItemScroll(t,Q))};O.prototype._updateScrollRequest=function(t){for(var e=t.item,i=de(e),r=C(i.targets)?i.targets(e):i.targets,s=r&&r.length||0,n=i.threshold,o=i.safeZone,l=this._getItemHandleRect(e,i.handle,cs),a=us,h=null,c=null,d=!1,v=null,y=null,g=null,u=null,f=null,m=null,p=0;p<s;p++)if(h=r[p],c=os(h.element||h),c===t.element){if(d=!!($&t.direction),d){if(h.axis===Q)continue}else if(h.axis===$)continue;if(f=d?as(c):ls(c),f<=0||(a=hs(c,a),v=Oe(l,a),v<=0)||(y=ui(typeof h.threshold=="number"?h.threshold:n,o,d?l.width:l.height,d?a.width:a.height),t.direction===oe?g=l.left-(a.left-y.offset):t.direction===ae?g=a.right+y.offset-l.right:t.direction===le?g=l.top-(a.top-y.offset):g=a.bottom+y.offset-l.bottom,g>y.value)||(u=d?he(c):ce(c),m=jt&t.direction?u>=f:u<=0,m))break;return t.maxValue=f,t.threshold=y.value,t.distance=g,t.isEnding=!1,!0}return i.smoothStop===!0&&t.speed>0?(m===null&&(m=t.hasReachedEnd()),t.isEnding=!m):t.isEnding=!1,t.isEnding};O.prototype._updateRequests=function(){for(var t=this._items,e=this._requests[$],i=this._requests[Q],r,s,n,o,l,a,h,c=0;c<t.length;c++)r=t[c],o=this._requestOverlapCheck[r._id],l=o>0&&this._tickTime-o>this._overlapCheckInterval,a=!0,s=e[r._id],s&&s.isActive&&(a=!this._updateScrollRequest(s),a&&(l=!0,this._cancelItemScroll(r,$))),h=!0,n=i[r._id],n&&n.isActive&&(h=!this._updateScrollRequest(n),h&&(l=!0,this._cancelItemScroll(r,Q))),l&&(this._requestOverlapCheck[r._id]=0,this._checkItemOverlap(r,a,h))};O.prototype._requestAction=function(t,e){for(var i=this._actions,r=e===$,s=null,n=0;n<i.length;n++){if(s=i[n],t.element!==s.element){s=null;continue}if(r?s.requestX:s.requestY){this._cancelItemScroll(t.item,e);return}break}s||(s=this._actionPool.pick()),s.element=t.element,s.addRequest(t),t.tick(this._tickDeltaTime),i.push(s)};O.prototype._updateActions=function(){var t=this._items,e=this._requests,i=this._actions,r,s,n,o;for(o=0;o<t.length;o++)r=t[o]._id,s=e[$][r],n=e[Q][r],s&&this._requestAction(s,$),n&&this._requestAction(n,Q);for(o=0;o<i.length;o++)i[o].computeScrollValues()};O.prototype._applyActions=function(){var t=this._actions,e=this._items,i;if(t.length){for(i=0;i<t.length;i++)t[i].scroll(),this._actionPool.release(t[i]);for(t.length=0,i=0;i<e.length;i++)_o(e[i]);for(i=0;i<e.length;i++)go(e[i])}};O.prototype._updateDragDirection=function(t){var e=this._dragPositions[t._id],i=this._dragDirections[t._id],r=t._drag._left,s=t._drag._top;if(e.length){var n=e[0],o=e[1];i[0]=r>n?ae:r<n?oe:i[0]||0,i[1]=s>o?xe:s<o?le:i[1]||0}e[0]=r,e[1]=s};O.prototype.addItem=function(t){if(!this._isDestroyed){var e=this._items.indexOf(t);e===-1&&(this._items.push(t),this._requestOverlapCheck[t._id]=this._tickTime,this._dragDirections[t._id]=[0,0],this._dragPositions[t._id]=[],this._isTicking||this._startTicking())}};O.prototype.updateItem=function(t){this._isDestroyed||this._dragDirections[t._id]&&(this._updateDragDirection(t),this._requestOverlapCheck[t._id]||(this._requestOverlapCheck[t._id]=this._tickTime))};O.prototype.removeItem=function(t){if(!this._isDestroyed){var e=this._items.indexOf(t);if(e!==-1){var i=t._id,r=this._requests[$][i];r&&(this._cancelItemScroll(t,$),delete this._requests[$][i]);var s=this._requests[Q][i];s&&(this._cancelItemScroll(t,Q),delete this._requests[Q][i]),delete this._requestOverlapCheck[i],delete this._dragPositions[i],delete this._dragDirections[i],this._items.splice(e,1),this._isTicking&&!this._items.length&&this._stopTicking()}}};O.prototype.isItemScrollingX=function(t){var e=this._requests[$][t._id];return!!(e&&e.isActive)};O.prototype.isItemScrollingY=function(t){var e=this._requests[Q][t._id];return!!(e&&e.isActive)};O.prototype.isItemScrolling=function(t){return this.isItemScrollingX(t)||this.isItemScrollingY(t)};O.prototype.destroy=function(){if(!this._isDestroyed){for(var t=this._items.slice(0),e=0;e<t.length;e++)this.removeItem(t[e]);this._actions.length=0,this._requestPool.reset(),this._actionPool.reset(),this._isDestroyed=!0}};var Yt=window.Element.prototype,wo=Yt.matches||Yt.matchesSelector||Yt.webkitMatchesSelector||Yt.mozMatchesSelector||Yt.msMatchesSelector||Yt.oMatchesSelector||function(){return!1};function Xe(t,e){return wo.call(t,e)}function ot(t,e){e&&(t.classList?t.classList.add(e):Xe(t,"."+e)||(t.className+=" "+e))}var rr=[],bo="number";function Ei(t,e,i){var r=typeof i===bo?i:-1;r<0&&(r=t.length-r+1),t.splice.apply(t,rr.concat(r,0,e)),rr.length=0}function $t(t,e,i){var r=Math.max(0,t.length-1+(i||0));return e>r?r:e<0?Math.max(r+e+1,0):e}function ds(t,e,i){if(!(t.length<2)){var r=$t(t,e),s=$t(t,i);r!==s&&t.splice(s,0,t.splice(r,1)[0])}}function fs(t,e,i){if(!(t.length<2)){var r=$t(t,e),s=$t(t,i),n;r!==s&&(n=t[r],t[r]=t[s],t[s]=n)}}var vt=Ve(document.documentElement.style,"transform")||"transform",Eo=/([A-Z])/g,To=/^(webkit-|moz-|ms-|o-)/,Ao=/^(-m-s-)/;function di(t){var e=t.replace(Eo,"-$1").toLowerCase();return e=e.replace(To,"-$1"),e=e.replace(Ao,"-ms-"),e}var ps=di(vt),Io="none",ko="inline",Do="none",Lo="display";function Po(t){var e=st(t,ps);if(!e||e===Io)return!1;var i=st(t,Lo);return!(i===ko||i===Do)}function fi(t){for(var e=document,i=t||e;i&&i!==e&&st(i,"position")==="static"&&!Po(i);)i=i.parentElement||e;return i}var ii={},ri={},Nt={};function sr(t,e){var i=e||{},r;return i.left=0,i.top=0,t===document||(i.left=window.pageXOffset||0,i.top=window.pageYOffset||0,t.self===window.self)||(r=t.getBoundingClientRect(),i.left+=r.left,i.top+=r.top,i.left+=lt(t,"border-left-width"),i.top+=lt(t,"border-top-width")),i}function Ut(t,e,i){return Nt.left=0,Nt.top=0,t===e||i&&(t=fi(t),e=fi(e),t===e)||(sr(t,ii),sr(e,ri),Nt.left=ri.left-ii.left,Nt.top=ri.top-ii.top),Nt}function si(t){return t==="auto"||t==="scroll"||t==="overlay"}function Ro(t){return si(st(t,"overflow"))||si(st(t,"overflow-x"))||si(st(t,"overflow-y"))}function nr(t,e){for(e=e||[];t&&t!==document;){if(t.getRootNode&&t instanceof DocumentFragment){t=t.getRootNode().host;continue}Ro(t)&&e.push(t),t=t.parentNode}return e.push(window),e}var Wt={},Co="none",xo=/^matrix3d/,Oo=/([^,]*,){4}/,Mo=/([^,]*,){12}/,No=/[^,]*,/;function yt(t){Wt.x=0,Wt.y=0;var e=st(t,ps);if(!e||e===Co)return Wt;var i=xo.test(e),r=e.replace(i?Mo:Oo,""),s=r.replace(No,"");return Wt.x=parseFloat(r)||0,Wt.y=parseFloat(s)||0,Wt}function tt(t,e){e&&(t.classList?t.classList.remove(e):Xe(t,"."+e)&&(t.className=(" "+t.className+" ").replace(" "+e+" "," ").trim()))}var zo=/^(iPad|iPhone|iPod)/.test(window.navigator.platform)||/^Mac/.test(window.navigator.platform)&&window.navigator.maxTouchPoints>1,Me=0,pi=1,Ne=2,vs=xr()?{passive:!0}:!1;function L(t){var e=t._element,i=t.getGrid(),r=i._settings;this._item=t,this._gridId=i._id,this._isDestroyed=!1,this._isMigrating=!1,this._startPredicate=C(r.dragStartPredicate)?r.dragStartPredicate:L.defaultStartPredicate,this._startPredicateState=Me,this._startPredicateResult=void 0,this._isSortNeeded=!1,this._sortTimer=void 0,this._blockedSortIndex=null,this._sortX1=0,this._sortX2=0,this._sortY1=0,this._sortY2=0,this._reset(),this._preStartCheck=this._preStartCheck.bind(this),this._preEndCheck=this._preEndCheck.bind(this),this._onScroll=this._onScroll.bind(this),this._prepareStart=this._prepareStart.bind(this),this._applyStart=this._applyStart.bind(this),this._prepareMove=this._prepareMove.bind(this),this._applyMove=this._applyMove.bind(this),this._prepareScroll=this._prepareScroll.bind(this),this._applyScroll=this._applyScroll.bind(this),this._handleSort=this._handleSort.bind(this),this._handleSortDelayed=this._handleSortDelayed.bind(this),this._handle=r.dragHandle&&e.querySelector(r.dragHandle)||e,this._dragger=new b(this._handle,r.dragCssProps),this._dragger.on("start",this._preStartCheck),this._dragger.on("move",this._preStartCheck),this._dragger.on("cancel",this._preEndCheck),this._dragger.on("end",this._preEndCheck)}L.autoScroller=new O;L.defaultStartPredicate=function(t,e,i){var r=t._drag;if(e.isFirst&&e.srcEvent.button||!zo&&e.isFirst&&e.srcEvent.isTrusted===!0&&e.srcEvent.defaultPrevented===!1&&e.srcEvent.cancelable===!1)return!1;if(e.isFinal){r._finishStartPredicate(e);return}var s=r._startPredicateData;if(!s){var n=i||r._getGrid()._settings.dragStartPredicate||{};r._startPredicateData=s={distance:Math.max(n.distance,0)||0,delay:Math.max(n.delay,0)||0}}return s.delay&&(s.event=e,s.delayTimer||(s.delayTimer=window.setTimeout(function(){s.delay=0,r._resolveStartPredicate(s.event)&&(r._forceResolveStartPredicate(s.event),r._resetStartPredicate())},s.delay))),r._resolveStartPredicate(e)};L.defaultSortPredicate=function(){var t={},e={},i={},r=[],s=1,n=100;function o(l,a,h){var c=null,d=a._settings.dragSort,v=-1,y,g,u,f,m,p,_,S,T,A;if(d===!0?(r[0]=a,g=r):C(d)&&(g=d.call(a,l)),!g||!Array.isArray(g)||!g.length)return c;for(A=0;A<g.length;A++)if(u=g[A],!u._isDestroyed){for(u._updateBoundingRect(),p=Math.max(0,u._left),_=Math.max(0,u._top),S=Math.min(window.innerWidth,u._right),T=Math.min(window.innerHeight,u._bottom),f=u._element.parentNode;f&&f!==document&&f!==document.documentElement&&f!==document.body;){if(f.getRootNode&&f instanceof DocumentFragment){f=f.getRootNode().host;continue}if(st(f,"overflow")!=="visible"&&(m=f.getBoundingClientRect(),p=Math.max(p,m.left),_=Math.max(_,m.top),S=Math.min(S,m.right),T=Math.min(T,m.bottom)),st(f,"position")==="fixed")break;f=f.parentNode}p>=S||_>=T||(e.left=p,e.top=_,e.width=S-p,e.height=T-_,y=Oe(t,e),y>h&&y>v&&(v=y,c=u))}return r.length=0,c}return function(l,a){var h=l._drag,c=h._getGrid(),d=a&&typeof a.threshold=="number"?a.threshold:50,v=a&&a.action===dt?dt:qt,y=a&&a.migrateAction===dt?dt:qt;d=Math.min(Math.max(d,s),n),t.width=l._width,t.height=l._height,t.left=h._clientX,t.top=h._clientY;var g=o(l,c,d);if(!g)return null;var u=l.getGrid()!==g,f=0,m=0,p=0,_=-1,S=!1,T,A,N;for(g===c?(t.left=h._gridX+l._marginLeft,t.top=h._gridY+l._marginTop):(g._updateBorders(1,0,1,0),f=g._left+g._borderLeft,m=g._top+g._borderTop),N=0;N<g._items.length;N++)T=g._items[N],!(!T._isActive||T===l)&&(S=!0,e.width=T._width,e.height=T._height,e.left=T._left+T._marginLeft+f,e.top=T._top+T._marginTop+m,A=Oe(t,e),A>p&&(_=N,p=A));return u&&p<d&&(_=S?_:0,p=d),p>=d?(i.grid=g,i.index=_,i.action=u?y:v,i):null}}();L.prototype.stop=function(){if(this._isActive){if(this._isMigrating){this._finishMigration();return}var t=this._item,e=t._id;if(L.autoScroller.removeItem(t),es(e),is(e),rs(e),this._cancelSort(),this._isStarted){this._unbindScrollListeners();var i=t._element,r=this._getGrid(),s=r._settings.itemDraggingClass;i.parentNode!==r._element&&(r._element.appendChild(i),t._setTranslate(this._gridX,this._gridY),s&&i.clientWidth),tt(i,s)}this._reset()}};L.prototype.sort=function(t){var e=this._item;this._isActive&&e._isActive&&this._dragMoveEvent&&(t===!0?this._handleSort():We(e._id,this._handleSort))};L.prototype.destroy=function(){this._isDestroyed||(this.stop(),this._dragger.destroy(),L.autoScroller.removeItem(this._item),this._isDestroyed=!0)};L.prototype._getGrid=function(){return He[this._gridId]||null};L.prototype._reset=function(){this._isActive=!1,this._isStarted=!1,this._container=null,this._containingBlock=null,this._dragStartEvent=null,this._dragMoveEvent=null,this._dragPrevMoveEvent=null,this._scrollEvent=null,this._scrollers=[],this._left=0,this._top=0,this._gridX=0,this._gridY=0,this._clientX=0,this._clientY=0,this._scrollDiffX=0,this._scrollDiffY=0,this._moveDiffX=0,this._moveDiffY=0,this._containerDiffX=0,this._containerDiffY=0};L.prototype._bindScrollListeners=function(){var t=this._getGrid()._element,e=this._container,i=this._scrollers,r,s;if(i.length=0,nr(this._item._element.parentNode,i),e!==t)for(r=[],nr(t,r),s=0;s<r.length;s++)i.indexOf(r[s])<0&&i.push(r[s]);for(s=0;s<i.length;s++)i[s].addEventListener("scroll",this._onScroll,vs)};L.prototype._unbindScrollListeners=function(){var t=this._scrollers,e;for(e=0;e<t.length;e++)t[e].removeEventListener("scroll",this._onScroll,vs);t.length=0};L.prototype._resolveStartPredicate=function(t){var e=this._startPredicateData;if(!(t.distance<e.distance||e.delay))return this._resetStartPredicate(),!0};L.prototype._forceResolveStartPredicate=function(t){!this._isDestroyed&&this._startPredicateState===pi&&(this._startPredicateState=Ne,this._onStart(t))};L.prototype._finishStartPredicate=function(t){var e=this._item._element,i=Math.abs(t.deltaX)<2&&Math.abs(t.deltaY)<2&&t.deltaTime<200;this._resetStartPredicate(),i&&Fo(e)};L.prototype._resetHeuristics=function(t,e){this._blockedSortIndex=null,this._sortX1=this._sortX2=t,this._sortY1=this._sortY2=e};L.prototype._checkHeuristics=function(t,e){var i=this._getGrid()._settings.dragSortHeuristics,r=i.minDragDistance;if(r<=0)return this._blockedSortIndex=null,!0;var s=t-this._sortX2,n=e-this._sortY2,o=r>3&&i.minBounceBackAngle>0;if(o||(this._blockedSortIndex=null),Math.abs(s)>r||Math.abs(n)>r){if(o){var l=Math.atan2(s,n),a=Math.atan2(this._sortX2-this._sortX1,this._sortY2-this._sortY1),h=Math.atan2(Math.sin(l-a),Math.cos(l-a));Math.abs(h)>i.minBounceBackAngle&&(this._blockedSortIndex=null)}return this._sortX1=this._sortX2,this._sortY1=this._sortY2,this._sortX2=t,this._sortY2=e,!0}return!1};L.prototype._resetStartPredicate=function(){var t=this._startPredicateData;t&&(t.delayTimer&&(t.delayTimer=window.clearTimeout(t.delayTimer)),this._startPredicateData=null)};L.prototype._handleSort=function(){if(this._isActive){var t=this._getGrid()._settings;if(!t.dragSort||!t.dragAutoScroll.sortDuringScroll&&L.autoScroller.isItemScrolling(this._item)){this._sortX1=this._sortX2=this._gridX,this._sortY1=this._sortY2=this._gridY,this._isSortNeeded=!0,this._sortTimer!==void 0&&(this._sortTimer=window.clearTimeout(this._sortTimer));return}var e=this._checkHeuristics(this._gridX,this._gridY);if(!(!this._isSortNeeded&&!e)){var i=t.dragSortHeuristics.sortInterval;i<=0||this._isSortNeeded?(this._isSortNeeded=!1,this._sortTimer!==void 0&&(this._sortTimer=window.clearTimeout(this._sortTimer)),this._checkOverlap()):this._sortTimer===void 0&&(this._sortTimer=window.setTimeout(this._handleSortDelayed,i))}}};L.prototype._handleSortDelayed=function(){this._isSortNeeded=!0,this._sortTimer=void 0,We(this._item._id,this._handleSort)};L.prototype._cancelSort=function(){this._isSortNeeded=!1,this._sortTimer!==void 0&&(this._sortTimer=window.clearTimeout(this._sortTimer)),ao(this._item._id)};L.prototype._finishSort=function(){var t=this._getGrid()._settings.dragSort,e=t&&(this._isSortNeeded||this._sortTimer!==void 0);this._cancelSort(),e&&this._checkOverlap()};L.prototype._checkOverlap=function(){if(this._isActive){var t=this._item,e=this._getGrid()._settings,i,r,s,n,o,l,a,h;C(e.dragSortPredicate)?i=e.dragSortPredicate(t,this._dragMoveEvent):i=L.defaultSortPredicate(t,e.dragSortPredicate),!(!i||typeof i.index!="number")&&(a=i.action===dt?dt:qt,r=t.getGrid(),n=i.grid||r,h=r!==n,s=r._items.indexOf(t),o=$t(n._items,i.index,h&&a===qt?1:0),!(!h&&o===this._blockedSortIndex)&&(h?(this._blockedSortIndex=null,l=n._items[o],r._hasListeners(Ct)&&r._emit(Ct,{item:t,fromGrid:r,fromIndex:s,toGrid:n,toIndex:o}),n._hasListeners(Ce)&&n._emit(Ce,{item:t,fromGrid:r,fromIndex:s,toGrid:n,toIndex:o}),t._gridId=n._id,this._isMigrating=t._gridId!==this._gridId,r._items.splice(s,1),Ei(n._items,t,o),t._sortData=null,r._hasListeners(Pe)&&r._emit(Pe,{item:t,fromGrid:r,fromIndex:s,toGrid:n,toIndex:o}),n._hasListeners(Re)&&n._emit(Re,{item:t,fromGrid:r,fromIndex:s,toGrid:n,toIndex:o}),a===dt&&l&&l.isActive()&&n._items.indexOf(l)>-1&&n.send(l,r,s,{appendTo:this._container||document.body,layoutSender:!1,layoutReceiver:!1}),r.layout(),n.layout()):s!==o&&(this._blockedSortIndex=s,(a===dt?fs:ds)(r._items,s,o),r._hasListeners(Le)&&r._emit(Le,{item:t,fromIndex:s,toIndex:o,action:a}),r.layout())))}};L.prototype._finishMigration=function(){var t=this._item,e=t._dragRelease,i=t._element,r=t._isActive,s=t.getGrid(),n=s._element,o=s._settings,l=o.dragContainer||n,a=this._getGrid()._settings,h=i.parentNode,c=r?a.itemVisibleClass:a.itemHiddenClass,d=r?o.itemVisibleClass:o.itemHiddenClass,v,y;this._isMigrating=!1,this.destroy(),a.itemClass!==o.itemClass&&(tt(i,a.itemClass),ot(i,o.itemClass)),c!==d&&(tt(i,c),ot(i,d)),l!==h&&(l.appendChild(i),y=Ut(h,l,!0),v=yt(i),v.x-=y.left,v.y-=y.top),t._refreshDimensions(),y=Ut(l,n,!0),e._containerDiffX=y.left,e._containerDiffY=y.top,t._drag=o.dragEnabled?new L(t):null,l!==h&&t._setTranslate(v.x,v.y),t._visibility.setStyles(r?o.visibleStyles:o.hiddenStyles),e.start()};L.prototype._preStartCheck=function(t){this._startPredicateState===Me&&(this._startPredicateState=pi),this._startPredicateState===pi?(this._startPredicateResult=this._startPredicate(this._item,t),this._startPredicateResult===!0?(this._startPredicateState=Ne,this._onStart(t)):this._startPredicateResult===!1&&(this._resetStartPredicate(t),this._dragger._reset(),this._startPredicateState=Me)):this._startPredicateState===Ne&&this._isActive&&this._onMove(t)};L.prototype._preEndCheck=function(t){var e=this._startPredicateState===Ne;this._startPredicate(this._item,t),this._startPredicateState=Me,!(!e||!this._isActive)&&(this._isStarted?this._onEnd(t):this.stop())};L.prototype._onStart=function(t){var e=this._item;e._isActive&&(this._isActive=!0,this._dragStartEvent=t,L.autoScroller.addItem(e),so(e._id,this._prepareStart,this._applyStart))};L.prototype._prepareStart=function(){if(this._isActive){var t=this._item;if(t._isActive){var e=t._element,i=this._getGrid(),r=i._settings,s=i._element,n=r.dragContainer||s,o=fi(n),l=yt(e),a=e.getBoundingClientRect(),h=n!==s;if(this._container=n,this._containingBlock=o,this._clientX=a.left,this._clientY=a.top,this._left=this._gridX=l.x,this._top=this._gridY=l.y,this._scrollDiffX=this._scrollDiffY=0,this._moveDiffX=this._moveDiffY=0,this._resetHeuristics(this._gridX,this._gridY),h){var c=Ut(o,s);this._containerDiffX=c.left,this._containerDiffY=c.top}}}};L.prototype._applyStart=function(){if(this._isActive){var t=this._item;if(t._isActive){var e=this._getGrid(),i=t._element,r=t._dragRelease,s=t._migrate,n=this._container!==e._element;t.isPositioning()&&t._layout.stop(!0,this._left,this._top),s._isActive&&(this._left-=s._containerDiffX,this._top-=s._containerDiffY,this._gridX-=s._containerDiffX,this._gridY-=s._containerDiffY,s.stop(!0,this._left,this._top)),t.isReleasing()&&r._reset(),e._settings.dragPlaceholder.enabled&&t._dragPlaceholder.create(),this._isStarted=!0,e._emit(qn,t,this._dragStartEvent),n&&(i.parentNode===this._container?(this._gridX-=this._containerDiffX,this._gridY-=this._containerDiffY):(this._left+=this._containerDiffX,this._top+=this._containerDiffY,this._container.appendChild(i),t._setTranslate(this._left,this._top))),ot(i,e._settings.itemDraggingClass),this._bindScrollListeners(),e._emit(Vn,t,this._dragStartEvent)}}};L.prototype._onMove=function(t){var e=this._item;if(!e._isActive){this.stop();return}this._dragMoveEvent=t,no(e._id,this._prepareMove,this._applyMove),We(e._id,this._handleSort)};L.prototype._prepareMove=function(){if(this._isActive){var t=this._item;if(t._isActive){var e=this._getGrid()._settings,i=e.dragAxis,r=this._dragMoveEvent,s=this._dragPrevMoveEvent||this._dragStartEvent||r;if(i!=="y"){var n=r.clientX-s.clientX;this._left=this._left-this._moveDiffX+n,this._gridX=this._gridX-this._moveDiffX+n,this._clientX=this._clientX-this._moveDiffX+n,this._moveDiffX=n}if(i!=="x"){var o=r.clientY-s.clientY;this._top=this._top-this._moveDiffY+o,this._gridY=this._gridY-this._moveDiffY+o,this._clientY=this._clientY-this._moveDiffY+o,this._moveDiffY=o}this._dragPrevMoveEvent=r}}};L.prototype._applyMove=function(){if(this._isActive){var t=this._item;t._isActive&&(this._moveDiffX=this._moveDiffY=0,t._setTranslate(this._left,this._top),this._getGrid()._emit(Bn,t,this._dragMoveEvent),L.autoScroller.updateItem(t))}};L.prototype._onScroll=function(t){var e=this._item;if(!e._isActive){this.stop();return}this._scrollEvent=t,oo(e._id,this._prepareScroll,this._applyScroll),We(e._id,this._handleSort)};L.prototype._prepareScroll=function(){if(this._isActive){var t=this._item;if(t._isActive){var e=t._element,i=this._getGrid(),r=i._element,s=e.getBoundingClientRect();if(this._container!==r){var n=Ut(this._containingBlock,r);this._containerDiffX=n.left,this._containerDiffY=n.top}var o=this._clientX-this._moveDiffX-s.left;this._left=this._left-this._scrollDiffX+o,this._scrollDiffX=o;var l=this._clientY-this._moveDiffY-s.top;this._top=this._top-this._scrollDiffY+l,this._scrollDiffY=l,this._gridX=this._left-this._containerDiffX,this._gridY=this._top-this._containerDiffY}}};L.prototype._applyScroll=function(){if(this._isActive){var t=this._item;t._isActive&&(this._scrollDiffX=this._scrollDiffY=0,t._setTranslate(this._left,this._top),this._getGrid()._emit(Yn,t,this._scrollEvent))}};L.prototype._onEnd=function(t){var e=this._item,i=e._element,r=this._getGrid(),s=r._settings,n=e._dragRelease;if(!e._isActive){this.stop();return}es(e._id),is(e._id),rs(e._id),this._finishSort(),this._unbindScrollListeners(),n._containerDiffX=this._containerDiffX,n._containerDiffY=this._containerDiffY,this._reset(),tt(i,s.itemDraggingClass),L.autoScroller.removeItem(e),r._emit(Wn,e,t),this._isMigrating?this._finishMigration():n.start()};function Fo(t){if(t.tagName.toLowerCase()==="a"){var e=t.getAttribute("href");if(e){var i=t.getAttribute("target");i&&i!=="_self"?window.open(e,i):window.location.href=e}}}function ms(t,e){var i={},r,s;if(Array.isArray(e))for(s=0;s<e.length;s++)r=e[s],i[r]=st(t,di(r));else for(r in e)i[r]=st(t,di(r));return i}var Ho=/^(webkit|moz|ms|o|Webkit|Moz|MS|O)(?=[A-Z])/,or={};function qo(t){var e=or[t];return e||(e=t.replace(Ho,""),e!==t&&(e=e[0].toLowerCase()+e.slice(1)),or[t]=e,e)}var Vo="[native code]";function Bo(t){var e=window.Symbol;return!!(t&&C(e)&&C(e.toString)&&e(t).toString().indexOf(Vo)>-1)}function Gt(t,e){for(var i in e)t.style[i]=e[i]}var Yo=!!(Element&&C(Element.prototype.animate)),ar=!!(Element&&Bo(Element.prototype.animate));function mt(t){this._element=t,this._animation=null,this._duration=0,this._easing="",this._callback=null,this._props=[],this._values=[],this._isDestroyed=!1,this._onFinish=this._onFinish.bind(this)}mt.prototype.start=function(t,e,i){if(!this._isDestroyed){var r=this._element,s=i||{};if(!Yo){Gt(r,e),this._callback=C(s.onFinish)?s.onFinish:null,this._onFinish();return}var n=this._animation,o=this._props,l=this._values,a=s.duration||300,h=s.easing||"ease",c=!1,d,v,y;if(n&&(v=0,(a!==this._duration||h!==this._easing)&&(c=!0),!c)){for(d in e)if(++v,y=o.indexOf(d),y===-1||e[d]!==l[y]){c=!0;break}v!==o.length&&(c=!0)}if(c&&n.cancel(),this._callback=C(s.onFinish)?s.onFinish:null,!(n&&!c)){o.length=l.length=0;for(d in e)o.push(d),l.push(e[d]);this._duration=a,this._easing=h,this._animation=r.animate([lr(t,ar),lr(e,ar)],{duration:a,easing:h}),this._animation.onfinish=this._onFinish,Gt(r,e)}}};mt.prototype.stop=function(){this._isDestroyed||!this._animation||(this._animation.cancel(),this._animation=this._callback=null,this._props.length=this._values.length=0)};mt.prototype.getCurrentStyles=function(){return ms(element,currentProps)};mt.prototype.isAnimating=function(){return!!this._animation};mt.prototype.destroy=function(){this._isDestroyed||(this.stop(),this._element=null,this._isDestroyed=!0)};mt.prototype._onFinish=function(){var t=this._callback;this._animation=this._callback=null,this._props.length=this._values.length=0,t&&t()};function lr(t,e){var i={};for(var r in t)i[e?r:qo(r)]=t[r];return i}function Lt(t,e){return"translateX("+t+"px) translateY("+e+"px)"}function rt(t){this._item=t,this._animation=new mt,this._element=null,this._className="",this._didMigrate=!1,this._resetAfterLayout=!1,this._left=0,this._top=0,this._transX=0,this._transY=0,this._nextTransX=0,this._nextTransY=0,this._setupAnimation=this._setupAnimation.bind(this),this._startAnimation=this._startAnimation.bind(this),this._updateDimensions=this._updateDimensions.bind(this),this._onLayoutStart=this._onLayoutStart.bind(this),this._onLayoutEnd=this._onLayoutEnd.bind(this),this._onReleaseEnd=this._onReleaseEnd.bind(this),this._onMigrate=this._onMigrate.bind(this),this._onHide=this._onHide.bind(this)}rt.prototype._updateDimensions=function(){this.isActive()&&Gt(this._element,{width:this._item._width+"px",height:this._item._height+"px"})};rt.prototype._onLayoutStart=function(t,e){var i=this._item;if(t.indexOf(i)===-1){this.reset();return}var r=i._left,s=i._top,n=this._left,o=this._top;if(this._left=r,this._top=s,!(!e&&!this._didMigrate&&n===r&&o===s)){var l=r+i._marginLeft,a=s+i._marginTop,h=i.getGrid(),c=!e&&h._settings.layoutDuration>0;if(!c||this._didMigrate){ss(i._id),this._element.style[vt]=Lt(l,a),this._animation.stop(),this._didMigrate&&(h.getElement().appendChild(this._element),this._didMigrate=!1);return}this._nextTransX=l,this._nextTransY=a,lo(i._id,this._setupAnimation,this._startAnimation)}};rt.prototype._setupAnimation=function(){if(this.isActive()){var t=yt(this._element);this._transX=t.x,this._transY=t.y}};rt.prototype._startAnimation=function(){if(this.isActive()){var t=this._animation,e=this._transX,i=this._transY,r=this._nextTransX,s=this._nextTransY;if(e===r&&i===s){t.isAnimating()&&(this._element.style[vt]=Lt(r,s),t.stop());return}var n=this._item.getGrid()._settings,o={},l={};o[vt]=Lt(e,i),l[vt]=Lt(r,s),t.start(o,l,{duration:n.layoutDuration,easing:n.layoutEasing,onFinish:this._onLayoutEnd})}};rt.prototype._onLayoutEnd=function(){this._resetAfterLayout&&this.reset()};rt.prototype._onReleaseEnd=function(t){if(t._id===this._item._id){if(!this._animation.isAnimating()){this.reset();return}this._resetAfterLayout=!0}};rt.prototype._onMigrate=function(t){if(t.item===this._item){var e=this._item.getGrid(),i=t.toGrid;e.off(ne,this._onReleaseEnd),e.off(Rt,this._onLayoutStart),e.off(Ct,this._onMigrate),e.off(se,this._onHide),i.on(ne,this._onReleaseEnd),i.on(Rt,this._onLayoutStart),i.on(Ct,this._onMigrate),i.on(se,this._onHide),this._didMigrate=!0}};rt.prototype._onHide=function(t){t.indexOf(this._item)>-1&&this.reset()};rt.prototype.create=function(){if(this.isActive()){this._resetAfterLayout=!1;return}var t=this._item,e=t.getGrid(),i=e._settings,r=this._animation;this._left=t._left,this._top=t._top;var s;C(i.dragPlaceholder.createElement)?s=i.dragPlaceholder.createElement(t):s=document.createElement("div"),this._element=s,r._element=s,this._className=i.itemPlaceholderClass||"",this._className&&ot(s,this._className),Gt(s,{position:"absolute",left:"0px",top:"0px",width:t._width+"px",height:t._height+"px"}),s.style[vt]=Lt(t._left+t._marginLeft,t._top+t._marginTop),e.on(Rt,this._onLayoutStart),e.on(ne,this._onReleaseEnd),e.on(Ct,this._onMigrate),e.on(se,this._onHide),C(i.dragPlaceholder.onCreate)&&i.dragPlaceholder.onCreate(t,s),e.getElement().appendChild(s)};rt.prototype.reset=function(){if(this.isActive()){var t=this._element,e=this._item,i=e.getGrid(),r=i._settings,s=this._animation;this._resetAfterLayout=!1,ss(e._id),co(e._id),s.stop(),s._element=null,i.off(ne,this._onReleaseEnd),i.off(Rt,this._onLayoutStart),i.off(Ct,this._onMigrate),i.off(se,this._onHide),this._className&&(tt(t,this._className),this._className=""),t.parentNode.removeChild(t),this._element=null,C(r.dragPlaceholder.onRemove)&&r.dragPlaceholder.onRemove(e,t)}};rt.prototype.isActive=function(){return!!this._element};rt.prototype.getElement=function(){return this._element};rt.prototype.updateDimensions=function(){this.isActive()&&ho(this._item._id,this._updateDimensions)};rt.prototype.destroy=function(){this.reset(),this._animation.destroy(),this._item=this._animation=null};function Mt(t){this._item=t,this._isActive=!1,this._isDestroyed=!1,this._isPositioningStarted=!1,this._containerDiffX=0,this._containerDiffY=0}Mt.prototype.start=function(){if(!(this._isDestroyed||this._isActive)){var t=this._item,e=t.getGrid(),i=e._settings;this._isActive=!0,ot(t._element,i.itemReleasingClass),i.dragRelease.useDragContainer||this._placeToGrid(),e._emit(Xn,t),e._nextLayoutData||t._layout.start(!1)}};Mt.prototype.stop=function(t,e,i){if(!(this._isDestroyed||!this._isActive)){var r=this._item,s=r.getGrid();!t&&(e===void 0||i===void 0)&&(e=r._left,i=r._top);var n=this._placeToGrid(e,i);this._reset(n),t||s._emit(ne,r)}};Mt.prototype.isJustReleased=function(){return this._isActive&&this._isPositioningStarted===!1};Mt.prototype.destroy=function(){this._isDestroyed||(this.stop(!0),this._item=null,this._isDestroyed=!0)};Mt.prototype._placeToGrid=function(t,e){if(!this._isDestroyed){var i=this._item,r=i._element,s=i.getGrid()._element,n=!1;if(r.parentNode!==s){if(t===void 0||e===void 0){var o=yt(r);t=o.x-this._containerDiffX,e=o.y-this._containerDiffY}s.appendChild(r),i._setTranslate(t,e),n=!0}return this._containerDiffX=0,this._containerDiffY=0,n}};Mt.prototype._reset=function(t){if(!this._isDestroyed){var e=this._item,i=e.getGrid()._settings.itemReleasingClass;this._isActive=!1,this._isPositioningStarted=!1,this._containerDiffX=0,this._containerDiffY=0,i&&(t&&e._element.clientWidth,tt(e._element,i))}};var hr=2;function wt(t){var e=t._element,i=e.style;this._item=t,this._isActive=!1,this._isDestroyed=!1,this._isInterrupted=!1,this._currentStyles={},this._targetStyles={},this._nextLeft=0,this._nextTop=0,this._offsetLeft=0,this._offsetTop=0,this._skipNextAnimation=!1,this._animOptions={onFinish:this._finish.bind(this),duration:0,easing:0},i.left="0px",i.top="0px",t._setTranslate(0,0),this._animation=new mt(e),this._queue="layout-"+t._id,this._setupAnimation=this._setupAnimation.bind(this),this._startAnimation=this._startAnimation.bind(this)}wt.prototype.start=function(t,e){if(!this._isDestroyed){var i=this._item,r=i._dragRelease,s=i.getGrid()._settings,n=this._isActive,o=r.isJustReleased(),l=o?s.dragRelease.duration:s.layoutDuration,a=o?s.dragRelease.easing:s.layoutEasing,h=!t&&!this._skipNextAnimation&&l>0;if(n&&(Jr(i._id),i._emitter.burst(this._queue,!0,i)),o&&(r._isPositioningStarted=!0),C(e)&&i._emitter.on(this._queue,e),this._skipNextAnimation=!1,!h){this._updateOffsets(),i._setTranslate(this._nextLeft,this._nextTop),this._animation.stop(),this._finish();return}this._animation.isAnimating()&&(this._animation._animation.onfinish=null),this._isActive=!0,this._animOptions.easing=a,this._animOptions.duration=l,this._isInterrupted=n,io(i._id,this._setupAnimation,this._startAnimation)}};wt.prototype.stop=function(t,e,i){if(!(this._isDestroyed||!this._isActive)){var r=this._item;if(Jr(r._id),this._animation.isAnimating()){if(e===void 0||i===void 0){var s=yt(r._element);e=s.x,i=s.y}r._setTranslate(e,i),this._animation.stop()}tt(r._element,r.getGrid()._settings.itemPositioningClass),this._isActive=!1,t&&r._emitter.burst(this._queue,!0,r)}};wt.prototype.destroy=function(){if(!this._isDestroyed){var t=this._item._element.style;this.stop(!0,0,0),this._item._emitter.clear(this._queue),this._animation.destroy(),t[vt]="",t.left="",t.top="",this._item=null,this._currentStyles=null,this._targetStyles=null,this._animOptions=null,this._isDestroyed=!0}};wt.prototype._updateOffsets=function(){if(!this._isDestroyed){var t=this._item,e=t._migrate,i=t._dragRelease;this._offsetLeft=i._isActive?i._containerDiffX:e._isActive?e._containerDiffX:0,this._offsetTop=i._isActive?i._containerDiffY:e._isActive?e._containerDiffY:0,this._nextLeft=this._item._left+this._offsetLeft,this._nextTop=this._item._top+this._offsetTop}};wt.prototype._finish=function(){if(!this._isDestroyed){var t=this._item,e=t._migrate,i=t._dragRelease;t._tX=this._nextLeft,t._tY=this._nextTop,this._isActive&&(this._isActive=!1,tt(t._element,t.getGrid()._settings.itemPositioningClass)),i._isActive&&i.stop(),e._isActive&&e.stop(),t._emitter.burst(this._queue,!1,t)}};wt.prototype._setupAnimation=function(){var t=this._item;if(t._tX===void 0||t._tY===void 0){var e=yt(t._element);t._tX=e.x,t._tY=e.y}};wt.prototype._startAnimation=function(){var t=this._item,e=t.getGrid()._settings,i=this._animOptions.duration<=0;this._updateOffsets();var r=Math.abs(t._left-(t._tX-this._offsetLeft)),s=Math.abs(t._top-(t._tY-this._offsetTop));if(i||r<hr&&s<hr){(r||s||this._isInterrupted)&&t._setTranslate(this._nextLeft,this._nextTop),this._animation.stop(),this._finish();return}this._isInterrupted||ot(t._element,e.itemPositioningClass),this._currentStyles[vt]=Lt(t._tX,t._tY),this._targetStyles[vt]=Lt(this._nextLeft,this._nextTop),t._tX=t._tY=void 0,this._animation.start(this._currentStyles,this._targetStyles,this._animOptions)};function fe(t){this._item=t,this._isActive=!1,this._isDestroyed=!1,this._container=!1,this._containerDiffX=0,this._containerDiffY=0}fe.prototype.start=function(t,e,i){if(!this._isDestroyed){var r=this._item,s=r._element,n=r.isActive(),o=r.isVisible(),l=r.getGrid(),a=l._settings,h=t._settings,c=t._element,d=t._items,v=l._items.indexOf(r),y=i||document.body,g,u,f,m,p,_,S,T,A,N;if(typeof e=="number")g=$t(d,e,1);else{if(u=t.getItem(e),!u)return;g=d.indexOf(u)}(r.isPositioning()||this._isActive||r.isReleasing())&&(_=yt(s),S=_.x,T=_.y),r.isPositioning()&&r._layout.stop(!0,S,T),this._isActive&&(S-=this._containerDiffX,T-=this._containerDiffY,this.stop(!0,S,T)),r.isReleasing()&&(S-=r._dragRelease._containerDiffX,T-=r._dragRelease._containerDiffY,r._dragRelease.stop(!0,S,T)),r._visibility.stop(!0),r._drag&&r._drag.destroy(),l._hasListeners(Ct)&&l._emit(Ct,{item:r,fromGrid:l,fromIndex:v,toGrid:t,toIndex:g}),t._hasListeners(Ce)&&t._emit(Ce,{item:r,fromGrid:l,fromIndex:v,toGrid:t,toIndex:g}),a.itemClass!==h.itemClass&&(tt(s,a.itemClass),ot(s,h.itemClass)),A=o?a.itemVisibleClass:a.itemHiddenClass,N=o?h.itemVisibleClass:h.itemHiddenClass,A!==N&&(tt(s,A),ot(s,N)),l._items.splice(v,1),Ei(d,r,g),r._gridId=t._id,n?(f=s.parentNode,y!==f&&(y.appendChild(s),m=Ut(y,f,!0),_||(_=yt(s),S=_.x,T=_.y),r._setTranslate(S+m.left,T+m.top))):c.appendChild(s),r._visibility.setStyles(o?h.visibleStyles:h.hiddenStyles),n&&(p=Ut(y,c,!0)),r._refreshDimensions(),r._sortData=null,r._drag=h.dragEnabled?new L(r):null,n?(this._isActive=!0,this._container=y,this._containerDiffX=p.left,this._containerDiffY=p.top):(this._isActive=!1,this._container=null,this._containerDiffX=0,this._containerDiffY=0),l._hasListeners(Pe)&&l._emit(Pe,{item:r,fromGrid:l,fromIndex:v,toGrid:t,toIndex:g}),t._hasListeners(Re)&&t._emit(Re,{item:r,fromGrid:l,fromIndex:v,toGrid:t,toIndex:g})}};fe.prototype.stop=function(t,e,i){if(!(this._isDestroyed||!this._isActive)){var r=this._item,s=r._element,n=r.getGrid(),o=n._element,l;this._container!==o&&((e===void 0||i===void 0)&&(t?(l=yt(s),e=l.x-this._containerDiffX,i=l.y-this._containerDiffY):(e=r._left,i=r._top)),o.appendChild(s),r._setTranslate(e,i)),this._isActive=!1,this._container=null,this._containerDiffX=0,this._containerDiffY=0}};fe.prototype.destroy=function(){this._isDestroyed||(this.stop(!0),this._item=null,this._isDestroyed=!0)};function ut(t){var e=t._isActive,i=t._element,r=i.children[0],s=t.getGrid()._settings;if(!r)throw new Error("No valid child element found within item element.");this._item=t,this._isDestroyed=!1,this._isHidden=!e,this._isHiding=!1,this._isShowing=!1,this._childElement=r,this._currentStyleProps=[],this._animation=new mt(r),this._queue="visibility-"+t._id,this._finishShow=this._finishShow.bind(this),this._finishHide=this._finishHide.bind(this),i.style.display=e?"":"none",ot(i,e?s.itemVisibleClass:s.itemHiddenClass),this.setStyles(e?s.visibleStyles:s.hiddenStyles)}ut.prototype.show=function(t,e){if(!this._isDestroyed){var i=this._item,r=i._element,s=C(e)?e:null,n=i.getGrid(),o=n._settings;if(!this._isShowing&&!this._isHidden){s&&s(!1,i);return}if(this._isShowing&&!t){s&&i._emitter.on(this._queue,s);return}this._isShowing||(i._emitter.burst(this._queue,!0,i),tt(r,o.itemHiddenClass),ot(r,o.itemVisibleClass),this._isHiding||(r.style.display="")),s&&i._emitter.on(this._queue,s),this._isShowing=!0,this._isHiding=this._isHidden=!1,this._startAnimation(!0,t,this._finishShow)}};ut.prototype.hide=function(t,e){if(!this._isDestroyed){var i=this._item,r=i._element,s=C(e)?e:null,n=i.getGrid(),o=n._settings;if(!this._isHiding&&this._isHidden){s&&s(!1,i);return}if(this._isHiding&&!t){s&&i._emitter.on(this._queue,s);return}this._isHiding||(i._emitter.burst(this._queue,!0,i),ot(r,o.itemHiddenClass),tt(r,o.itemVisibleClass)),s&&i._emitter.on(this._queue,s),this._isHidden=this._isHiding=!0,this._isShowing=!1,this._startAnimation(!1,t,this._finishHide)}};ut.prototype.stop=function(t){if(!this._isDestroyed&&!(!this._isHiding&&!this._isShowing)){var e=this._item;ts(e._id),this._animation.stop(),t&&e._emitter.burst(this._queue,!0,e)}};ut.prototype.setStyles=function(t){var e=this._childElement,i=this._currentStyleProps;this._removeCurrentStyles();for(var r in t)i.push(r),e.style[r]=t[r]};ut.prototype.destroy=function(){if(!this._isDestroyed){var t=this._item,e=t._element,i=t.getGrid(),r=i._settings;this.stop(!0),t._emitter.clear(this._queue),this._animation.destroy(),this._removeCurrentStyles(),tt(e,r.itemVisibleClass),tt(e,r.itemHiddenClass),e.style.display="",this._isHiding=this._isShowing=!1,this._isDestroyed=this._isHidden=!0}};ut.prototype._startAnimation=function(t,e,i){if(!this._isDestroyed){var r=this._item,s=this._animation,n=this._childElement,o=r.getGrid()._settings,l=t?o.visibleStyles:o.hiddenStyles,a=t?o.showDuration:o.hideDuration,h=t?o.showEasing:o.hideEasing,c=e||a<=0,d;if(!l){i&&i();return}if(ts(r._id),c){Gt(n,l),s.stop(),i&&i();return}s.isAnimating()&&(s._animation.onfinish=null),ro(r._id,function(){d=ms(n,l)},function(){s.start(d,l,{duration:a,easing:h,onFinish:i})})}};ut.prototype._finishShow=function(){this._isHidden||(this._isShowing=!1,this._item._emitter.burst(this._queue,!1,this._item))};ut.prototype._finishHide=function(){if(this._isHidden){var t=this._item;this._isHiding=!1,t._layout.stop(!0,0,0),t._element.style.display="none",t._emitter.burst(this._queue,!1,t)}};ut.prototype._removeCurrentStyles=function(){for(var t=this._childElement,e=this._currentStyleProps,i=0;i<e.length;i++)t.style[e[i]]="";e.length=0};var Wo=0;function _s(){return++Wo}function Y(t,e,i){var r=t._settings;if(zt){if(zt.has(e))throw new Error("You can only create one Muuri Item per element!");zt.set(e,this)}this._id=_s(),this._gridId=t._id,this._element=e,this._isDestroyed=!1,this._left=0,this._top=0,this._width=0,this._height=0,this._marginLeft=0,this._marginRight=0,this._marginTop=0,this._marginBottom=0,this._tX=void 0,this._tY=void 0,this._sortData=null,this._emitter=new ht,e.parentNode!==t._element&&t._element.appendChild(e),ot(e,r.itemClass),typeof i!="boolean"&&(i=st(e,"display")!=="none"),this._isActive=i,this._visibility=new ut(this),this._layout=new wt(this),this._migrate=new fe(this),this._drag=r.dragEnabled?new L(this):null,this._dragRelease=new Mt(this),this._dragPlaceholder=new rt(this)}Y.prototype.getGrid=function(){return He[this._gridId]};Y.prototype.getElement=function(){return this._element};Y.prototype.getWidth=function(){return this._width};Y.prototype.getHeight=function(){return this._height};Y.prototype.getMargin=function(){return{left:this._marginLeft,right:this._marginRight,top:this._marginTop,bottom:this._marginBottom}};Y.prototype.getPosition=function(){return{left:this._left,top:this._top}};Y.prototype.isActive=function(){return this._isActive};Y.prototype.isVisible=function(){return!!this._visibility&&!this._visibility._isHidden};Y.prototype.isShowing=function(){return!!(this._visibility&&this._visibility._isShowing)};Y.prototype.isHiding=function(){return!!(this._visibility&&this._visibility._isHiding)};Y.prototype.isPositioning=function(){return!!(this._layout&&this._layout._isActive)};Y.prototype.isDragging=function(){return!!(this._drag&&this._drag._isActive)};Y.prototype.isReleasing=function(){return!!(this._dragRelease&&this._dragRelease._isActive)};Y.prototype.isDestroyed=function(){return this._isDestroyed};Y.prototype._refreshDimensions=function(t){if(!this._isDestroyed&&!(t!==!0&&this._visibility._isHidden)){var e=this._element,i=this._dragPlaceholder,r=e.getBoundingClientRect();this._width=r.width,this._height=r.height,this._marginLeft=Math.max(0,lt(e,"margin-left")),this._marginRight=Math.max(0,lt(e,"margin-right")),this._marginTop=Math.max(0,lt(e,"margin-top")),this._marginBottom=Math.max(0,lt(e,"margin-bottom")),i&&i.updateDimensions()}};Y.prototype._refreshSortData=function(){if(!this._isDestroyed){var t=this._sortData={},e=this.getGrid()._settings.sortData,i;for(i in e)t[i]=e[i](this,this._element)}};Y.prototype._addToLayout=function(t,e){this._isActive!==!0&&(this._isActive=!0,this._left=t||0,this._top=e||0)};Y.prototype._removeFromLayout=function(){this._isActive!==!1&&(this._isActive=!1,this._left=0,this._top=0)};Y.prototype._canSkipLayout=function(t,e){return this._left===t&&this._top===e&&!this._migrate._isActive&&!this._layout._skipNextAnimation&&!this._dragRelease.isJustReleased()};Y.prototype._setTranslate=function(t,e){return this._tX===t&&this._tY===e?!1:(this._tX=t,this._tY=e,this._element.style[vt]=Lt(t,e),!0)};Y.prototype._destroy=function(t){if(!this._isDestroyed){var e=this._element,i=this.getGrid(),r=i._settings;this._dragPlaceholder.destroy(),this._dragRelease.destroy(),this._migrate.destroy(),this._layout.destroy(),this._visibility.destroy(),this._drag&&this._drag.destroy(),this._emitter.destroy(),tt(e,r.itemClass),t&&e.parentNode.removeChild(e),zt&&zt.delete(e),this._isActive=!1,this._isDestroyed=!0}};function gs(t){var e=1,i=2,r=4,s=8,n=16,o=.001,l=.5;function a(u){return((u*1e3+.5<<0)/10<<0)/100}function h(){this.currentRects=[],this.nextRects=[],this.rectTarget={},this.rectStore=[],this.slotSizes=[],this.rectId=0,this.slotIndex=-1,this.slotData={left:0,top:0,width:0,height:0},this.sortRectsLeftTop=this.sortRectsLeftTop.bind(this),this.sortRectsTopLeft=this.sortRectsTopLeft.bind(this)}if(h.prototype.computeLayout=function(u,f){var m=u.items,p=u.slots,_=!!(f&e),S=!!(f&i),T=!!(f&r),A=!!(f&s),N=!!(f&n),M=typeof m[0]=="number",D,z,H,X,W,U;if(!m.length)return u;for(z=M?2:1,D=0;D<m.length;D+=z)M?(X=m[D],W=m[D+1]):(H=m[D],X=H._width+H._marginLeft+H._marginRight,W=H._height+H._marginTop+H._marginBottom),N&&(X=a(X),W=a(W)),U=this.computeNextSlot(u,X,W,_,S),S?U.left+U.width>u.width&&(u.width=U.left+U.width):U.top+U.height>u.height&&(u.height=U.top+U.height),p[++this.slotIndex]=U.left,p[++this.slotIndex]=U.top,(T||A)&&this.slotSizes.push(U.width,U.height);if(T)for(D=0;D<p.length;D+=2)p[D]=u.width-(p[D]+this.slotSizes[D]);if(A)for(D=1;D<p.length;D+=2)p[D]=u.height-(p[D]+this.slotSizes[D]);return this.slotSizes.length=0,this.currentRects.length=0,this.nextRects.length=0,this.rectStore.length=0,this.rectId=0,this.slotIndex=-1,u},h.prototype.computeNextSlot=function(u,f,m,p,_){var S=this.slotData,T=this.currentRects,A=this.nextRects,N=!1,M,D,z,H,X;for(A.length=0,S.left=null,S.top=null,S.width=f,S.height=m,H=0;H<T.length;H++)if(D=T[H],!!D&&(M=this.getRect(D),S.width<=M.width+o&&S.height<=M.height+o)){S.left=M.left,S.top=M.top;break}if(S.left===null&&(_?(S.left=u.width,S.top=0):(S.left=0,S.top=u.height),p||(N=!0)),!_&&S.top+S.height>u.height+o&&(S.left>l&&A.push(this.addRect(0,u.height,S.left,1/0)),S.left+S.width<u.width-l&&A.push(this.addRect(S.left+S.width,u.height,u.width-S.left-S.width,1/0)),u.height=S.top+S.height),_&&S.left+S.width>u.width+o&&(S.top>l&&A.push(this.addRect(u.width,0,1/0,S.top)),S.top+S.height<u.height-l&&A.push(this.addRect(u.width,S.top+S.height,1/0,u.height-S.top-S.height)),u.width=S.left+S.width),!N){for(p&&(H=0);H<T.length;H++)if(D=T[H],!!D)for(M=this.getRect(D),z=this.splitRect(M,S),X=0;X<z.length;X++)D=z[X],M=this.getRect(D),(_?M.left+o<u.width-o:M.top+o<u.height-o)&&A.push(D)}return A.length>1&&this.purgeRects(A).sort(_?this.sortRectsLeftTop:this.sortRectsTopLeft),this.currentRects=A,this.nextRects=T,S},h.prototype.addRect=function(u,f,m,p){var _=++this.rectId;return this.rectStore[_]=u||0,this.rectStore[++this.rectId]=f||0,this.rectStore[++this.rectId]=m||0,this.rectStore[++this.rectId]=p||0,_},h.prototype.getRect=function(u,f){return f||(f=this.rectTarget),f.left=this.rectStore[u]||0,f.top=this.rectStore[++u]||0,f.width=this.rectStore[++u]||0,f.height=this.rectStore[++u]||0,f},h.prototype.splitRect=function(){var u=[],f=0,m=0;return function(p,_){return u.length=0,p.left+p.width<=_.left+o||_.left+_.width<=p.left+o||p.top+p.height<=_.top+o||_.top+_.height<=p.top+o?(u.push(this.addRect(p.left,p.top,p.width,p.height)),u):(f=_.left-p.left,f>=l&&u.push(this.addRect(p.left,p.top,f,p.height)),f=p.left+p.width-(_.left+_.width),f>=l&&u.push(this.addRect(_.left+_.width,p.top,f,p.height)),m=_.top-p.top,m>=l&&u.push(this.addRect(p.left,p.top,p.width,m)),m=p.top+p.height-(_.top+_.height),m>=l&&u.push(this.addRect(p.left,_.top+_.height,p.width,m)),u)}}(),h.prototype.isRectAWithinRectB=function(u,f){return u.left+o>=f.left&&u.top+o>=f.top&&u.left+u.width-o<=f.left+f.width&&u.top+u.height-o<=f.top+f.height},h.prototype.purgeRects=function(){var u={},f={};return function(m){for(var p=m.length,_;p--;)if(_=m.length,!!m[p]){for(this.getRect(m[p],u);_--;)if(!(!m[_]||p===_)&&(this.getRect(m[_],f),this.isRectAWithinRectB(u,f))){m[p]=0;break}}return m}}(),h.prototype.sortRectsTopLeft=function(){var u={},f={};return function(m,p){return this.getRect(m,u),this.getRect(p,f),u.top<f.top&&u.top+o<f.top?-1:u.top>f.top&&u.top-o>f.top?1:u.left<f.left&&u.left+o<f.left?-1:u.left>f.left&&u.left-o>f.left?1:0}}(),h.prototype.sortRectsLeftTop=function(){var u={},f={};return function(m,p){return this.getRect(m,u),this.getRect(p,f),u.left<f.left&&u.left+o<f.left?-1:u.left>f.left&&u.left-o<f.left?1:u.top<f.top&&u.top+o<f.top?-1:u.top>f.top&&u.top-o>f.top?1:0}}(),t){var c=1,d=2,v=3,y=4,g=new h;self.onmessage=function(u){var f=new Float32Array(u.data),m=f.subarray(y,f.length),p=new Float32Array(m.length),_=f[v],S={items:m,slots:p,width:f[c],height:f[d]};g.computeLayout(S,_),f[c]=S.width,f[d]=S.height,f.set(S.slots,y),postMessage(f.buffer,[f.buffer])}}return h}var cr=gs(),Xt=null,Ie=[];function Xo(t,e){var i=[];if(t>0){Xt||(Xt=URL.createObjectURL(new Blob(["("+gs.toString()+")(true)"],{type:"application/javascript"})));for(var r=0,s;r<t;r++)s=new Worker(Xt),e&&(s.onmessage=e),i.push(s),Ie.push(s)}return i}function $o(t){for(var e,i,r=0;r<t.length;r++)e=t[r],e.onmessage=null,e.onerror=null,e.onmessageerror=null,e.terminate(),i=Ie.indexOf(e),i>-1&&Ie.splice(i,1);Xt&&!Ie.length&&(URL.revokeObjectURL(Xt),Xt=null)}function Uo(){return!!(window.Worker&&window.URL&&window.Blob)}var ur=1,ze=2,dr=4,fr=8,pr=16,ys=0,Ss=1,ws=2,Go=3,vi=4;function bt(t,e){if(this._options=0,this._processor=null,this._layoutQueue=[],this._layouts={},this._layoutCallbacks={},this._layoutWorkers={},this._layoutWorkerData={},this._workers=[],this._onWorkerMessage=this._onWorkerMessage.bind(this),this.setOptions(e),t=typeof t=="number"?Math.max(0,t):0,t&&Uo())try{this._workers=Xo(t,this._onWorkerMessage)}catch(i){this._processor=new cr}else this._processor=new cr}bt.prototype._sendToWorker=function(){if(!(!this._layoutQueue.length||!this._workers.length)){var t=this._layoutQueue.shift(),e=this._workers.pop(),i=this._layoutWorkerData[t];delete this._layoutWorkerData[t],this._layoutWorkers[t]=e,e.postMessage(i.buffer,[i.buffer])}};bt.prototype._onWorkerMessage=function(t){var e=new Float32Array(t.data),i=e[ys],r=this._layouts[i],s=this._layoutCallbacks[i],n=this._layoutWorkers[i];r&&delete this._layouts[i],s&&delete this._layoutCallbacks[i],n&&delete this._layoutWorkers[i],r&&s&&(r.width=e[Ss],r.height=e[ws],r.slots=e.subarray(vi,e.length),this._finalizeLayout(r),s(r)),n&&(this._workers.push(n),this._sendToWorker())};bt.prototype._finalizeLayout=function(t){var e=t._grid,i=t._settings&ze,r=e._boxSizing==="border-box";return delete t._grid,delete t._settings,t.styles={},i?t.styles.width=(r?t.width+e._borderLeft+e._borderRight:t.width)+"px":t.styles.height=(r?t.height+e._borderTop+e._borderBottom:t.height)+"px",t};bt.prototype.setOptions=function(t){if(t){var e;typeof t.fillGaps=="boolean"?e=t.fillGaps?ur:0:e=this._options&ur;var i;typeof t.horizontal=="boolean"?i=t.horizontal?ze:0:i=this._options&ze;var r;typeof t.alignRight=="boolean"?r=t.alignRight?dr:0:r=this._options&dr;var s;typeof t.alignBottom=="boolean"?s=t.alignBottom?fr:0:s=this._options&fr;var n;typeof t.rounding=="boolean"?n=t.rounding?pr:0:n=this._options&pr,this._options=e|i|r|s|n}};bt.prototype.createLayout=function(t,e,i,r,s,n){if(this._layouts[e])throw new Error("A layout with the provided id is currently being processed.");var o=this._options&ze,l={id:e,items:i,slots:null,width:o?0:r,height:o?s:0,_grid:t,_settings:this._options};if(!i.length){l.slots=[],this._finalizeLayout(l),n(l);return}if(this._processor){l.slots=window.Float32Array?new Float32Array(i.length*2):new Array(i.length*2),this._processor.computeLayout(l,l._settings),this._finalizeLayout(l),n(l);return}var a=new Float32Array(vi+i.length*2);a[ys]=e,a[Ss]=l.width,a[ws]=l.height,a[Go]=l._settings;var h,c,d;for(h=0,c=vi-1,d;h<i.length;h++)d=i[h],a[++c]=d._width+d._marginLeft+d._marginRight,a[++c]=d._height+d._marginTop+d._marginBottom;return this._layoutQueue.push(e),this._layouts[e]=l,this._layoutCallbacks[e]=n,this._layoutWorkerData[e]=a,this._sendToWorker(),this.cancelLayout.bind(this,e)};bt.prototype.cancelLayout=function(t){var e=this._layouts[t];if(e&&(delete this._layouts[t],delete this._layoutCallbacks[t],this._layoutWorkerData[t])){delete this._layoutWorkerData[t];var i=this._layoutQueue.indexOf(t);i>-1&&this._layoutQueue.splice(i,1)}};bt.prototype.destroy=function(){for(var t in this._layoutWorkers)this._workers.push(this._layoutWorkers[t]);$o(this._workers),this._workers.length=0,this._layoutQueue.length=0,this._layouts={},this._layoutCallbacks={},this._layoutWorkers={},this._layoutWorkerData={}};var jo=0;function Zo(t,e){var i=++jo,r=0,s=0,n=!1,o=function(l){n||(s&&(r-=l-s),s=l,r>0?fo(i,o):(r=s=0,t()))};return function(l){if(!n){if(e<=0){l!==!0&&t();return}if(l===!0){n=!0,r=s=0,o=void 0,po(i);return}r<=0?(r=e,o(0)):r=e}}}var Qo="[object HTMLCollection]",Ko="[object NodeList]";function Ti(t){var e=Object.prototype.toString.call(t);return e===Qo||e===Ko}var Jo="object",ta="[object Object]",ea=Object.prototype.toString;function vr(t){return typeof t===Jo&&ea.call(t)===ta}function ia(){}function ra(t){return Ti(t)?Array.prototype.slice.call(t):Array.prototype.concat(t)}var bs="number",$e="string",xt="instant",ni=0;function P(t,e){typeof t===$e&&(t=document.querySelector(t));var i=t.getRootNode?t.getRootNode({composed:!0})===document:document.body.contains(t);if(!i||t===document.documentElement)throw new Error("Container element must be an existing DOM element.");var r=sa(P.defaultOptions,e);r.visibleStyles=mr(r.visibleStyles),r.hiddenStyles=mr(r.hiddenStyles),C(r.dragSort)||(r.dragSort=!!r.dragSort),this._id=_s(),this._element=t,this._settings=r,this._isDestroyed=!1,this._items=[],this._layout={id:0,items:[],slots:[]},this._isLayoutFinished=!0,this._nextLayoutData=null,this._emitter=new ht,this._onLayoutDataReceived=this._onLayoutDataReceived.bind(this),He[this._id]=this,ot(t,r.containerClass),oa(this,r.layoutOnResize),this.add(na(t,r.items),{layout:!1}),r.layoutOnInit&&this.layout(!0)}P.Item=Y;P.ItemLayout=wt;P.ItemVisibility=ut;P.ItemMigrate=fe;P.ItemDrag=L;P.ItemDragRelease=Mt;P.ItemDragPlaceholder=rt;P.Emitter=ht;P.Animator=mt;P.Dragger=b;P.Packer=bt;P.AutoScroller=O;P.defaultPacker=new bt(2);P.defaultOptions={items:"*",showDuration:300,showEasing:"ease",hideDuration:300,hideEasing:"ease",visibleStyles:{opacity:"1",transform:"scale(1)"},hiddenStyles:{opacity:"0",transform:"scale(0.5)"},layout:{fillGaps:!1,horizontal:!1,alignRight:!1,alignBottom:!1,rounding:!1},layoutOnResize:150,layoutOnInit:!0,layoutDuration:300,layoutEasing:"ease",sortData:null,dragEnabled:!1,dragContainer:null,dragHandle:null,dragStartPredicate:{distance:0,delay:0},dragAxis:"xy",dragSort:!0,dragSortHeuristics:{sortInterval:100,minDragDistance:10,minBounceBackAngle:1},dragSortPredicate:{threshold:50,action:qt,migrateAction:qt},dragRelease:{duration:300,easing:"ease",useDragContainer:!0},dragCssProps:{touchAction:"none",userSelect:"none",userDrag:"none",tapHighlightColor:"rgba(0, 0, 0, 0)",touchCallout:"none",contentZooming:"none"},dragPlaceholder:{enabled:!1,createElement:null,onCreate:null,onRemove:null},dragAutoScroll:{targets:[],handle:null,threshold:50,safeZone:.2,speed:O.smoothSpeed(1e3,2e3,2500),sortDuringScroll:!0,smoothStop:!1,onStart:null,onStop:null},containerClass:"muuri",itemClass:"muuri-item",itemVisibleClass:"muuri-item-shown",itemHiddenClass:"muuri-item-hidden",itemPositioningClass:"muuri-item-positioning",itemDraggingClass:"muuri-item-dragging",itemReleasingClass:"muuri-item-releasing",itemPlaceholderClass:"muuri-item-placeholder"};P.prototype.on=function(t,e){return this._emitter.on(t,e),this};P.prototype.off=function(t,e){return this._emitter.off(t,e),this};P.prototype.getElement=function(){return this._element};P.prototype.getItem=function(t){if(this._isDestroyed||!t&&t!==0)return null;if(typeof t===bs)return this._items[t>-1?t:this._items.length+t]||null;if(t instanceof Y)return t._gridId===this._id?t:null;if(zt){var e=zt.get(t);return e&&e._gridId===this._id?e:null}else for(var i=0;i<this._items.length;i++)if(this._items[i]._element===t)return this._items[i];return null};P.prototype.getItems=function(t){if(this._isDestroyed||t===void 0)return this._items.slice(0);var e=[],i,r;if(Array.isArray(t)||Ti(t))for(i=0;i<t.length;i++)r=this.getItem(t[i]),r&&e.push(r);else r=this.getItem(t),r&&e.push(r);return e};P.prototype.refreshItems=function(t,e){if(this._isDestroyed)return this;var i=t||this._items,r,s,n,o;if(e===!0)for(o=[],r=0;r<i.length;r++)s=i[r],!s.isVisible()&&!s.isHiding()&&(n=s.getElement().style,n.visibility="hidden",n.display="",o.push(n));for(r=0;r<i.length;r++)i[r]._refreshDimensions(e);if(e===!0){for(r=0;r<o.length;r++)n=o[r],n.visibility="",n.display="none";o.length=0}return this};P.prototype.refreshSortData=function(t){if(this._isDestroyed)return this;for(var e=t||this._items,i=0;i<e.length;i++)e[i]._refreshSortData();return this};P.prototype.synchronize=function(){if(this._isDestroyed)return this;var t=this._items;if(!t.length)return this;for(var e,i,r=0;r<t.length;r++)i=t[r]._element,i.parentNode===this._element&&(e=e||document.createDocumentFragment(),e.appendChild(i));return e?(this._element.appendChild(e),this._emit(Nn),this):this};P.prototype.layout=function(t,e){if(this._isDestroyed)return this;var i=this._nextLayoutData;i&&C(i.cancel)&&i.cancel(),ni=ni%Un+1;var r=ni;this._nextLayoutData={id:r,instant:t,onFinish:e,cancel:null};for(var s=this._items,n=[],o=0;o<s.length;o++)s[o]._isActive&&n.push(s[o]);this._refreshDimensions();var l=this._width-this._borderLeft-this._borderRight,a=this._height-this._borderTop-this._borderBottom,h=this._settings.layout,c;return C(h)?c=h(this,r,n,l,a,this._onLayoutDataReceived):(P.defaultPacker.setOptions(h),c=P.defaultPacker.createLayout(this,r,n,l,a,this._onLayoutDataReceived)),C(c)&&this._nextLayoutData&&this._nextLayoutData.id===r&&(this._nextLayoutData.cancel=c),this};P.prototype.add=function(t,e){if(this._isDestroyed||!t)return[];var i=ra(t);if(!i.length)return i;var r=e||{},s=r.layout?r.layout:r.layout===void 0,n=this._items,o=!1,l,a,h,c;for(c=0;c<i.length;c++)a=i[c],a.parentNode!==this._element&&(l=l||document.createDocumentFragment(),l.appendChild(a));for(l&&this._element.appendChild(l),c=0;c<i.length;c++)a=i[c],h=i[c]=new Y(this,a,r.active),h._isActive&&(o=!0,h._layout._skipNextAnimation=!0);for(c=0;c<i.length;c++)h=i[c],h._refreshDimensions(),h._refreshSortData();return Ei(n,i,r.index),this._hasListeners(Ki)&&this._emit(Ki,i.slice(0)),o&&s&&this.layout(s===xt,C(s)?s:void 0),i};P.prototype.remove=function(t,e){if(this._isDestroyed||!t.length)return[];var i=e||{},r=i.layout?i.layout:i.layout===void 0,s=!1,n=this.getItems(),o=[],l=[],a,h,c;for(c=0;c<t.length;c++)h=t[c],!h._isDestroyed&&(a=this._items.indexOf(h),a!==-1&&(h._isActive&&(s=!0),o.push(h),l.push(n.indexOf(h)),h._destroy(i.removeElements),this._items.splice(a,1)));return this._hasListeners(Ji)&&this._emit(Ji,o.slice(0),l),s&&r&&this.layout(r===xt,C(r)?r:void 0),o};P.prototype.show=function(t,e){return!this._isDestroyed&&t.length&&this._setItemsVisibility(t,!0,e),this};P.prototype.hide=function(t,e){return!this._isDestroyed&&t.length&&this._setItemsVisibility(t,!1,e),this};P.prototype.filter=function(t,e){if(this._isDestroyed||!this._items.length)return this;var i=[],r=[],s=typeof t===$e,n=C(t),o=e||{},l=o.instant===!0,a=o.syncWithLayout,h=o.layout?o.layout:o.layout===void 0,c=C(o.onFinish)?o.onFinish:null,d=-1,v=ia,y,g;if(c&&(v=function(){++d&&c(i.slice(0),r.slice(0))}),n||s)for(g=0;g<this._items.length;g++)y=this._items[g],(n?t(y):Xe(y._element,t))?i.push(y):r.push(y);return i.length?this.show(i,{instant:l,syncWithLayout:a,onFinish:v,layout:!1}):v(),r.length?this.hide(r,{instant:l,syncWithLayout:a,onFinish:v,layout:!1}):v(),(i.length||r.length)&&(this._hasListeners(tr)&&this._emit(tr,i.slice(0),r.slice(0)),h&&this.layout(h===xt,C(h)?h:void 0)),this};P.prototype.sort=function(){var t,e,i,r;function s(o,l){for(var a=0,h,c,d,v,y=0;y<t.length;y++)if(h=t[y][0],c=t[y][1],d=(o._sortData?o:o._refreshSortData())._sortData[h],v=(l._sortData?l:l._refreshSortData())._sortData[h],c==="desc"||!c&&e?a=v<d?-1:v>d?1:0:a=d<v?-1:d>v?1:0,a)return a;return a||(r||(r=_r(i)),a=e?Te(r,l,o):Te(r,o,l)),a}function n(o,l){var a=e?-t(o,l):t(o,l);return a||(r||(r=_r(i)),a=e?Te(r,l,o):Te(r,o,l)),a}return function(o,l){if(this._isDestroyed||this._items.length<2)return this;var a=this._items,h=l||{},c=h.layout?h.layout:h.layout===void 0;if(e=!!h.descending,i=a.slice(0),r=null,C(o))t=o,a.sort(n);else if(typeof o===$e)t=o.trim().split(" ").filter(function(d){return d}).map(function(d){return d.split(":")}),a.sort(s);else if(Array.isArray(o))a.length=0,a.push.apply(a,o);else throw t=e=i=r=null,new Error("Invalid comparer argument provided.");return this._hasListeners(er)&&this._emit(er,a.slice(0),i),c&&this.layout(c===xt,C(c)?c:void 0),t=e=i=r=null,this}}();P.prototype.move=function(t,e,i){if(this._isDestroyed||this._items.length<2)return this;var r=this._items,s=i||{},n=s.layout?s.layout:s.layout===void 0,o=s.action===dt,l=o?dt:qt,a=this.getItem(t),h=this.getItem(e),c,d;return a&&h&&a!==h&&(c=r.indexOf(a),d=r.indexOf(h),o?fs(r,c,d):ds(r,c,d),this._hasListeners(Le)&&this._emit(Le,{item:a,fromIndex:c,toIndex:d,action:l}),n&&this.layout(n===xt,C(n)?n:void 0)),this};P.prototype.send=function(t,e,i,r){if(this._isDestroyed||e._isDestroyed||this===e)return this;if(t=this.getItem(t),!t)return this;var s=r||{},n=s.appendTo||document.body,o=s.layoutSender?s.layoutSender:s.layoutSender===void 0,l=s.layoutReceiver?s.layoutReceiver:s.layoutReceiver===void 0;return t._migrate.start(e,i,n),t._migrate._isActive&&t._isActive&&(o&&this.layout(o===xt,C(o)?o:void 0),l&&e.layout(l===xt,C(l)?l:void 0)),this};P.prototype.destroy=function(t){if(this._isDestroyed)return this;var e=this._element,i=this._items.slice(0),r=this._layout&&this._layout.styles||{},s,n;for(aa(this),s=0;s<i.length;s++)i[s]._destroy(t);this._items.length=0,tt(e,this._settings.containerClass);for(n in r)e.style[n]="";return this._emit($n),this._emitter.destroy(),delete He[this._id],this._isDestroyed=!0,this};P.prototype._emit=function(){this._isDestroyed||this._emitter.emit.apply(this._emitter,arguments)};P.prototype._hasListeners=function(t){return this._isDestroyed?!1:this._emitter.countListeners(t)>0};P.prototype._updateBoundingRect=function(){var t=this._element,e=t.getBoundingClientRect();this._width=e.width,this._height=e.height,this._left=e.left,this._top=e.top,this._right=e.right,this._bottom=e.bottom};P.prototype._updateBorders=function(t,e,i,r){var s=this._element;t&&(this._borderLeft=lt(s,"border-left-width")),e&&(this._borderRight=lt(s,"border-right-width")),i&&(this._borderTop=lt(s,"border-top-width")),r&&(this._borderBottom=lt(s,"border-bottom-width"))};P.prototype._refreshDimensions=function(){this._updateBoundingRect(),this._updateBorders(1,1,1,1),this._boxSizing=st(this._element,"box-sizing")};P.prototype._onLayoutDataReceived=function(){var t=[];return function(e){if(!(this._isDestroyed||!this._nextLayoutData||this._nextLayoutData.id!==e.id)){var i=this,r=this._nextLayoutData.instant,s=this._nextLayoutData.onFinish,n=e.items.length,o=n,l,a,h,c;for(this._nextLayoutData=null,!this._isLayoutFinished&&this._hasListeners(Qi)&&this._emit(Qi,this._layout.items.slice(0)),this._layout=e,t.length=0,c=0;c<n;c++){if(l=e.items[c],!l){--o;continue}if(a=e.slots[c*2],h=e.slots[c*2+1],l._canSkipLayout(a,h)){--o;continue}l._left=a,l._top=h,l.isActive()&&!l.isDragging()?t.push(l):--o}if(e.styles&&Gt(this._element,e.styles),!(this._hasListeners(Rt)&&(this._emit(Rt,e.items.slice(0),r===!0),this._layout.id!==e.id))){var d=function(){if(!(--o>0)){var v=i._layout.id!==e.id,y=C(r)?r:s;v||(i._isLayoutFinished=!0),C(y)&&y(e.items.slice(0),v),!v&&i._hasListeners(Zi)&&i._emit(Zi,e.items.slice(0))}};if(!t.length)return d(),this;for(this._isLayoutFinished=!1,c=0;c<t.length&&this._layout.id===e.id;c++)t[c]._layout.start(r===!0,d);return this._layout.id===e.id&&(t.length=0),this}}}}();P.prototype._setItemsVisibility=function(t,e,i){var r=this,s=t.slice(0),n=i||{},o=n.instant===!0,l=n.onFinish,a=n.layout?n.layout:n.layout===void 0,h=s.length,c=e?zn:se,d=e?Fn:Hn,v=e?"show":"hide",y=!1,g=[],u=[],f,m;if(!h){C(l)&&l(s);return}for(m=0;m<s.length;m++)f=s[m],(e&&!f._isActive||!e&&f._isActive)&&(y=!0),f._layout._skipNextAnimation=!!(e&&!f._isActive),e&&f._visibility._isHidden&&u.push(f),e?f._addToLayout():f._removeFromLayout();u.length&&(this.refreshItems(u,!0),u.length=0);function p(){for(y&&n.syncWithLayout!==!1&&r.off(Rt,p),r._hasListeners(c)&&r._emit(c,s.slice(0)),m=0;m<s.length;m++){if(s[m]._gridId!==r._id){--h<1&&(C(l)&&l(g.slice(0)),r._hasListeners(d)&&r._emit(d,g.slice(0)));continue}s[m]._visibility[v](o,function(_,S){_||g.push(S),--h<1&&(C(l)&&l(g.slice(0)),r._hasListeners(d)&&r._emit(d,g.slice(0)))})}}y&&n.syncWithLayout!==!1?this.on(Rt,p):p(),y&&a&&this.layout(a===xt,C(a)?a:void 0)};function sa(t,e){var i=ie({},t);return e&&(i=ie(i,e)),e&&e.visibleStyles?i.visibleStyles=e.visibleStyles:t&&t.visibleStyles&&(i.visibleStyles=t.visibleStyles),e&&e.hiddenStyles?i.hiddenStyles=e.hiddenStyles:t&&t.hiddenStyles&&(i.hiddenStyles=t.hiddenStyles),i}function ie(t,e){var i=Object.keys(e),r=i.length,s,n,o;for(o=0;o<r;o++){if(n=i[o],s=vr(e[n]),vr(t[n])&&s){t[n]=ie(ie({},t[n]),e[n]);continue}if(s){t[n]=ie({},e[n]);continue}if(Array.isArray(e[n])){t[n]=e[n].slice(0);continue}t[n]=e[n]}return t}function na(t,e){if(e==="*")return t.children;if(typeof e===$e){for(var i=[],r=t.children,s=0;s<r.length;s++)Xe(r[s],e)&&i.push(r[s]);return i}return Array.isArray(e)||Ti(e)?e:[]}function oa(t,e){typeof e!==bs&&(e=e===!0?0:-1),e>=0&&(t._resizeHandler=Zo(function(){t.refreshItems().layout()},e),window.addEventListener("resize",t._resizeHandler))}function aa(t){t._resizeHandler&&(t._resizeHandler(!0),window.removeEventListener("resize",t._resizeHandler),t._resizeHandler=null)}function mr(t){var e={},i=document.documentElement.style,r,s;for(r in t)t[r]&&(s=Ve(i,r),s&&(e[s]=t[r]));return e}function _r(t){for(var e={},i=0;i<t.length;i++)e[t[i]._id]=i;return e}function Te(t,e,i){var r=t[e._id],s=t[i._id];return r-s}var Es={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},Ai={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},la=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],Fe={CSS:{},springs:{}};function ft(t,e,i){return Math.min(Math.max(t,e),i)}function re(t,e){return t.indexOf(e)>-1}function oi(t,e){return t.apply(null,e)}var k={arr:function(t){return Array.isArray(t)},obj:function(t){return re(Object.prototype.toString.call(t),"Object")},pth:function(t){return k.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||k.svg(t)},str:function(t){return typeof t=="string"},fnc:function(t){return typeof t=="function"},und:function(t){return typeof t=="undefined"},nil:function(t){return k.und(t)||t===null},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return k.hex(t)||k.rgb(t)||k.hsl(t)},key:function(t){return!Es.hasOwnProperty(t)&&!Ai.hasOwnProperty(t)&&t!=="targets"&&t!=="keyframes"}};function Ts(t){var e=/\(([^)]+)\)/.exec(t);return e?e[1].split(",").map(function(i){return parseFloat(i)}):[]}function As(t,e){var i=Ts(t),r=ft(k.und(i[0])?1:i[0],.1,100),s=ft(k.und(i[1])?100:i[1],.1,100),n=ft(k.und(i[2])?10:i[2],.1,100),o=ft(k.und(i[3])?0:i[3],.1,100),l=Math.sqrt(s/r),a=n/(2*Math.sqrt(s*r)),h=a<1?l*Math.sqrt(1-a*a):0,c=1,d=a<1?(a*l+-o)/h:-o+l;function v(g){var u=e?e*g/1e3:g;return a<1?u=Math.exp(-u*a*l)*(c*Math.cos(h*u)+d*Math.sin(h*u)):u=(c+d*u)*Math.exp(-u*l),g===0||g===1?g:1-u}function y(){var g=Fe.springs[t];if(g)return g;for(var u=1/6,f=0,m=0;;)if(f+=u,v(f)===1){if(m++,m>=16)break}else m=0;var p=f*u*1e3;return Fe.springs[t]=p,p}return e?v:y}function ha(t){return t===void 0&&(t=10),function(e){return Math.ceil(ft(e,1e-6,1)*t)*(1/t)}}var ca=function(){var t=11,e=1/(t-1);function i(c,d){return 1-3*d+3*c}function r(c,d){return 3*d-6*c}function s(c){return 3*c}function n(c,d,v){return((i(d,v)*c+r(d,v))*c+s(d))*c}function o(c,d,v){return 3*i(d,v)*c*c+2*r(d,v)*c+s(d)}function l(c,d,v,y,g){var u,f,m=0;do f=d+(v-d)/2,u=n(f,y,g)-c,u>0?v=f:d=f;while(Math.abs(u)>1e-7&&++m<10);return f}function a(c,d,v,y){for(var g=0;g<4;++g){var u=o(d,v,y);if(u===0)return d;var f=n(d,v,y)-c;d-=f/u}return d}function h(c,d,v,y){if(!(0<=c&&c<=1&&0<=v&&v<=1))return;var g=new Float32Array(t);if(c!==d||v!==y)for(var u=0;u<t;++u)g[u]=n(u*e,c,v);function f(m){for(var p=0,_=1,S=t-1;_!==S&&g[_]<=m;++_)p+=e;--_;var T=(m-g[_])/(g[_+1]-g[_]),A=p+T*e,N=o(A,c,v);return N>=.001?a(m,A,c,v):N===0?A:l(m,p,p+e,c,v)}return function(m){return c===d&&v===y||m===0||m===1?m:n(f(m),d,y)}}return h}(),Is=function(){var t={linear:function(){return function(r){return r}}},e={Sine:function(){return function(r){return 1-Math.cos(r*Math.PI/2)}},Expo:function(){return function(r){return r?Math.pow(2,10*r-10):0}},Circ:function(){return function(r){return 1-Math.sqrt(1-r*r)}},Back:function(){return function(r){return r*r*(3*r-2)}},Bounce:function(){return function(r){for(var s,n=4;r<((s=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((s*3-2)/22-r,2)}},Elastic:function(r,s){r===void 0&&(r=1),s===void 0&&(s=.5);var n=ft(r,1,10),o=ft(s,.1,2);return function(l){return l===0||l===1?l:-n*Math.pow(2,10*(l-1))*Math.sin((l-1-o/(Math.PI*2)*Math.asin(1/n))*(Math.PI*2)/o)}}},i=["Quad","Cubic","Quart","Quint"];return i.forEach(function(r,s){e[r]=function(){return function(n){return Math.pow(n,s+2)}}}),Object.keys(e).forEach(function(r){var s=e[r];t["easeIn"+r]=s,t["easeOut"+r]=function(n,o){return function(l){return 1-s(n,o)(1-l)}},t["easeInOut"+r]=function(n,o){return function(l){return l<.5?s(n,o)(l*2)/2:1-s(n,o)(l*-2+2)/2}},t["easeOutIn"+r]=function(n,o){return function(l){return l<.5?(1-s(n,o)(1-l*2))/2:(s(n,o)(l*2-1)+1)/2}}}),t}();function Ii(t,e){if(k.fnc(t))return t;var i=t.split("(")[0],r=Is[i],s=Ts(t);switch(i){case"spring":return As(t,e);case"cubicBezier":return oi(ca,s);case"steps":return oi(ha,s);default:return oi(r,s)}}function ks(t){try{var e=document.querySelectorAll(t);return e}catch(i){return}}function Ue(t,e){for(var i=t.length,r=arguments.length>=2?arguments[1]:void 0,s=[],n=0;n<i;n++)if(n in t){var o=t[n];e.call(r,o,n,t)&&s.push(o)}return s}function Ge(t){return t.reduce(function(e,i){return e.concat(k.arr(i)?Ge(i):i)},[])}function gr(t){return k.arr(t)?t:(k.str(t)&&(t=ks(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function ki(t,e){return t.some(function(i){return i===e})}function Di(t){var e={};for(var i in t)e[i]=t[i];return e}function mi(t,e){var i=Di(t);for(var r in t)i[r]=e.hasOwnProperty(r)?e[r]:t[r];return i}function je(t,e){var i=Di(t);for(var r in e)i[r]=k.und(t[r])?e[r]:t[r];return i}function ua(t){var e=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t);return e?"rgba("+e[1]+",1)":t}function da(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,i=t.replace(e,function(l,a,h,c){return a+a+h+h+c+c}),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i),s=parseInt(r[1],16),n=parseInt(r[2],16),o=parseInt(r[3],16);return"rgba("+s+","+n+","+o+",1)"}function fa(t){var e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),i=parseInt(e[1],10)/360,r=parseInt(e[2],10)/100,s=parseInt(e[3],10)/100,n=e[4]||1;function o(v,y,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?v+(y-v)*6*g:g<1/2?y:g<2/3?v+(y-v)*(2/3-g)*6:v}var l,a,h;if(r==0)l=a=h=s;else{var c=s<.5?s*(1+r):s+r-s*r,d=2*s-c;l=o(d,c,i+1/3),a=o(d,c,i),h=o(d,c,i-1/3)}return"rgba("+l*255+","+a*255+","+h*255+","+n+")"}function pa(t){if(k.rgb(t))return ua(t);if(k.hex(t))return da(t);if(k.hsl(t))return fa(t)}function gt(t){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(e)return e[1]}function va(t){if(re(t,"translate")||t==="perspective")return"px";if(re(t,"rotate")||re(t,"skew"))return"deg"}function _i(t,e){return k.fnc(t)?t(e.target,e.id,e.total):t}function pt(t,e){return t.getAttribute(e)}function Li(t,e,i){var r=gt(e);if(ki([i,"deg","rad","turn"],r))return e;var s=Fe.CSS[e+i];if(!k.und(s))return s;var n=100,o=document.createElement(t.tagName),l=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;l.appendChild(o),o.style.position="absolute",o.style.width=n+i;var a=n/o.offsetWidth;l.removeChild(o);var h=a*parseFloat(e);return Fe.CSS[e+i]=h,h}function Ds(t,e,i){if(e in t.style){var r=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=t.style[e]||getComputedStyle(t).getPropertyValue(r)||"0";return i?Li(t,s,i):s}}function Pi(t,e){if(k.dom(t)&&!k.inp(t)&&(!k.nil(pt(t,e))||k.svg(t)&&t[e]))return"attribute";if(k.dom(t)&&ki(la,e))return"transform";if(k.dom(t)&&e!=="transform"&&Ds(t,e))return"css";if(t[e]!=null)return"object"}function Ls(t){if(k.dom(t)){for(var e=t.style.transform||"",i=/(\w+)\(([^)]*)\)/g,r=new Map,s;s=i.exec(e);)r.set(s[1],s[2]);return r}}function ma(t,e,i,r){var s=re(e,"scale")?1:0+va(e),n=Ls(t).get(e)||s;return i&&(i.transforms.list.set(e,n),i.transforms.last=e),r?Li(t,n,r):n}function Ri(t,e,i,r){switch(Pi(t,e)){case"transform":return ma(t,e,r,i);case"css":return Ds(t,e,i);case"attribute":return pt(t,e);default:return t[e]||0}}function Ci(t,e){var i=/^(\*=|\+=|-=)/.exec(t);if(!i)return t;var r=gt(t)||0,s=parseFloat(e),n=parseFloat(t.replace(i[0],""));switch(i[0][0]){case"+":return s+n+r;case"-":return s-n+r;case"*":return s*n+r}}function Ps(t,e){if(k.col(t))return pa(t);if(/\s/g.test(t))return t;var i=gt(t),r=i?t.substr(0,t.length-i.length):t;return e?r+e:r}function xi(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function _a(t){return Math.PI*2*pt(t,"r")}function ga(t){return pt(t,"width")*2+pt(t,"height")*2}function ya(t){return xi({x:pt(t,"x1"),y:pt(t,"y1")},{x:pt(t,"x2"),y:pt(t,"y2")})}function Rs(t){for(var e=t.points,i=0,r,s=0;s<e.numberOfItems;s++){var n=e.getItem(s);s>0&&(i+=xi(r,n)),r=n}return i}function Sa(t){var e=t.points;return Rs(t)+xi(e.getItem(e.numberOfItems-1),e.getItem(0))}function Cs(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return _a(t);case"rect":return ga(t);case"line":return ya(t);case"polyline":return Rs(t);case"polygon":return Sa(t)}}function wa(t){var e=Cs(t);return t.setAttribute("stroke-dasharray",e),e}function ba(t){for(var e=t.parentNode;k.svg(e)&&k.svg(e.parentNode);)e=e.parentNode;return e}function xs(t,e){var i=e||{},r=i.el||ba(t),s=r.getBoundingClientRect(),n=pt(r,"viewBox"),o=s.width,l=s.height,a=i.viewBox||(n?n.split(" "):[0,0,o,l]);return{el:r,viewBox:a,x:a[0]/1,y:a[1]/1,w:o,h:l,vW:a[2],vH:a[3]}}function Ea(t,e){var i=k.str(t)?ks(t)[0]:t,r=e||100;return function(s){return{property:s,el:i,svg:xs(i),totalLength:Cs(i)*(r/100)}}}function Ta(t,e,i){function r(c){c===void 0&&(c=0);var d=e+c>=1?e+c:0;return t.el.getPointAtLength(d)}var s=xs(t.el,t.svg),n=r(),o=r(-1),l=r(1),a=i?1:s.w/s.vW,h=i?1:s.h/s.vH;switch(t.property){case"x":return(n.x-s.x)*a;case"y":return(n.y-s.y)*h;case"angle":return Math.atan2(l.y-o.y,l.x-o.x)*180/Math.PI}}function yr(t,e){var i=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=Ps(k.pth(t)?t.totalLength:t,e)+"";return{original:r,numbers:r.match(i)?r.match(i).map(Number):[0],strings:k.str(t)||e?r.split(i):[]}}function Oi(t){var e=t?Ge(k.arr(t)?t.map(gr):gr(t)):[];return Ue(e,function(i,r,s){return s.indexOf(i)===r})}function Os(t){var e=Oi(t);return e.map(function(i,r){return{target:i,id:r,total:e.length,transforms:{list:Ls(i)}}})}function Aa(t,e){var i=Di(e);if(/^spring/.test(i.easing)&&(i.duration=As(i.easing)),k.arr(t)){var r=t.length,s=r===2&&!k.obj(t[0]);s?t={value:t}:k.fnc(e.duration)||(i.duration=e.duration/r)}var n=k.arr(t)?t:[t];return n.map(function(o,l){var a=k.obj(o)&&!k.pth(o)?o:{value:o};return k.und(a.delay)&&(a.delay=l?0:e.delay),k.und(a.endDelay)&&(a.endDelay=l===n.length-1?e.endDelay:0),a}).map(function(o){return je(o,i)})}function Ia(t){for(var e=Ue(Ge(t.map(function(n){return Object.keys(n)})),function(n){return k.key(n)}).reduce(function(n,o){return n.indexOf(o)<0&&n.push(o),n},[]),i={},r=function(n){var o=e[n];i[o]=t.map(function(l){var a={};for(var h in l)k.key(h)?h==o&&(a.value=l[h]):a[h]=l[h];return a})},s=0;s<e.length;s++)r(s);return i}function ka(t,e){var i=[],r=e.keyframes;r&&(e=je(Ia(r),e));for(var s in e)k.key(s)&&i.push({name:s,tweens:Aa(e[s],t)});return i}function Da(t,e){var i={};for(var r in t){var s=_i(t[r],e);k.arr(s)&&(s=s.map(function(n){return _i(n,e)}),s.length===1&&(s=s[0])),i[r]=s}return i.duration=parseFloat(i.duration),i.delay=parseFloat(i.delay),i}function La(t,e){var i;return t.tweens.map(function(r){var s=Da(r,e),n=s.value,o=k.arr(n)?n[1]:n,l=gt(o),a=Ri(e.target,t.name,l,e),h=i?i.to.original:a,c=k.arr(n)?n[0]:h,d=gt(c)||gt(a),v=l||d;return k.und(o)&&(o=h),s.from=yr(c,v),s.to=yr(Ci(o,c),v),s.start=i?i.end:0,s.end=s.start+s.delay+s.duration+s.endDelay,s.easing=Ii(s.easing,s.duration),s.isPath=k.pth(n),s.isPathTargetInsideSVG=s.isPath&&k.svg(e.target),s.isColor=k.col(s.from.original),s.isColor&&(s.round=1),i=s,s})}var Ms={css:function(t,e,i){return t.style[e]=i},attribute:function(t,e,i){return t.setAttribute(e,i)},object:function(t,e,i){return t[e]=i},transform:function(t,e,i,r,s){if(r.list.set(e,i),e===r.last||s){var n="";r.list.forEach(function(o,l){n+=l+"("+o+") "}),t.style.transform=n}}};function Ns(t,e){var i=Os(t);i.forEach(function(r){for(var s in e){var n=_i(e[s],r),o=r.target,l=gt(n),a=Ri(o,s,l,r),h=l||gt(a),c=Ci(Ps(n,h),a),d=Pi(o,s);Ms[d](o,s,c,r.transforms,!0)}})}function Pa(t,e){var i=Pi(t.target,e.name);if(i){var r=La(e,t),s=r[r.length-1];return{type:i,property:e.name,animatable:t,tweens:r,duration:s.end,delay:r[0].delay,endDelay:s.endDelay}}}function Ra(t,e){return Ue(Ge(t.map(function(i){return e.map(function(r){return Pa(i,r)})})),function(i){return!k.und(i)})}function zs(t,e){var i=t.length,r=function(n){return n.timelineOffset?n.timelineOffset:0},s={};return s.duration=i?Math.max.apply(Math,t.map(function(n){return r(n)+n.duration})):e.duration,s.delay=i?Math.min.apply(Math,t.map(function(n){return r(n)+n.delay})):e.delay,s.endDelay=i?s.duration-Math.max.apply(Math,t.map(function(n){return r(n)+n.duration-n.endDelay})):e.endDelay,s}var Sr=0;function Ca(t){var e=mi(Es,t),i=mi(Ai,t),r=ka(i,t),s=Os(t.targets),n=Ra(s,r),o=zs(n,i),l=Sr;return Sr++,je(e,{id:l,children:[],animatables:s,animations:n,duration:o.duration,delay:o.delay,endDelay:o.endDelay})}var ct=[],Fs=function(){var t;function e(){!t&&(!wr()||!B.suspendWhenDocumentHidden)&&ct.length>0&&(t=requestAnimationFrame(i))}function i(s){for(var n=ct.length,o=0;o<n;){var l=ct[o];l.paused?(ct.splice(o,1),n--):(l.tick(s),o++)}t=o>0?requestAnimationFrame(i):void 0}function r(){B.suspendWhenDocumentHidden&&(wr()?t=cancelAnimationFrame(t):(ct.forEach(function(s){return s._onDocumentVisibility()}),Fs()))}return typeof document!="undefined"&&document.addEventListener("visibilitychange",r),e}();function wr(){return!!document&&document.hidden}function B(t){t===void 0&&(t={});var e=0,i=0,r=0,s,n=0,o=null;function l(p){var _=window.Promise&&new Promise(function(S){return o=S});return p.finished=_,_}var a=Ca(t);l(a);function h(){var p=a.direction;p!=="alternate"&&(a.direction=p!=="normal"?"normal":"reverse"),a.reversed=!a.reversed,s.forEach(function(_){return _.reversed=a.reversed})}function c(p){return a.reversed?a.duration-p:p}function d(){e=0,i=c(a.currentTime)*(1/B.speed)}function v(p,_){_&&_.seek(p-_.timelineOffset)}function y(p){if(a.reversePlayback)for(var S=n;S--;)v(p,s[S]);else for(var _=0;_<n;_++)v(p,s[_])}function g(p){for(var _=0,S=a.animations,T=S.length;_<T;){var A=S[_],N=A.animatable,M=A.tweens,D=M.length-1,z=M[D];D&&(z=Ue(M,function(qs){return p<qs.end})[0]||z);for(var H=ft(p-z.start-z.delay,0,z.duration)/z.duration,X=isNaN(H)?1:z.easing(H),W=z.to.strings,U=z.round,Et=[],pe=z.to.numbers.length,_t=void 0,Tt=0;Tt<pe;Tt++){var At=void 0,Qt=z.to.numbers[Tt],Bt=z.from.numbers[Tt]||0;z.isPath?At=Ta(z.value,X*Qt,z.isPathTargetInsideSVG):At=Bt+X*(Qt-Bt),U&&(z.isColor&&Tt>2||(At=Math.round(At*U)/U)),Et.push(At)}var Mi=W.length;if(!Mi)_t=Et[0];else{_t=W[0];for(var Kt=0;Kt<Mi;Kt++){W[Kt];var Ni=W[Kt+1],Ze=Et[Kt];isNaN(Ze)||(Ni?_t+=Ze+Ni:_t+=Ze+" ")}}Ms[A.type](N.target,A.property,_t,N.transforms),A.currentValue=_t,_++}}function u(p){a[p]&&!a.passThrough&&a[p](a)}function f(){a.remaining&&a.remaining!==!0&&a.remaining--}function m(p){var _=a.duration,S=a.delay,T=_-a.endDelay,A=c(p);a.progress=ft(A/_*100,0,100),a.reversePlayback=A<a.currentTime,s&&y(A),!a.began&&a.currentTime>0&&(a.began=!0,u("begin")),!a.loopBegan&&a.currentTime>0&&(a.loopBegan=!0,u("loopBegin")),A<=S&&a.currentTime!==0&&g(0),(A>=T&&a.currentTime!==_||!_)&&g(_),A>S&&A<T?(a.changeBegan||(a.changeBegan=!0,a.changeCompleted=!1,u("changeBegin")),u("change"),g(A)):a.changeBegan&&(a.changeCompleted=!0,a.changeBegan=!1,u("changeComplete")),a.currentTime=ft(A,0,_),a.began&&u("update"),p>=_&&(i=0,f(),a.remaining?(e=r,u("loopComplete"),a.loopBegan=!1,a.direction==="alternate"&&h()):(a.paused=!0,a.completed||(a.completed=!0,u("loopComplete"),u("complete"),!a.passThrough&&"Promise"in window&&(o(),l(a)))))}return a.reset=function(){var p=a.direction;a.passThrough=!1,a.currentTime=0,a.progress=0,a.paused=!0,a.began=!1,a.loopBegan=!1,a.changeBegan=!1,a.completed=!1,a.changeCompleted=!1,a.reversePlayback=!1,a.reversed=p==="reverse",a.remaining=a.loop,s=a.children,n=s.length;for(var _=n;_--;)a.children[_].reset();(a.reversed&&a.loop!==!0||p==="alternate"&&a.loop===1)&&a.remaining++,g(a.reversed?a.duration:0)},a._onDocumentVisibility=d,a.set=function(p,_){return Ns(p,_),a},a.tick=function(p){r=p,e||(e=r),m((r+(i-e))*B.speed)},a.seek=function(p){m(c(p))},a.pause=function(){a.paused=!0,d()},a.play=function(){a.paused&&(a.completed&&a.reset(),a.paused=!1,ct.push(a),d(),Fs())},a.reverse=function(){h(),a.completed=!a.reversed,d()},a.restart=function(){a.reset(),a.play()},a.remove=function(p){var _=Oi(p);Hs(_,a)},a.reset(),a.autoplay&&a.play(),a}function br(t,e){for(var i=e.length;i--;)ki(t,e[i].animatable.target)&&e.splice(i,1)}function Hs(t,e){var i=e.animations,r=e.children;br(t,i);for(var s=r.length;s--;){var n=r[s],o=n.animations;br(t,o),!o.length&&!n.children.length&&r.splice(s,1)}!i.length&&!r.length&&e.pause()}function xa(t){for(var e=Oi(t),i=ct.length;i--;){var r=ct[i];Hs(e,r)}}function Oa(t,e){e===void 0&&(e={});var i=e.direction||"normal",r=e.easing?Ii(e.easing):null,s=e.grid,n=e.axis,o=e.from||0,l=o==="first",a=o==="center",h=o==="last",c=k.arr(t),d=parseFloat(c?t[0]:t),v=c?parseFloat(t[1]):0,y=gt(c?t[1]:t)||0,g=e.start||0+(c?d:0),u=[],f=0;return function(m,p,_){if(l&&(o=0),a&&(o=(_-1)/2),h&&(o=_-1),!u.length){for(var S=0;S<_;S++){if(!s)u.push(Math.abs(o-S));else{var T=a?(s[0]-1)/2:o%s[0],A=a?(s[1]-1)/2:Math.floor(o/s[0]),N=S%s[0],M=Math.floor(S/s[0]),D=T-N,z=A-M,H=Math.sqrt(D*D+z*z);n==="x"&&(H=-D),n==="y"&&(H=-z),u.push(H)}f=Math.max.apply(Math,u)}r&&(u=u.map(function(W){return r(W/f)*f})),i==="reverse"&&(u=u.map(function(W){return n?W<0?W*-1:-W:Math.abs(f-W)}))}var X=c?(v-d)/f:d;return g+X*(Math.round(u[p]*100)/100)+y}}function Ma(t){t===void 0&&(t={});var e=B(t);return e.duration=0,e.add=function(i,r){var s=ct.indexOf(e),n=e.children;s>-1&&ct.splice(s,1);function o(v){v.passThrough=!0}for(var l=0;l<n.length;l++)o(n[l]);var a=je(i,mi(Ai,t));a.targets=a.targets||t.targets;var h=e.duration;a.autoplay=!1,a.direction=e.direction,a.timelineOffset=k.und(r)?h:Ci(r,h),o(e),e.seek(a.timelineOffset);var c=B(a);o(c),n.push(c);var d=zs(n,t);return e.delay=d.delay,e.endDelay=d.endDelay,e.duration=d.duration,e.seek(0),e.reset(),e.autoplay&&e.play(),e},e}B.version="3.2.1";B.speed=1;B.suspendWhenDocumentHidden=!0;B.running=ct;B.remove=xa;B.get=Ri;B.set=Ns;B.convertPx=Li;B.path=Ea;B.setDashoffset=wa;B.stagger=Oa;B.timeline=Ma;B.easing=Ii;B.penner=Is;B.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};function Na(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ai,Er;function za(){if(Er)return ai;Er=1;var t=4,e=.001,i=1e-7,r=10,s=11,n=1/(s-1),o=typeof Float32Array=="function";function l(u,f){return 1-3*f+3*u}function a(u,f){return 3*f-6*u}function h(u){return 3*u}function c(u,f,m){return((l(f,m)*u+a(f,m))*u+h(f))*u}function d(u,f,m){return 3*l(f,m)*u*u+2*a(f,m)*u+h(f)}function v(u,f,m,p,_){var S,T,A=0;do T=f+(m-f)/2,S=c(T,p,_)-u,S>0?m=T:f=T;while(Math.abs(S)>i&&++A<r);return T}function y(u,f,m,p){for(var _=0;_<t;++_){var S=d(f,m,p);if(S===0)return f;var T=c(f,m,p)-u;f-=T/S}return f}function g(u){return u}return ai=function(f,m,p,_){if(!(0<=f&&f<=1&&0<=p&&p<=1))throw new Error("bezier x values must be in [0, 1] range");if(f===m&&p===_)return g;for(var S=o?new Float32Array(s):new Array(s),T=0;T<s;++T)S[T]=c(T*n,f,p);function A(N){for(var M=0,D=1,z=s-1;D!==z&&S[D]<=N;++D)M+=n;--D;var H=(N-S[D])/(S[D+1]-S[D]),X=M+H*n,W=d(X,f,p);return W>=e?y(N,X,f,p):W===0?X:v(N,M,M+n,f,p)}return function(M){return M===0?0:M===1?1:c(A(M),m,_)}},ai}var Fa=za();const Ha=Na(Fa),R=document.documentElement,Ft={isTouchDevice:()=>{var t=" -webkit- -moz- -o- -ms- ".split(" "),e=function(r){return window.matchMedia(r).matches};if("ontouchstart"in window)return!0;var i=["(",t.join("touch-enabled),("),"heartz",")"].join("");return e(i)},viewportSize:()=>[window.innerWidth||R.clientWidth||document.body.clientWidth,window.innerHeight||R.clientHeight||document.body.clientHeight],elementCenterPos:t=>{const e=t.getBoundingClientRect();return[e.left+e.width/2,e.top+e.height/2]},scrollbarWidth:(t=!1)=>{let e=window.innerWidth-R.clientWidth;if(t){const i=parseFloat(window.getComputedStyle(R).getPropertyValue("--scrollbar-width").replace("px",""));e=i>e?i:e}return R.style.setProperty("--scrollbar-width",(e>0?e:0)+"px"),e},randomIntFromInterval:(t,e)=>Math.floor(Math.random()*(e-t+1)+t),arrayOfElements:(t=[],e=document)=>{let i=[];return t.forEach(r=>{e.querySelectorAll(r).forEach(s=>{i.includes(s)||i.push(s)})}),i}};window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};window.performance=window.performance||{};performance.now=performance.now||performance.webkitNow||function(){return new Date().getTime()};function Tr(t,e,i){return(1-i)*t+i*e}function qa(t,e,i={property:!1,once:!0,debug:!1}){i.property?t.addEventListener("transitionend",s=>{s.propertyName==i.property&&e()},{once:i.once}):t.addEventListener("transitionend",()=>{e()},{once:i.once}),i.debug&&t.addEventListener("transitionend",s=>{console.debug("[atTransitionEnd] "+s.propertyName+(i.property?" (selected)":""),t)});let r=!0;Ar.forEach(s=>{r&=s!=t}),r&&(Ar.push(t),t.childNodes.forEach(s=>{s.addEventListener("transitionend",n=>{n.stopPropagation()})}))}let Ar=[],G={vpSizeBreakpoints:{current:{w:""},breakpoints:{w:{square:1100,vertical:700}}},init:()=>{G.vpSize=Ft.viewportSize(),G.vpSize[0]<G.vpSizeBreakpoints.breakpoints.w.square?G.vpSize[0]<G.vpSizeBreakpoints.breakpoints.w.vertical?G.vpSizeBreakpoints.current.w="vpWidthVertical":G.vpSizeBreakpoints.current.w="vpWidthSquare":G.vpSizeBreakpoints.current.w="vpWidthDefault"}};G.init();window.addEventListener("resize",G.init);let F;const V={options:{scroll:{lenisOptions:{smoothWheel:!0,smoothTouch:!1,wheelMultiplier:.9,duration:1,easing:t=>Math.min(1,1.001-Math.pow(5,-7*t)),orientation:"vertical",gestureOrientation:"vertical"},triggerRootMargin:"-1px -1px -1px -1px",rafRootMargin:"100% 100% 100% 100%",autoResize:!0,autoStart:!1},scrollTo:{offset:0,duration:.9,immediate:!1,lock:!1,easing:t=>Ha(.45,0,.05,1)(t)}},resize:(t,e=200)=>{setTimeout(()=>{t.resize()},e)},getScroll:t=>t.lenisInstance.animatedScroll,getScrollTarget:t=>t.lenisInstance.targetScroll,initEvents:()=>{window.addEventListener("scrollHit",t=>{if(t.detail.progress>=1){t.detail.target.classList.add("is-scroll-hit");return}else t.detail.target.classList.remove("is-scroll-hit")})}};let J={elements:{menusContainers:document.querySelectorAll(".sticky-menu wrapper[menu-show-id]"),projectNameSpan:document.querySelector(".sticky-menu wrapper[menu-show-id] .project-name"),projectH1:void 0},init:()=>{R.setAttribute("thalia-sticky-menu-state","false"),J.elements.menusContainers.forEach(t=>{t.setAttribute("menu-show-state","false")}),J.toggleMenuFromURL(kt.location.pathname),kt.hooks.on("content:replace",t=>{J.toggleMenuFromURL(t.to.url)}),window.addEventListener("scrollStickyMenu",t=>{if(V.getScroll(F)<5){R.setAttribute("thalia-sticky-menu-state","true");return}R.setAttribute("thalia-sticky-menu-state",t.detail.way==="enter")})},triggerAnimate:(t,e=!1)=>{t.style.width=t.firstElementChild.getBoundingClientRect().width+"px",setTimeout(()=>{t.setAttribute("menu-show-state","transition-"+e),qa(t,()=>{t.setAttribute("menu-show-state",e),t.style.width=null},{once:!0})},100)},toggleMenu:t=>{t==="project"&&(J.elements.projectH1=document.querySelector(".section-main-gallery h1.project-title"),J.elements.projectH1?(J.elements.projectNameSpan.parentElement.classList.remove("hide"),J.elements.projectNameSpan.innerText=J.elements.projectH1.innerText):(J.elements.projectNameSpan.parentElement.classList.add("hide"),J.elements.projectNameSpan.innerText=""));const e=document.querySelectorAll('*[menu-show-id="'+t+'"]');if(e.length<=0){console.error("[STICKY_MENU.toggleMenu] not found : "+t);return}J.elements.menusContainers.forEach(i=>{i.getAttribute("menu-show-id")!==t&&J.triggerAnimate(i,!1)}),e.forEach(i=>{i.getAttribute("menu-show-state").includes("true")||J.triggerAnimate(i,!0)})},toggleMenuFromURL:t=>{t!=="/"?J.toggleMenu("project"):J.toggleMenu("filters")}},w={options:{dragIntensity:{vpWidthDefault:[.5,.6],vpWidthSquare:[.5,.6],vpWidthVertical:[.5,.4]},angleDamping:.025,look:{maxDistance:10,damping:[20,15]},blink:{startTimeout:2e3,interval:4e3,randomIntervalAdd:1e4,speed:190}},data:{dragPos:[0,0],look:{},blinkIntervalInstance:null},elements:{dragContainer:document.querySelector("main"),contentContainer:document.querySelector(".section-main-head"),main:document.querySelector(".interactive-chara-thalia svg.thalia-chara"),mainEyes:document.querySelector(".interactive-chara-thalia svg.thalia-chara g[data-name='eyes']"),hands:document.querySelectorAll(".chara-thalia--hands svg.thalia-chara"),socialBtns:document.querySelectorAll(".section-main-head .socials .social-btn")},interactions:{init:()=>{w.elements.main&&!w.data.activated&&(w.data.activated=!0,w.data.state="resting",R.setAttribute("thalia-chara-state","resting"),w.interactions.toggleHands(!0),window.addEventListener("scrollThaliaCharaHandsToggle",t=>{if(V.getScroll(F)<5){w.interactions.toggleHands(!0);return}w.interactions.toggleHands(t.detail.way==="enter")}),w.interactions.initBlinkHit(),w.interactions.updateEyesPosition(),window.addEventListener("resize",w.interactions.updateEyesPosition),w.elements.contentContainer.addEventListener("pointerenter",w.interactions.updateEyesPosition),G.isTouch||(w.interactions.look(),w.elements.dragContainer.addEventListener("pointerenter",w.interactions.look),w.elements.dragContainer.addEventListener("pointerleave",w.interactions.unlook)),w.elements.dragContainer.addEventListener("pointerleave",w.interactions.pointerStop),w.elements.dragContainer.addEventListener("pointerup",w.interactions.pointerStop),w.elements.main.addEventListener("pointerdown",w.interactions.pointerActive),R.setAttribute("thalia-social-hover","false"),w.elements.socialBtns.length>0&&!G.isTouch&&(w.interactions.socialBtnHover=t=>{R.setAttribute("thalia-social-hover","true")},w.interactions.socialBtnOut=t=>{R.setAttribute("thalia-social-hover","false")},w.elements.socialBtns.forEach(t=>{t.addEventListener("pointerenter",w.interactions.socialBtnHover),t.addEventListener("pointerleave",w.interactions.socialBtnOut)}))),w.interactions.enable(),window.addEventListener("scrollThaliaCharaPause",t=>{if(V.getScroll(F)<5){w.interactions.enable();return}t.detail.way==="enter"?w.interactions.enable():w.interactions.disable()})},enable:()=>{w.elements.dragContainer.addEventListener("pointermove",w.interactions.following),w.interactions.blinkLoopStart()},disable:()=>{w.elements.dragContainer.removeEventListener("pointermove",w.interactions.following),w.interactions.blinkLoopStop()},updateEyesPosition:t=>{V.resize(F),w.data.look.center=Ft.elementCenterPos(w.elements.mainEyes)},look:t=>{w.elements.main.classList.add("looking")},unlook:t=>{w.elements.main.classList.remove("looking")},pointerStop:t=>{const e=Math.abs(w.data.dragPos[0]);R.setAttribute("thalia-chara-drag-strength",e>G.vpSize[0]/8?"strong":e>15?"weak":"none"),R.style.setProperty("--thalia-chara-drag-direction",w.data.dragPos[0]>0?1:-1),w.data.state="resting",R.setAttribute("thalia-chara-state","resting"),w.elements.main.classList.remove("grabbing")},pointerActive:t=>{w.data.pointerPosStart=[t.clientX,t.clientY],w.data.state="grabbing",w.interactions.following(t),R.setAttribute("thalia-chara-state","grabbing"),w.elements.main.classList.add("grabbing")},following:t=>{w.data.pointerPos=[t.clientX,t.clientY],w.data.state=="grabbing"?(w.data.dragPos=[Tr(0,w.data.pointerPos[0]-w.data.pointerPosStart[0],w.options.dragIntensity[G.vpSizeBreakpoints.current.w][0]),Tr(0,w.data.pointerPos[1]-w.data.pointerPosStart[1],w.options.dragIntensity[G.vpSizeBreakpoints.current.w][1])],R.style.setProperty("--thalia-chara-drag-x",w.data.dragPos[0]+"px"),R.style.setProperty("--thalia-chara-drag-y",w.data.dragPos[1]+"px"),R.style.setProperty("--thalia-chara-drag-rotate",w.data.dragPos[0]*w.options.angleDamping+"deg")):G.isTouch||(w.data.look.posFromCenter=[(w.data.pointerPos[0]-w.data.look.center[0])/w.options.look.damping[0],(w.data.pointerPos[1]-w.data.look.center[1])/w.options.look.damping[1]],w.data.look.distanceFactor=w.options.look.maxDistance/Math.sqrt(w.data.look.posFromCenter[0]*w.data.look.posFromCenter[0]+w.data.look.posFromCenter[1]*w.data.look.posFromCenter[1]),w.data.look.distanceFactor>1?w.data.look.posFromCenter=[w.data.look.posFromCenter[0],w.data.look.posFromCenter[1]]:w.data.look.posFromCenter=[w.data.look.posFromCenter[0]*w.data.look.distanceFactor,w.data.look.posFromCenter[1]*w.data.look.distanceFactor],w.elements.main.style.setProperty("--pointer-follow-look-x",w.data.look.posFromCenter[0]+"px"),w.elements.main.style.setProperty("--pointer-follow-look-y",w.data.look.posFromCenter[1]+"px"))},toggleHands:t=>{R.setAttribute("thalia-chara-hands-toggle",t)},initBlinkHit:()=>{w.interactions.blinkHit(!1),w.elements.hands.forEach(t=>{t.addEventListener("pointerdown",()=>{w.interactions.blinkHit(!0)}),t.addEventListener("pointerup",()=>{w.interactions.blinkHit(!1)}),t.addEventListener("pointerleave",()=>{w.interactions.blinkHit(!1)})})},blinkHit:t=>{R.setAttribute("thalia-chara-state",t?"grabbing":"resting"),w.data.dragPos=[0,0],R.style.setProperty("--thalia-chara-drag-x","0px"),R.style.setProperty("--thalia-chara-drag-y","0px"),R.style.setProperty("--thalia-chara-drag-rotate","0deg")},blink:(t=!1)=>{setTimeout(()=>{R.setAttribute("thalia-chara-blink","true"),setTimeout(()=>{R.setAttribute("thalia-chara-blink","false")},w.options.blink.speed)},t?0:Ft.randomIntFromInterval(0,w.options.blink.randomIntervalAdd))},blinkLoopStart:()=>{w.data.blinkIntervalInstance||(setTimeout(()=>{w.interactions.blink(!0)},w.options.blink.startTimeout),w.data.blinkIntervalInstance=setInterval(()=>{w.interactions.blink()},w.options.blink.interval))},blinkLoopStop:()=>{w.data.blinkIntervalInstance&&(clearTimeout(w.data.blinkIntervalInstance),w.data.blinkIntervalInstance=null)}}},nt;const li={target:".grid-muuri",gallery:{items:".grid-muuri--item",sortData:null,showDuration:600,showEasing:"cubic-bezier(0.4, 0, 0, 1)",visibleStyles:{opacity:"1",transform:"scale(1)"},hideDuration:400,hideEasing:"cubic-bezier(0.7, 0, 0.4, 1)",hiddenStyles:{opacity:"0",transform:"scale(0.6)"},layout:{fillGaps:!0,horizontal:!1,alignRight:!1,alignBottom:!1,rounding:!1},layoutOnInit:!0,layoutOnResize:150,layoutDuration:800,layoutEasing:"cubic-bezier(0.45, 0, 0, 1)",dragEnabled:!1}};let E={itemsShiftValue:140,data:{currentFilter:null},elements:{section:document.querySelector(".section-main-gallery"),gallerySectionScrollToAnchor:document.querySelector(".section-main-gallery .scroll-to-anchor"),galleryItemsFiltersContainers:void 0,filtersBarBtns:document.querySelectorAll(".sticky-menu wrapper[menu-show-id='filters'] .btn-filter"),filtersClearBtn:document.querySelectorAll("*[thalia-gallery-filter-btn-clear]"),filtersBtns:void 0,shiftItemsMuuri:void 0,shiftItemsContent:[]},init:(t=!0)=>{E.elements.galleryItemsFiltersContainers=document.querySelectorAll(".gallery-grid .item-gallery .filters"),nt=new P(li.target,li.gallery),E.initShiftItems(),E.createItemsFiltersBtns(),E.initItemsFiltersBtns(t),setTimeout(()=>{E.getShiftItemsSize(E.setShiftItemsSize),nt.refreshItems(),nt.layout(!0)},1),nt._settings.hideDuration=0,nt.layout(!0),setTimeout(()=>{nt._settings.hideDuration=li.gallery.hideDuration},200)},initAttributes:()=>{R.hasAttribute("thalia-gallery-filter")||R.setAttribute("thalia-gallery-filter","false")},destroy:()=>{nt.destroy(),E.elements.filtersBtns=document.querySelectorAll("*[thalia-gallery-filter-btn-id]"),E.elements.filtersBtns.forEach(t=>{if(t){let e=t.cloneNode(!0);t.parentNode.replaceChild(e,t),t=e}}),E.elements.filtersClearBtn.forEach(t=>{t&&t.removeEventListener("click",E.onUnfilter)})},galleryFilter:(t,e)=>!!t.getElement().getAttribute("thalia-gallery-item-filters").match(e),onClickFilter:(t,e=!1)=>{R.setAttribute("thalia-gallery-filter-previous",R.getAttribute("thalia-gallery-filter")),e?(E.onFilter(t,e),V.resize(F)):(t.getAttribute("thalia-gallery-filter-btn-id")==E.data.currentFilter?(E.onUnfilter(),V.resize(F)):(E.onFilter(t),V.resize(F)),E.scrollToTop())},onFilter:(t,e=!1)=>{e?(E.data.currentFilter=t.getAttribute("thalia-gallery-filter-btn-id"),R.setAttribute("thalia-gallery-filter",E.data.currentFilter)):(E.data.currentFilter=t.getAttribute("thalia-gallery-filter-btn-id"),E.setShiftItemsSize(),R.setAttribute("thalia-gallery-filter",E.data.currentFilter),E.filterItems())},onUnfilter:(t=!0)=>{t?(E.data.currentFilter=null,E.setShiftItemsSize(),R.setAttribute("thalia-gallery-filter","false")):E.setShiftItemsSize(),E.filterItems()},filterItems:()=>{const t=!!E.data.currentFilter;nt.refreshItems(),nt.filter(e=>(e.getElement().setAttribute("thalia-gallery-item-was-hidden",!e.isVisible()),t?E.galleryFilter(e,E.data.currentFilter):!0)),t?E.elements.filtersBtns.forEach(e=>{e.getAttribute("thalia-gallery-filter-btn-id").match(E.data.currentFilter)?e.classList.add("active"):e.classList.remove("active")}):E.elements.filtersBtns.forEach(e=>{e.classList.remove("active")})},createItemsFiltersBtns:()=>{nt.getItems().forEach(t=>{let e="";t.getElement().getAttribute("thalia-gallery-item-filters").split(";").forEach(i=>{e+='<span thalia-gallery-filter-btn-id="'+i+'">'+i+"</span>"}),t.getElement().querySelector(".filters").innerHTML=e})},createFilterBtns:(t,e=null)=>{const i=t.querySelectorAll("*[thalia-gallery-filters--insert]");i.length>0&&(i.forEach(r=>{let s="";r.getAttribute("thalia-gallery-filters--insert").split(";").forEach(n=>{s+='<span thalia-gallery-filter-btn-id="'+n+'">'+n+"</span>"}),r.innerHTML=s}),t.querySelectorAll("*[thalia-gallery-filters--insert] *[thalia-gallery-filter-btn-id]").forEach(r=>{r.addEventListener("click",()=>{E.onClickFilter(r,!0),t.querySelectorAll(".sticky-menu *[thalia-gallery-filter-btn-id]").forEach(s=>{s.getAttribute("thalia-gallery-filter-btn-id").match(E.data.currentFilter)?s.classList.add("active"):s.classList.remove("active")}),e!=null&&e()})}),i.forEach(r=>{r.removeAttribute("thalia-gallery-filters--insert")}))},initItemsFiltersBtns:(t=!0)=>{E.elements.filtersBtns=document.querySelectorAll("*[thalia-gallery-filter-btn-id]"),E.elements.filtersBtns.length>0&&(E.elements.filtersBtns.forEach(e=>{e.addEventListener("click",()=>{E.onClickFilter(e)})}),E.elements.filtersClearBtn.forEach(e=>{e.addEventListener("click",E.onUnfilter)})),E.onUnfilter(t)},getShiftItemsSize:t=>{E.elements.shiftItemsMuuri.forEach(e=>{e.style.display="block",e.setAttribute("thalia-gallery-item-height",e.firstElementChild.firstElementChild.getBoundingClientRect().height),setTimeout(()=>{e.classList.contains("muuri-item-hidden")?e.style.display="none":e.style.display=null},5)}),t&&t()},setShiftItemsSize:()=>{E.elements.shiftItemsMuuri.forEach(t=>{t.style.height=(E.data.currentFilter===null?E.itemsShiftValue:0)+parseFloat(t.getAttribute("thalia-gallery-item-height"))+"px"})},initShiftItems:()=>{R.style.setProperty("--thalia-gallery-item-shift",E.itemsShiftValue+"px"),E.elements.shiftItemsMuuri=document.querySelectorAll(".gallery-grid .grid-muuri--item.item-shift"),E.elements.shiftItemsMuuri.forEach(t=>{E.elements.shiftItemsContent.push(t.querySelectorAll(".item-gallery"))}),E.getShiftItemsSize(E.setShiftItemsSize),window.addEventListener("resize",()=>{E.getShiftItemsSize(E.setShiftItemsSize)})},initScrollInView:()=>{nt.getItems().forEach(t=>{const e=t.getElement().querySelector(".item-gallery");e.setAttribute("data-scroll",""),e.setAttribute("data-scroll-offset","200,0")}),F.addScrollElements(nt.getElement())},scrollToTop:()=>{V.getScroll(F)>50&&F.scrollTo(E.elements.gallerySectionScrollToAnchor,me(Jt({},V.options.scrollTo),{offset:0,onComplete:()=>{V.resize(F)}}))}};window.addEventListener("scrollCarouselInfinite_call",t=>{if(V.getScroll(F)<5){Pt.toggle(!0,t.detail.target.getAttribute("data-carousel-infinite-index"));return}Pt.toggle(t.detail.way==="enter",t.detail.target.getAttribute("data-carousel-infinite-index"))});window.addEventListener("scrollCarouselInfinite_onScroll",t=>{const e=t.detail.target.getAttribute("data-carousel-infinite-index");Pt.apply(t.detail.target,e,Math.abs(F.lenisInstance.velocity)*Pt.data.instances[e].scrollStrength)});let Pt;class Va{constructor(e={}){this.options={initPosition:e.initPosition||-600,idleSpeed:e.idleSpeed||-60,scrollStrength:e.scrollStrength||-.5,dragStrength:e.dragStrength||2.5,dragEasingDuration:e.dragEasingDuration||1350,dragEasingTiming:e.dragEasingTiming||"easeOutExpo"},this.data={idleLoop:void 0,elements:void 0,instances:{},eventListeners:{}}}init(){if(this.data.elements=R.querySelectorAll("*[data-carousel-infinite]"),this.data.elements.length<=0)return;let e=0;this.data.elements.forEach(r=>{r.setAttribute("data-carousel-infinite-index",e),r.setAttribute("data-scroll",""),r.setAttribute("data-scroll-repeat",""),r.setAttribute("data-scroll-position","start,end"),r.setAttribute("data-scroll-offset","-5,-5"),r.setAttribute("data-scroll-call","scrollCarouselInfinite_call"),r.setAttribute("data-scroll-event-progress","scrollCarouselInfinite_onScroll");const s=r.firstElementChild.firstElementChild;s.classList.add("carousel-infinite--group"),Ft.arrayOfElements([".carousel-infinite--group > *"],r).forEach(h=>{h.classList.add("carousel-infinite--item")});const o=s.cloneNode(!0);s.parentNode.appendChild(o);const l=Array.prototype.slice.call(s.children).length;if(l<(r.hasAttribute("data-carousel-infinite--3rd-mirror-threshold")?parseInt(r.getAttribute("data-carousel-infinite--3rd-mirror-threshold")):4)){const h=o.cloneNode(!0);s.parentNode.appendChild(h)}const a=r.hasAttribute("data-carousel-infinite--invert")?-1:1;this.data.instances[e]={way:a,idleSpeed:(r.hasAttribute("data-carousel-infinite--idle-speed")?parseFloat(r.getAttribute("data-carousel-infinite--idle-speed")):this.options.idleSpeed)*a,scrollStrength:(r.hasAttribute("data-carousel-infinite--scroll-strength")?parseFloat(r.getAttribute("data-carousel-infinite--scroll-strength")):this.options.scrollStrength)*a,firstInit:!1,active:!1,currentPos:0,loopEndPos:0,itemsNb:l,drag:{isDragging:!1,mousePrevious:void 0,mouseCurrent:void 0,posFrom:0,posAnimated:0,posTo:0}},this.idle(),r.onpointerdown||(r.onpointerdown=this.dragToggle_down.bind(this,e)),r.onpointerup||(r.onpointerup=this.dragToggle_up.bind(this,e)),r.onpointerout||(r.onpointerout=this.dragToggle_up.bind(this,e)),r.onpointermove||(r.onpointermove=this.dragMove.bind(this,e)),e+=1}),this.updateSizes(),this.data.eventListeners.resize_updateSizes||(this.data.eventListeners.resize_updateSizes=window.addEventListener("resize",this.updateSizes.bind(this)));let i=0;this.data.elements.forEach(r=>{r.querySelectorAll(".carousel-infinite--item > *").forEach(s=>{s.addEventListener("load",this.updateSizes.bind(this))}),setTimeout(()=>{let s=r.hasAttribute("data-carousel-infinite--init-position")?parseFloat(r.getAttribute("data-carousel-infinite--init-position")):this.options.initPosition;s<0&&(s=this.data.instances[i].loopEndPos-s),this.apply(r,i,this.data.instances[i].currentPos+s),i+=1},500)})}clear(){this.data.idleLoop&&(this.data.idleLoop=!1);for(const e of Object.getOwnPropertyNames(this.data.instances))delete this.data.instances[e];this.data.eventListeners.resize_updateSizes&&(window.removeEventListener("resize",this.updateSizes),delete this.data.eventListeners.resize_updateSizes),this.data.elements.forEach(e=>{e.onpointerdown=null,e.onpointerup=null,e.onpointerout=null,e.onpointermove=null})}toggle(e=!0,i){if(this.data.instances[i].active=!!e,!e){let r=!1;for(let s=0;s<Object.values(this.data.instances).length;s++)r|=!!this.data.instances[s].active;if(!r){this.data.idleLoop=!1;return}}this.data.idleLoop||this.idle()}updateSizes(){let e=0;this.data.elements.forEach(i=>{this.data.instances[e].loopEndPos=-i.querySelector(".carousel-infinite--group").getBoundingClientRect().width,e+=1})}apply(e,i,r){let s=this.data.instances[i].currentPos+r;s>0?s=this.data.instances[i].loopEndPos:s<this.data.instances[i].loopEndPos&&(this.updateSizes(),s=0),this.data.instances[i].currentPos=s,e.firstElementChild.style.transform="translate3D("+s+"px, 0, 0) rotateX(0.04deg)"}idle(){if(this.data.idleLoop)return;const e=(s,n,o)=>{const l=this.data.instances[n];if(l.drag.isDragging&&(this.data.instances[n].drag.posFrom=(l.drag.mouseCurrent-l.drag.mousePrevious)*this.options.dragStrength,this.data.instances[n].drag.mousePrevious=l.drag.mouseCurrent),this.data.instances[n].drag.posFrom!=l.drag.posTo){this.data.instances[n].drag.posTo=this.data.instances[n].drag.posFrom;const a={move:this.data.instances[n].drag.posAnimated};B({targets:a,easing:this.options.dragEasingTiming,duration:this.options.dragEasingDuration,move:[this.data.instances[n].drag.posAnimated,this.data.instances[n].drag.posFrom],update:()=>{this.data.instances[n].drag.posAnimated=a.move}})}this.apply(s,n,this.data.instances[n].drag.posAnimated+l.idleSpeed*o)},i=s=>{const n=(s-r)/1e3;if(r=s,this.data.idleLoop){let o=0;this.data.elements.forEach(l=>{this.data.instances[o].active&&e(l,o,n),o+=1}),this.data.idleLoop=requestAnimationFrame(i)}};let r=performance.now();this.data.idleLoop=requestAnimationFrame(i.bind(this))}dragToggle_down(e,i){this.data.instances[e].drag.mouseCurrent=i.clientX,this.data.instances[e].drag.mousePrevious=this.data.instances[e].drag.mouseCurrent,this.data.instances[e].drag.isDragging=!0}dragToggle_up(e,i){i.stopPropagation(),this.data.instances[e].drag.mouseCurrent=0,this.data.instances[e].drag.mousePrevious=0,this.data.instances[e].drag.posFrom=0,this.data.instances[e].drag.isDragging=!1}dragMove(e,i){this.data.instances[e].drag.isDragging&&(this.data.instances[e].drag.mouseCurrent=i.clientX)}}let ke;class Ba{constructor(){this.data={elements:void 0,eventListeners:{}}}init(){this.data.elements=R.querySelectorAll("*[data-carousel-progress]"),!(this.data.elements.length<=0)&&(this.data.elements.forEach(e=>{e.setAttribute("data-scroll",""),e.setAttribute("data-scroll-repeat",""),e.setAttribute("data-scroll-position","start,end"),e.setAttribute("data-scroll-offset","0,0"),e.setAttribute("data-scroll-css-progress",""),e.hasAttribute("data-carousel-progress--scroll-length")&&e.getAttribute("data-carousel-progress--scroll-length").length>0&&e.style.setProperty("--carousel-scroll-length",e.getAttribute("data-carousel-progress--scroll-length")),e.hasAttribute("data-carousel-progress--scroll-length-ratio")&&e.getAttribute("data-carousel-progress--scroll-length-ratio").length>0&&e.style.setProperty("--carousel-scroll-length-ratio",e.getAttribute("data-carousel-progress--scroll-length-ratio")),e.querySelectorAll("img").forEach(i=>{i.addEventListener("load",this.updateSizes.bind(this))}),e.querySelectorAll("video").forEach(i=>{i.addEventListener("load",this.updateSizes.bind(this))})}),this.updateSizes(),this.data.eventListeners.resize_updateSizes||(this.data.eventListeners.resize_updateSizes=window.addEventListener("resize",this.updateSizes.bind(this))))}clear(){this.data.eventListeners.resize_updateSizes&&(window.removeEventListener("resize",this.updateSizes),delete this.data.eventListeners.resize_updateSizes)}updateSizes(){this.data.elements.forEach(e=>{e.style.setProperty("--carousel-track-width",Math.ceil(e.firstElementChild.getBoundingClientRect().width)+"px")})}}const at={data:{homePrevScrollPos:null,homePrevAnchorPos:null,homePrevFilter:null},initPagesHandling:()=>{E.initAttributes(),kt.hooks.on("page:view",t=>{nt&&E.destroy(),t.to.url==="/"&&E.init(!1),at.whenPageView(t)}),at.whenPageView(null,!0),kt.hooks.on("content:replace",t=>{at.whenPageExit(t)},{before:!0}),kt.hooks.on("visit:start",t=>{t.scroll.reset=!1,t.from.url==="/"&&(at.data.homePrevScrollPos=V.getScroll(F),at.data.homePrevAnchorPos=E.elements.gallerySectionScrollToAnchor.getBoundingClientRect().top),E.elements.gallerySectionScrollToAnchor.getBoundingClientRect().top>1?t.to.url!=="/"&&F.scrollTo(E.elements.gallerySectionScrollToAnchor,me(Jt({},V.options.scrollTo),{lock:!0,offset:0,onComplete:()=>{V.resize(F)}})):kt.hooks.on("content:replace",()=>{E.elements.gallerySectionScrollToAnchor.getBoundingClientRect().top<1&&(F.scrollTo(E.elements.gallerySectionScrollToAnchor,{immediate:!0,lock:!0,offset:0,onComplete:()=>{V.resize(F)}}),t.to.url==="/"&&at.data.homePrevScrollPos!=null&&at.data.homePrevFilter==R.getAttribute("thalia-gallery-filter")&&at.data.homePrevScrollPos>G.vpSize[1]*1.3&&at.data.homePrevAnchorPos<0&&setTimeout(()=>{F.scrollTo(at.data.homePrevScrollPos,me(Jt({},V.options.scrollTo),{lock:!0,offset:0,onComplete:()=>{V.resize(F)}}))},300))},{once:!0,before:!0})})},whenPageView:(t,e=!1)=>{const i=document.querySelector(".page-content");E.createFilterBtns(E.elements.section,()=>{kt.navigate("/")}),Pt.init(),ke.init(),e||F.addScrollElements(i);const r=i.querySelectorAll("video[autoplay]");r.length>0&&r.forEach(s=>{s.pause(),setTimeout(()=>{s.play().then().catch(n=>{console.log("[VIDEOS.autoplay] failed to play video",s,n)})},0)})},whenPageExit:(t,e=!1)=>{const i=document.querySelector(".page-content");t&&t.from.url==="/"&&(at.data.homePrevFilter=R.getAttribute("thalia-gallery-filter")),Pt&&Pt.clear(),ke&&ke.clear(),e||F.removeScrollElements(i)}},kt=new gn({animateHistoryBrowsing:!0,cache:!0,containers:["#swup"],animationSelector:'[class*="swup-transition-"]',animationScope:"html",linkSelector:"a[href]",linkToSelf:"scroll",timeout:0,native:!1,plugins:[new wn({throttle:5,preloadHoveredLinks:!0,preloadVisibleLinks:!1,preloadInitialPage:!0})]}),q={elements:{container:document.querySelector(".thalia-loading-screen"),thaliaSmallProfile:document.querySelector(".thalia-loading-screen .thalia-small-profile")},data:{events:{pageLoaded:!1,introAnimStarted:!1,introAnimFinished:!1,hiding:!1}},init:t=>{if(!q.elements.container){t(),console.error("[LOADING] no container found");return}q.setState("init"),window.addEventListener("load",()=>{q.data.events.pageLoaded||(q.data.events.pageLoaded=!0,q.setState("page-loaded"),t&&t(),q.data.events.introAnimFinished&&q.hide(),setTimeout(()=>{q.data.events.introAnimFinished||(q.data.events.introAnimFinished=!0,console.warn("[LOADING] automatically dismissed, took too long"),q.hide())},8e3))}),setTimeout(()=>{q.introAnim(()=>{q.data.events.pageLoaded?q.hide():window.addEventListener("load",()=>{q.hide()})})},300)},setState:t=>{R.setAttribute("thalia-loading-state",t)},hide:()=>{q.data.events.hiding||(q.data.events.hiding=!0,q.setState("hiding"),F.scrollTo(0,{offset:0,immediate:!0,lock:!0,onComplete:()=>{V.resize(F)}}),setTimeout(()=>{q.setState("hidden"),F.start(),F.scrollTo(V.getScroll(F),{offset:0,immediate:!0,lock:!0,onComplete:t=>{V.resize(t)}}),setTimeout(()=>{V.resize(F)},100),setTimeout(()=>{w.interactions.blink(!0)},1350),setTimeout(()=>{q.setState("hidden-fully"),V.resize(F)},2500)},600))},introAnim:t=>{if(q.data.events.introAnimStarted)return;q.data.events.introAnimStarted=!0,q.elements.container.classList.add("loading-animating"),q.elements.thaliaSmallProfile.querySelectorAll('*[data-anim="blink"]').forEach(r=>{r.classList.add("anim"),setTimeout(()=>{r.classList.add("anim-blink"),setTimeout(()=>{r.classList.remove("anim-blink"),setTimeout(()=>{r.classList.add("anim-blink")},150)},300)},1300)});const i={circle:{delay:500,duration:2300,easing:"cubicBezier(0.6, 0, 0.2, 0.95)"},hair:{delay:0,duration:700,easing:"cubicBezier(0.7, 0.2, 0.4, 0.7)"},face:{delay:700,duration:800,easing:"cubicBezier(0.2, 0.2, 0.2, 1)"},throat:{delay:1100,duration:800,easing:"cubicBezier(0.3, 0.2, 0.2, 0.9)"}};B({targets:q.elements.thaliaSmallProfile.querySelectorAll('*[data-anim="trim-path"]'),strokeDashoffset:[B.setDashoffset,0],delay:function(r,s){return r.hasAttribute("data-name")&&i[r.getAttribute("data-name")]?i[r.getAttribute("data-name")].delay:0},duration:function(r,s){return r.hasAttribute("data-name")&&i[r.getAttribute("data-name")]?i[r.getAttribute("data-name")].duration:1e3},easing:function(r,s){return r.hasAttribute("data-name")&&i[r.getAttribute("data-name")]?i[r.getAttribute("data-name")].easing:"easeInOutExpo"},complete:function(r){q.data.events.introAnimFinished=!0,t&&t()}})}};q.init(()=>{G.isTouch=Ft.isTouchDevice(),G.isTouch&&R.classList.add("deviceIsTouch"),Ft.scrollbarWidth(!0),kt.hooks.on("content:replace",()=>{Ft.scrollbarWidth(!0)}),F=new Mn(V.options.scroll),V.initEvents(),J.init(),Pt=new Va,ke=new Ba,w.interactions.init(),at.initPagesHandling(),document.querySelector(".gallery-grid")&&E.init(),V.resize(F)});
