var Sa=Object.defineProperty,ba=Object.defineProperties;var wa=Object.getOwnPropertyDescriptors;var is=Object.getOwnPropertySymbols;var Gr=Object.prototype.hasOwnProperty,jr=Object.prototype.propertyIsEnumerable;var tr=Math.pow,Js=(e,t,i)=>t in e?Sa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,Kt=(e,t)=>{for(var i in t||(t={}))Gr.call(t,i)&&Js(e,i,t[i]);if(is)for(var i of is(t))jr.call(t,i)&&Js(e,i,t[i]);return e},Pe=(e,t)=>ba(e,wa(t));var Zr=(e,t)=>{var i={};for(var s in e)Gr.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(e!=null&&is)for(var s of is(e))t.indexOf(s)<0&&jr.call(e,s)&&(i[s]=e[s]);return i};var M=(e,t,i)=>Js(e,typeof t!="symbol"?t+"":t,i);var Tt=(e,t,i)=>new Promise((s,r)=>{var n=l=>{try{a(i.next(l))}catch(h){r(h)}},o=l=>{try{a(i.throw(l))}catch(h){r(h)}},a=l=>l.done?s(l.value):Promise.resolve(l.value).then(n,o);a((i=i.apply(e,t)).next())});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(r){if(r.ep)return;r.ep=!0;const n=i(r);fetch(r.href,n)}})();var Ta="vh";function Ea(e){var t,i="--"+Ta;function s(){var r=e.clientHeight;r!==t&&requestAnimationFrame(function(){e.style.setProperty(i,r*.01+"px"),t=r})}return s(),s}window.addEventListener("resize",Ea(document.documentElement));const er=new WeakMap;function ir(e,t,i,s){var a,l;if(!e&&!er.has(t))return!1;const r=(a=er.get(t))!=null?a:new WeakMap;er.set(t,r);const n=(l=r.get(i))!=null?l:new Set;r.set(i,n);const o=n.has(s);return e?n.add(s):n.delete(s),o&&e}function Aa(e,t){let i=e.target;if(i instanceof Text&&(i=i.parentElement),i instanceof Element&&e.currentTarget instanceof Element){const s=i.closest(t);if(s&&e.currentTarget.contains(s))return s}}function ka(e,t,i,s={}){const{signal:r,base:n=document}=s;if(r!=null&&r.aborted)return;const m=s,{once:o}=m,a=Zr(m,["once"]),l=n instanceof Document?n.documentElement:n,h=!!(typeof s=="object"?s.capture:s),c=g=>{const f=Aa(g,String(e));if(f){const u=Object.assign(g,{delegateTarget:f});i.call(l,u),o&&(l.removeEventListener(t,c,a),ir(!1,l,i,d))}},d=JSON.stringify({selector:e,type:t,capture:h});ir(!0,l,i,d)||l.addEventListener(t,c,a),r==null||r.addEventListener("abort",()=>{ir(!1,l,i,d)})}function wt(){return wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},wt.apply(null,arguments)}const Kn=(e,t)=>String(e).toLowerCase().replace(/[\s/_.]+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")||t||"",ai=({hash:e}={})=>window.location.pathname+window.location.search+(e?window.location.hash:""),Ia=(e,t={})=>{const i=wt({url:e=e||ai({hash:!0}),random:Math.random(),source:"swup"},t);window.history.pushState(i,"",e)},Fi=(e=null,t={})=>{e=e||ai({hash:!0});const i=wt({},window.history.state||{},{url:e,random:Math.random(),source:"swup"},t);window.history.replaceState(i,"",e)},Da=(e,t,i,s)=>{const r=new AbortController;return s=wt({},s,{signal:r.signal}),ka(e,t,i,s),{destroy:()=>r.abort()}};let kt=class _s extends URL{constructor(t,i=document.baseURI){super(t.toString(),i),Object.setPrototypeOf(this,_s.prototype)}get url(){return this.pathname+this.search}static fromElement(t){const i=t.getAttribute("href")||t.getAttribute("xlink:href")||"";return new _s(i)}static fromUrl(t){return new _s(t)}},ss=class extends Error{constructor(t,i){super(t),this.url=void 0,this.status=void 0,this.aborted=void 0,this.timedOut=void 0,this.name="FetchError",this.url=i.url,this.status=i.status,this.aborted=i.aborted||!1,this.timedOut=i.timedOut||!1}};function La(i){return Tt(this,arguments,function*(e,t={}){var s;e=kt.fromUrl(e).url;const{visit:r=this.visit}=t,n=wt({},this.options.requestHeaders,t.headers),o=(s=t.timeout)!=null?s:this.options.timeout,a=new AbortController,{signal:l}=a;t=wt({},t,{headers:n,signal:l});let h,c=!1,d=null;o&&o>0&&(d=setTimeout(()=>{c=!0,a.abort("timeout")},o));try{h=yield this.hooks.call("fetch:request",r,{url:e,options:t},(_,{url:v,options:y})=>fetch(v,y)),d&&clearTimeout(d)}catch(_){throw c?(this.hooks.call("fetch:timeout",r,{url:e}),new ss(`Request timed out: ${e}`,{url:e,timedOut:c})):(_==null?void 0:_.name)==="AbortError"||l.aborted?new ss(`Request aborted: ${e}`,{url:e,aborted:!0}):_}const{status:p,url:m}=h,g=yield h.text();if(p===500)throw this.hooks.call("fetch:error",r,{status:p,response:h,url:m}),new ss(`Server error: ${m}`,{status:p,url:m});if(!g)throw new ss(`Empty response: ${m}`,{status:p,url:m});const{url:f}=kt.fromUrl(m),u={url:f,html:g};return!r.cache.write||t.method&&t.method!=="GET"||e!==f||this.cache.set(u.url,u),u})}class Ca{constructor(t){this.swup=void 0,this.pages=new Map,this.swup=t}get size(){return this.pages.size}get all(){const t=new Map;return this.pages.forEach((i,s)=>{t.set(s,wt({},i))}),t}has(t){return this.pages.has(this.resolve(t))}get(t){const i=this.pages.get(this.resolve(t));return i&&wt({},i)}set(t,i){i=wt({},i,{url:t=this.resolve(t)}),this.pages.set(t,i),this.swup.hooks.callSync("cache:set",void 0,{page:i})}update(t,i){t=this.resolve(t);const s=wt({},this.get(t),i,{url:t});this.pages.set(t,s)}delete(t){this.pages.delete(this.resolve(t))}clear(){this.pages.clear(),this.swup.hooks.callSync("cache:clear",void 0,void 0)}prune(t){this.pages.forEach((i,s)=>{t(s,i)&&this.delete(s)})}resolve(t){const{url:i}=kt.fromUrl(t);return this.swup.resolveUrl(i)}}const gr=(e,t=document)=>t.querySelector(e),Dr=(e,t=document)=>Array.from(t.querySelectorAll(e)),Jn=()=>new Promise(e=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e()})})});function to(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function xa(e,t=[]){return new Promise((i,s)=>{const r=e(...t);to(r)?r.then(i,s):i(r)})}function Qr(e,t){const i=e==null?void 0:e.closest(`[${t}]`);return i!=null&&i.hasAttribute(t)?(i==null?void 0:i.getAttribute(t))||!0:void 0}class Ra{constructor(t){this.swup=void 0,this.swupClasses=["to-","is-changing","is-rendering","is-popstate","is-animating","is-leaving"],this.swup=t}get selectors(){const{scope:t}=this.swup.visit.animation;return t==="containers"?this.swup.visit.containers:t==="html"?["html"]:Array.isArray(t)?t:[]}get selector(){return this.selectors.join(",")}get targets(){return this.selector.trim()?Dr(this.selector):[]}add(...t){this.targets.forEach(i=>i.classList.add(...t))}remove(...t){this.targets.forEach(i=>i.classList.remove(...t))}clear(){this.targets.forEach(t=>{const i=t.className.split(" ").filter(s=>this.isSwupClass(s));t.classList.remove(...i)})}isSwupClass(t){return this.swupClasses.some(i=>t.startsWith(i))}}class eo{constructor(t,i){this.id=void 0,this.state=void 0,this.from=void 0,this.to=void 0,this.containers=void 0,this.animation=void 0,this.trigger=void 0,this.cache=void 0,this.history=void 0,this.scroll=void 0,this.meta=void 0;const{to:s,from:r,hash:n,el:o,event:a}=i;this.id=Math.random(),this.state=1,this.from={url:r!=null?r:t.location.url,hash:t.location.hash},this.to={url:s,hash:n},this.containers=t.options.containers,this.animation={animate:!0,wait:!1,name:void 0,native:t.options.native,scope:t.options.animationScope,selector:t.options.animationSelector},this.trigger={el:o,event:a},this.cache={read:t.options.cache,write:t.options.cache},this.history={action:"push",popstate:!1,direction:void 0},this.scroll={reset:!0,target:void 0},this.meta={}}advance(t){this.state<t&&(this.state=t)}abort(){this.state=8}get done(){return this.state>=7}}function Pa(e){return new eo(this,e)}class Oa{constructor(t){this.swup=void 0,this.registry=new Map,this.hooks=["animation:out:start","animation:out:await","animation:out:end","animation:in:start","animation:in:await","animation:in:end","animation:skip","cache:clear","cache:set","content:replace","content:scroll","enable","disable","fetch:request","fetch:error","fetch:timeout","history:popstate","link:click","link:self","link:anchor","link:newtab","page:load","page:view","scroll:top","scroll:anchor","visit:start","visit:transition","visit:abort","visit:end"],this.swup=t,this.init()}init(){this.hooks.forEach(t=>this.create(t))}create(t){this.registry.has(t)||this.registry.set(t,new Map)}exists(t){return this.registry.has(t)}get(t){const i=this.registry.get(t);if(i)return i;console.error(`Unknown hook '${t}'`)}clear(){this.registry.forEach(t=>t.clear())}on(t,i,s={}){const r=this.get(t);if(!r)return console.warn(`Hook '${t}' not found.`),()=>{};const n=wt({},s,{id:r.size+1,hook:t,handler:i});return r.set(i,n),()=>this.off(t,i)}before(t,i,s={}){return this.on(t,i,wt({},s,{before:!0}))}replace(t,i,s={}){return this.on(t,i,wt({},s,{replace:!0}))}once(t,i,s={}){return this.on(t,i,wt({},s,{once:!0}))}off(t,i){const s=this.get(t);s&&i?s.delete(i)||console.warn(`Handler for hook '${t}' not found.`):s&&s.clear()}call(t,i,s,r){return Tt(this,null,function*(){const[n,o,a]=this.parseCallArgs(t,i,s,r),{before:l,handler:h,after:c}=this.getHandlers(t,a);yield this.run(l,n,o);const[d]=yield this.run(h,n,o,!0);return yield this.run(c,n,o),this.dispatchDomEvent(t,n,o),d})}callSync(t,i,s,r){const[n,o,a]=this.parseCallArgs(t,i,s,r),{before:l,handler:h,after:c}=this.getHandlers(t,a);this.runSync(l,n,o);const[d]=this.runSync(h,n,o,!0);return this.runSync(c,n,o),this.dispatchDomEvent(t,n,o),d}parseCallArgs(t,i,s,r){return i instanceof eo||typeof i!="object"&&typeof s!="function"?[i,s,r]:[void 0,i,s]}run(n){return Tt(this,arguments,function*(t,i=this.swup.visit,s,r=!1){const o=[];for(const{hook:a,handler:l,defaultHandler:h,once:c}of t)if(i==null||!i.done){c&&this.off(a,l);try{const d=yield xa(l,[i,s,h]);o.push(d)}catch(d){if(r)throw d;console.error(`Error in hook '${a}':`,d)}}return o})}runSync(t,i=this.swup.visit,s,r=!1){const n=[];for(const{hook:o,handler:a,defaultHandler:l,once:h}of t)if(i==null||!i.done){h&&this.off(o,a);try{const c=a(i,s,l);n.push(c),to(c)&&console.warn(`Swup will not await Promises in handler for synchronous hook '${o}'.`)}catch(c){if(r)throw c;console.error(`Error in hook '${o}':`,c)}}return n}getHandlers(t,i){const s=this.get(t);if(!s)return{found:!1,before:[],handler:[],after:[],replaced:!1};const r=Array.from(s.values()),n=this.sortRegistrations,o=r.filter(({before:d,replace:p})=>d&&!p).sort(n),a=r.filter(({replace:d})=>d).filter(d=>!0).sort(n),l=r.filter(({before:d,replace:p})=>!d&&!p).sort(n),h=a.length>0;let c=[];if(i&&(c=[{id:0,hook:t,handler:i}],h)){const d=a.length-1,{handler:p,once:m}=a[d],g=f=>{const u=a[f-1];return u?(_,v)=>u.handler(_,v,g(f-1)):i};c=[{id:0,hook:t,once:m,handler:p,defaultHandler:g(d)}]}return{found:!0,before:o,handler:c,after:l,replaced:h}}sortRegistrations(t,i){var s,r;return((s=t.priority)!=null?s:0)-((r=i.priority)!=null?r:0)||t.id-i.id||0}dispatchDomEvent(t,i,s){if(i!=null&&i.done)return;const r={hook:t,args:s,visit:i||this.swup.visit};document.dispatchEvent(new CustomEvent("swup:any",{detail:r,bubbles:!0})),document.dispatchEvent(new CustomEvent(`swup:${t}`,{detail:r,bubbles:!0}))}parseName(t){const[i,...s]=t.split(".");return[i,s.reduce((r,n)=>wt({},r,{[n]:!0}),{})]}}const Ma=e=>{if(e&&e.charAt(0)==="#"&&(e=e.substring(1)),!e)return null;const t=decodeURIComponent(e);let i=document.getElementById(e)||document.getElementById(t)||gr(`a[name='${CSS.escape(e)}']`)||gr(`a[name='${CSS.escape(t)}']`);return i||e!=="top"||(i=document.body),i},rs="transition",sr="animation";function Na(i){return Tt(this,arguments,function*({selector:e,elements:t}){if(e===!1&&!t)return;let s=[];if(t)s=Array.from(t);else if(e&&(s=Dr(e,document.body),!s.length))return void console.warn(`[swup] No elements found matching animationSelector \`${e}\``);const r=s.map(n=>function(o){const{type:a,timeout:l,propCount:h}=function(c){const d=window.getComputedStyle(c),p=ns(d,`${rs}Delay`),m=ns(d,`${rs}Duration`),g=Kr(p,m),f=ns(d,`${sr}Delay`),u=ns(d,`${sr}Duration`),_=Kr(f,u),v=Math.max(g,_),y=v>0?g>_?rs:sr:null;return{type:y,timeout:v,propCount:y?y===rs?m.length:u.length:0}}(o);return!(!a||!l)&&new Promise(c=>{const d=`${a}end`,p=performance.now();let m=0;const g=()=>{o.removeEventListener(d,f),c()},f=u=>{u.target===o&&((performance.now()-p)/1e3<u.elapsedTime||++m>=h&&g())};setTimeout(()=>{m<h&&g()},l+1),o.addEventListener(d,f)})}(n));r.filter(Boolean).length>0?yield Promise.all(r):e&&console.warn(`[swup] No CSS animation duration defined on elements matching \`${e}\``)})}function ns(e,t){return(e[t]||"").split(", ")}function Kr(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((i,s)=>Jr(i)+Jr(e[s])))}function Jr(e){return 1e3*parseFloat(e)}function Fa(e,t={},i={}){if(typeof e!="string")throw new Error("swup.navigate() requires a URL parameter");if(this.shouldIgnoreVisit(e,{el:i.el,event:i.event}))return void window.location.assign(e);const{url:s,hash:r}=kt.fromUrl(e),n=this.createVisit(wt({},i,{to:s,hash:r}));this.performNavigation(n,t)}function za(i){return Tt(this,arguments,function*(e,t={}){if(this.navigating){if(this.visit.state>=6)return e.state=2,void(this.onVisitEnd=()=>this.performNavigation(e,t));yield this.hooks.call("visit:abort",this.visit,void 0),delete this.visit.to.document,this.visit.state=8}this.navigating=!0,this.visit=e;const{el:s}=e.trigger;t.referrer=t.referrer||this.location.url,t.animate===!1&&(e.animation.animate=!1),e.animation.animate||this.classes.clear();const r=t.history||Qr(s,"data-swup-history");typeof r=="string"&&["push","replace"].includes(r)&&(e.history.action=r);const n=t.animation||Qr(s,"data-swup-animation");var o,a;typeof n=="string"&&(e.animation.name=n),e.meta=t.meta||{},typeof t.cache=="object"?(e.cache.read=(o=t.cache.read)!=null?o:e.cache.read,e.cache.write=(a=t.cache.write)!=null?a:e.cache.write):t.cache!==void 0&&(e.cache={read:!!t.cache,write:!!t.cache}),delete t.cache;try{yield this.hooks.call("visit:start",e,void 0),e.state=3;const l=this.hooks.call("page:load",e,{options:t},(c,d)=>Tt(this,null,function*(){let p;return c.cache.read&&(p=this.cache.get(c.to.url)),d.page=p||(yield this.fetchPage(c.to.url,d.options)),d.cache=!!p,d.page}));l.then(({html:c})=>{e.advance(5),e.to.html=c,e.to.document=new DOMParser().parseFromString(c,"text/html")});const h=e.to.url+e.to.hash;if(e.history.popstate||(e.history.action==="replace"||e.to.url===this.location.url?Fi(h):(this.currentHistoryIndex++,Ia(h,{index:this.currentHistoryIndex}))),this.location=kt.fromUrl(h),e.history.popstate&&this.classes.add("is-popstate"),e.animation.name&&this.classes.add(`to-${Kn(e.animation.name)}`),e.animation.wait&&(yield l),e.done||(yield this.hooks.call("visit:transition",e,void 0,()=>Tt(this,null,function*(){if(!e.animation.animate)return yield this.hooks.call("animation:skip",void 0),void(yield this.renderPage(e,yield l));e.advance(4),yield this.animatePageOut(e),e.animation.native&&document.startViewTransition?yield document.startViewTransition(()=>Tt(this,null,function*(){return yield this.renderPage(e,yield l)})).finished:yield this.renderPage(e,yield l),yield this.animatePageIn(e)})),e.done))return;yield this.hooks.call("visit:end",e,void 0,()=>this.classes.clear()),e.state=7,this.navigating=!1,this.onVisitEnd&&(this.onVisitEnd(),this.onVisitEnd=void 0)}catch(l){if(!l||l!=null&&l.aborted)return void(e.state=8);e.state=9,console.error(l),this.options.skipPopStateHandling=()=>(window.location.assign(e.to.url+e.to.hash),!0),window.history.back()}finally{delete e.to.document}})}const Ba=function(e){return Tt(this,null,function*(){yield this.hooks.call("animation:out:start",e,void 0,()=>{this.classes.add("is-changing","is-animating","is-leaving")}),yield this.hooks.call("animation:out:await",e,{skip:!1},(t,{skip:i})=>{if(!i)return this.awaitAnimations({selector:t.animation.selector})}),yield this.hooks.call("animation:out:end",e,void 0)})},Ya=function(e){var t;const i=e.to.document;if(!i)return!1;const s=((t=i.querySelector("title"))==null?void 0:t.innerText)||"";document.title=s;const r=Dr('[data-swup-persist]:not([data-swup-persist=""])'),n=e.containers.map(o=>{const a=document.querySelector(o),l=i.querySelector(o);return a&&l?(a.replaceWith(l.cloneNode(!0)),!0):(a||console.warn(`[swup] Container missing in current document: ${o}`),l||console.warn(`[swup] Container missing in incoming document: ${o}`),!1)}).filter(Boolean);return r.forEach(o=>{const a=o.getAttribute("data-swup-persist"),l=gr(`[data-swup-persist="${a}"]`);l&&l!==o&&l.replaceWith(o)}),n.length===e.containers.length},Xa=function(e){const t={behavior:"auto"},{target:i,reset:s}=e.scroll,r=i!=null?i:e.to.hash;let n=!1;return r&&(n=this.hooks.callSync("scroll:anchor",e,{hash:r,options:t},(o,{hash:a,options:l})=>{const h=this.getAnchorElement(a);return h&&h.scrollIntoView(l),!!h})),s&&!n&&(n=this.hooks.callSync("scroll:top",e,{options:t},(o,{options:a})=>(window.scrollTo(wt({top:0,left:0},a)),!0))),n},Va=function(e){return Tt(this,null,function*(){if(e.done)return;const t=this.hooks.call("animation:in:await",e,{skip:!1},(i,{skip:s})=>{if(!s)return this.awaitAnimations({selector:i.animation.selector})});yield Jn(),yield this.hooks.call("animation:in:start",e,void 0,()=>{this.classes.remove("is-animating")}),yield t,yield this.hooks.call("animation:in:end",e,void 0)})},Ha=function(e,t){return Tt(this,null,function*(){if(e.done)return;e.advance(6);const{url:i}=t;this.isSameResolvedUrl(ai(),i)||(Fi(i),this.location=kt.fromUrl(i),e.to.url=this.location.url,e.to.hash=this.location.hash),yield this.hooks.call("content:replace",e,{page:t},(s,{})=>{if(this.classes.remove("is-leaving"),s.animation.animate&&this.classes.add("is-rendering"),!this.replaceContent(s))throw new Error("[swup] Container mismatch, aborting");s.animation.animate&&(this.classes.add("is-changing","is-animating","is-rendering"),s.animation.name&&this.classes.add(`to-${Kn(s.animation.name)}`))}),yield this.hooks.call("content:scroll",e,void 0,()=>this.scrollToContent(e)),yield this.hooks.call("page:view",e,{url:this.location.url,title:document.title})})},qa=function(e){var t;if(t=e,!!(t!=null&&t.isSwupPlugin)){if(e.swup=this,!e._checkRequirements||e._checkRequirements())return e._beforeMount&&e._beforeMount(),e.mount(),this.plugins.push(e),this.plugins}else console.error("Not a swup plugin instance",e)};function $a(e){const t=this.findPlugin(e);if(t)return t.unmount(),t._afterUnmount&&t._afterUnmount(),this.plugins=this.plugins.filter(i=>i!==t),this.plugins;console.error("No such plugin",t)}function Ua(e){return this.plugins.find(t=>t===e||t.name===e||t.name===`Swup${String(e)}`)}function Wa(e){if(typeof this.options.resolveUrl!="function")return console.warn("[swup] options.resolveUrl expects a callback function."),e;const t=this.options.resolveUrl(e);return t&&typeof t=="string"?t.startsWith("//")||t.startsWith("http")?(console.warn("[swup] options.resolveUrl needs to return a relative url"),e):t:(console.warn("[swup] options.resolveUrl needs to return a url"),e)}function Ga(e,t){return this.resolveUrl(e)===this.resolveUrl(t)}const ja={animateHistoryBrowsing:!1,animationSelector:'[class*="transition-"]',animationScope:"html",cache:!0,containers:["#swup"],hooks:{},ignoreVisit:(e,{el:t}={})=>!(t==null||!t.closest("[data-no-swup]")),linkSelector:"a[href]",linkToSelf:"scroll",native:!1,plugins:[],resolveUrl:e=>e,requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"},skipPopStateHandling:e=>{var t;return((t=e.state)==null?void 0:t.source)!=="swup"},timeout:0};class Za{get currentPageUrl(){return this.location.url}constructor(t={}){var i,s;this.version="4.8.2",this.options=void 0,this.defaults=ja,this.plugins=[],this.visit=void 0,this.cache=void 0,this.hooks=void 0,this.classes=void 0,this.location=kt.fromUrl(window.location.href),this.currentHistoryIndex=void 0,this.clickDelegate=void 0,this.navigating=!1,this.onVisitEnd=void 0,this.use=qa,this.unuse=$a,this.findPlugin=Ua,this.log=()=>{},this.navigate=Fa,this.performNavigation=za,this.createVisit=Pa,this.delegateEvent=Da,this.fetchPage=La,this.awaitAnimations=Na,this.renderPage=Ha,this.replaceContent=Ya,this.animatePageIn=Va,this.animatePageOut=Ba,this.scrollToContent=Xa,this.getAnchorElement=Ma,this.getCurrentUrl=ai,this.resolveUrl=Wa,this.isSameResolvedUrl=Ga,this.options=wt({},this.defaults,t),this.handleLinkClick=this.handleLinkClick.bind(this),this.handlePopState=this.handlePopState.bind(this),this.cache=new Ca(this),this.classes=new Ra(this),this.hooks=new Oa(this),this.visit=this.createVisit({to:""}),this.currentHistoryIndex=(i=(s=window.history.state)==null?void 0:s.index)!=null?i:1,this.enable()}enable(){return Tt(this,null,function*(){var t;const{linkSelector:i}=this.options;this.clickDelegate=this.delegateEvent(i,"click",this.handleLinkClick),window.addEventListener("popstate",this.handlePopState),this.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),this.options.native=this.options.native&&!!document.startViewTransition,this.options.plugins.forEach(s=>this.use(s));for(const[s,r]of Object.entries(this.options.hooks)){const[n,o]=this.hooks.parseName(s);this.hooks.on(n,r,o)}((t=window.history.state)==null?void 0:t.source)!=="swup"&&Fi(null,{index:this.currentHistoryIndex}),yield Jn(),yield this.hooks.call("enable",void 0,void 0,()=>{const s=document.documentElement;s.classList.add("swup-enabled"),s.classList.toggle("swup-native",this.options.native)})})}destroy(){return Tt(this,null,function*(){this.clickDelegate.destroy(),window.removeEventListener("popstate",this.handlePopState),this.cache.clear(),this.options.plugins.forEach(t=>this.unuse(t)),yield this.hooks.call("disable",void 0,void 0,()=>{const t=document.documentElement;t.classList.remove("swup-enabled"),t.classList.remove("swup-native")}),this.hooks.clear()})}shouldIgnoreVisit(t,{el:i,event:s}={}){const{origin:r,url:n,hash:o}=kt.fromUrl(t);return r!==window.location.origin||!(!i||!this.triggerWillOpenNewWindow(i))||!!this.options.ignoreVisit(n+o,{el:i,event:s})}handleLinkClick(t){const i=t.delegateTarget,{href:s,url:r,hash:n}=kt.fromElement(i);if(this.shouldIgnoreVisit(s,{el:i,event:t}))return;if(this.navigating&&r===this.visit.to.url)return void t.preventDefault();const o=this.createVisit({to:r,hash:n,el:i,event:t});t.metaKey||t.ctrlKey||t.shiftKey||t.altKey?this.hooks.callSync("link:newtab",o,{href:s}):t.button===0&&this.hooks.callSync("link:click",o,{el:i,event:t},()=>{var a;const l=(a=o.from.url)!=null?a:"";t.preventDefault(),r&&r!==l?this.isSameResolvedUrl(r,l)||this.performNavigation(o):n?this.hooks.callSync("link:anchor",o,{hash:n},()=>{Fi(r+n),this.scrollToContent(o)}):this.hooks.callSync("link:self",o,void 0,()=>{this.options.linkToSelf==="navigate"?this.performNavigation(o):(Fi(r),this.scrollToContent(o))})})}handlePopState(t){var i,s,r,n;const o=(i=(s=t.state)==null?void 0:s.url)!=null?i:window.location.href;if(this.options.skipPopStateHandling(t)||this.isSameResolvedUrl(ai(),this.location.url))return;const{url:a,hash:l}=kt.fromUrl(o),h=this.createVisit({to:a,hash:l,event:t});h.history.popstate=!0;const c=(r=(n=t.state)==null?void 0:n.index)!=null?r:0;c&&c!==this.currentHistoryIndex&&(h.history.direction=c-this.currentHistoryIndex>0?"forwards":"backwards",this.currentHistoryIndex=c),h.animation.animate=!1,h.scroll.reset=!1,h.scroll.target=!1,this.options.animateHistoryBrowsing&&(h.animation.animate=!0,h.scroll.reset=!0),this.hooks.callSync("history:popstate",h,{event:t},()=>{this.performNavigation(h)})}triggerWillOpenNewWindow(t){return!!t.matches('[download], [target="_blank"]')}}function zi(){return zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},zi.apply(this,arguments)}const tn=e=>String(e).split(".").map(t=>String(parseInt(t||"0",10))).concat(["0","0"]).slice(0,3).join(".");let Qa=class{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(t=>t()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return typeof this.requires!="object"||Object.entries(this.requires).forEach(([t,i])=>{if(!function(s,r,n){const o=function(a,l){var h;if(a==="swup")return(h=l.version)!=null?h:"";{var c;const d=l.findPlugin(a);return(c=d==null?void 0:d.version)!=null?c:""}}(s,n);return!!o&&((a,l)=>l.every(h=>{const[,c,d]=h.match(/^([\D]+)?(.*)$/)||[];var p,m;return((g,f)=>{const u={"":_=>_===0,">":_=>_>0,">=":_=>_>=0,"<":_=>_<0,"<=":_=>_<=0};return(u[f]||u[""])(g)})((m=d,p=tn(p=a),m=tn(m),p.localeCompare(m,void 0,{numeric:!0})),c||">=")}))(o,r)}(t,i=Array.isArray(i)?i:[i],this.swup)){const s=`${t} ${i.join(", ")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${s}`)}}),!0}on(t,i,s={}){var r;i=!(r=i).name.startsWith("bound ")||r.hasOwnProperty("prototype")?i.bind(this):i;const n=this.swup.hooks.on(t,i,s);return this.handlersToUnregister.push(n),n}once(t,i,s={}){return this.on(t,i,zi({},s,{once:!0}))}before(t,i,s={}){return this.on(t,i,zi({},s,{before:!0}))}replace(t,i,s={}){return this.on(t,i,zi({},s,{replace:!0}))}off(t,i){return this.swup.hooks.off(t,i)}};function As(){return As=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},As.apply(null,arguments)}function en(){return window.matchMedia("(hover: hover)").matches}function os(e){return!!e&&(e instanceof HTMLAnchorElement||e instanceof SVGAElement)}const sn=window.requestIdleCallback||(e=>setTimeout(e,1)),Ka=["preloadVisibleLinks"];let Ja=class extends Qa{constructor(t={}){var i;super(),i=this,this.name="SwupPreloadPlugin",this.requires={swup:">=4.5"},this.defaults={throttle:5,preloadInitialPage:!0,preloadHoveredLinks:!0,preloadVisibleLinks:{enabled:!1,threshold:.2,delay:500,containers:["body"],ignore:()=>!1}},this.options=void 0,this.queue=void 0,this.preloadObserver=void 0,this.preloadPromises=new Map,this.mouseEnterDelegate=void 0,this.touchStartDelegate=void 0,this.focusDelegate=void 0,this.onPageLoad=(n,o,a)=>{const{url:l}=n.to;return l&&this.preloadPromises.has(l)?this.preloadPromises.get(l):a(n,o)},this.onMouseEnter=function(n){return Tt(this,null,function*(){if(n.target!==n.delegateTarget||!en())return;const o=n.delegateTarget;if(!os(o))return;const{url:a,hash:l}=kt.fromElement(o),h=i.swup.createVisit({to:a,hash:l,el:o,event:n});i.swup.hooks.callSync("link:hover",h,{el:o,event:n}),i.preload(o,{priority:!0})})},this.onTouchStart=n=>{if(en())return;const o=n.delegateTarget;os(o)&&this.preload(o,{priority:!0})},this.onFocus=n=>{const o=n.delegateTarget;os(o)&&this.preload(o,{priority:!0})};const{preloadVisibleLinks:s}=t,r=function(n,o){if(n==null)return{};var a={};for(var l in n)if({}.hasOwnProperty.call(n,l)){if(o.includes(l))continue;a[l]=n[l]}return a}(t,Ka);this.options=As({},this.defaults,r),typeof s=="object"?this.options.preloadVisibleLinks=As({},this.options.preloadVisibleLinks,{enabled:!0},s):this.options.preloadVisibleLinks.enabled=!!s,this.preload=this.preload.bind(this),this.queue=function(n=1){const o=[],a=[];let l=0,h=0;function c(){h<n&&l>0&&((a.shift()||o.shift()||(()=>{}))(),l--,h++)}return{add:function(d,p=!1){if(d.__queued){if(!p)return;{const m=o.indexOf(d);if(m>=0){const g=o.splice(m,1);l-=g.length}}}d.__queued=!0,(p?a:o).push(d),l++,l<=1&&c()},next:function(){h--,c()}}}(this.options.throttle)}mount(){const t=this.swup;t.options.cache?(t.hooks.create("page:preload"),t.hooks.create("link:hover"),t.preload=this.preload,t.preloadLinks=this.preloadLinks,this.replace("page:load",this.onPageLoad),this.preloadLinks(),this.on("page:view",()=>this.preloadLinks()),this.options.preloadVisibleLinks.enabled&&(this.preloadVisibleLinks(),this.on("page:view",()=>this.preloadVisibleLinks())),this.options.preloadHoveredLinks&&this.preloadLinksOnAttention(),this.options.preloadInitialPage&&this.preload(ai())):console.warn("SwupPreloadPlugin: swup cache needs to be enabled for preloading")}unmount(){var t,i,s;this.swup.preload=void 0,this.swup.preloadLinks=void 0,this.preloadPromises.clear(),(t=this.mouseEnterDelegate)==null||t.destroy(),(i=this.touchStartDelegate)==null||i.destroy(),(s=this.focusDelegate)==null||s.destroy(),this.stopPreloadingVisibleLinks()}preload(s){return Tt(this,arguments,function*(t,i={}){var r;let n,o;const a=(r=i.priority)!=null&&r;if(Array.isArray(t))return Promise.all(t.map(h=>this.preload(h)));if(os(t))o=t,{href:n}=kt.fromElement(t);else{if(typeof t!="string")return;n=t}if(!n)return;if(this.swup.cache.has(n))return this.swup.cache.get(n);if(this.preloadPromises.has(n))return this.preloadPromises.get(n);if(!this.shouldPreload(n,{el:o}))return;const l=new Promise(h=>{this.queue.add(()=>{this.performPreload(n).catch(()=>{}).then(c=>h(c)).finally(()=>{this.queue.next(),this.preloadPromises.delete(n)})},a)});return this.preloadPromises.set(n,l),l})}preloadLinks(){sn(()=>{Array.from(document.querySelectorAll("a[data-swup-preload], [data-swup-preload-all] a")).forEach(t=>this.preload(t))})}preloadLinksOnAttention(){const{swup:t}=this,{linkSelector:i}=t.options,s={passive:!0,capture:!0};this.mouseEnterDelegate=t.delegateEvent(i,"mouseenter",this.onMouseEnter,s),this.touchStartDelegate=t.delegateEvent(i,"touchstart",this.onTouchStart,s),this.focusDelegate=t.delegateEvent(i,"focus",this.onFocus,s)}preloadVisibleLinks(){if(this.preloadObserver)return void this.preloadObserver.update();const{threshold:t,delay:i,containers:s}=this.options.preloadVisibleLinks;this.preloadObserver=function({threshold:r,delay:n,containers:o,callback:a,filter:l}){const h=new Map,c=new IntersectionObserver(g=>{g.forEach(f=>{f.isIntersecting?d(f.target):p(f.target)})},{threshold:r}),d=g=>{var f;const{href:u}=kt.fromElement(g),_=(f=h.get(u))!=null?f:new Set;h.set(u,_),_.add(g),setTimeout(()=>{const v=h.get(u);v!=null&&v.size&&(a(g),c.unobserve(g),v.delete(g))},n)},p=g=>{var f;const{href:u}=kt.fromElement(g);(f=h.get(u))==null||f.delete(g)},m=()=>{sn(()=>{const g=o.map(f=>`${f} a[*|href]`).join(", ");Array.from(document.querySelectorAll(g)).filter(f=>l(f)).forEach(f=>c.observe(f))})};return{start:()=>m(),stop:()=>c.disconnect(),update:()=>(h.clear(),m())}}({threshold:t,delay:i,containers:s,callback:r=>this.preload(r),filter:r=>{if(this.options.preloadVisibleLinks.ignore(r)||!r.matches(this.swup.options.linkSelector))return!1;const{href:n}=kt.fromElement(r);return this.shouldPreload(n,{el:r})}}),this.preloadObserver.start()}stopPreloadingVisibleLinks(){this.preloadObserver&&this.preloadObserver.stop()}shouldPreload(t,{el:i}={}){const{url:s,href:r}=kt.fromUrl(t);return!(!function(){if(navigator.connection){var n;if(navigator.connection.saveData||(n=navigator.connection.effectiveType)!=null&&n.endsWith("2g"))return!1}return!0}()||this.swup.cache.has(s)||this.preloadPromises.has(s)||this.swup.shouldIgnoreVisit(r,{el:i})||i&&this.swup.resolveUrl(s)===this.swup.resolveUrl(ai()))}performPreload(t){return Tt(this,null,function*(){var i=this;const{url:s}=kt.fromUrl(t),r=this.swup.createVisit({to:s});return yield this.swup.hooks.call("page:preload",r,{url:s},function(o,a){return Tt(this,null,function*(){return a.page=yield i.swup.fetchPage(t,{visit:o}),a.page})})})}};var tl="1.1.20";function io(e,t,i){return Math.max(e,Math.min(t,i))}function el(e,t,i){return(1-i)*e+i*t}function il(e,t,i,s){return el(e,t,1-Math.exp(-i*s))}function sl(e,t){return(e%t+t)%t}var rl=class{constructor(){M(this,"isRunning",!1);M(this,"value",0);M(this,"from",0);M(this,"to",0);M(this,"currentTime",0);M(this,"lerp");M(this,"duration");M(this,"easing");M(this,"onUpdate")}advance(e){var i;if(!this.isRunning)return;let t=!1;if(this.duration&&this.easing){this.currentTime+=e;const s=io(0,this.currentTime/this.duration,1);t=s>=1;const r=t?1:this.easing(s);this.value=this.from+(this.to-this.from)*r}else this.lerp?(this.value=il(this.value,this.to,this.lerp*60,e),Math.round(this.value)===this.to&&(this.value=this.to,t=!0)):(this.value=this.to,t=!0);t&&this.stop(),(i=this.onUpdate)==null||i.call(this,this.value,t)}stop(){this.isRunning=!1}fromTo(e,t,{lerp:i,duration:s,easing:r,onStart:n,onUpdate:o}){this.from=this.value=e,this.to=t,this.lerp=i,this.duration=s,this.easing=r,this.currentTime=0,this.isRunning=!0,n==null||n(),this.onUpdate=o}};function nl(e,t){let i;return function(...s){let r=this;clearTimeout(i),i=setTimeout(()=>{i=void 0,e.apply(r,s)},t)}}var ol=class{constructor(e,t,{autoResize:i=!0,debounce:s=250}={}){M(this,"width",0);M(this,"height",0);M(this,"scrollHeight",0);M(this,"scrollWidth",0);M(this,"debouncedResize");M(this,"wrapperResizeObserver");M(this,"contentResizeObserver");M(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});M(this,"onWrapperResize",()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});M(this,"onContentResize",()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=e,this.content=t,i&&(this.debouncedResize=nl(this.resize,s),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var e,t;(e=this.wrapperResizeObserver)==null||e.disconnect(),(t=this.contentResizeObserver)==null||t.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},so=class{constructor(){M(this,"events",{})}emit(t,...i){var r;let s=this.events[t]||[];for(let n=0,o=s.length;n<o;n++)(r=s[n])==null||r.call(s,...i)}on(t,i){var s;return(s=this.events[t])!=null&&s.push(i)||(this.events[t]=[i]),()=>{var r;this.events[t]=(r=this.events[t])==null?void 0:r.filter(n=>i!==n)}}off(t,i){var s;this.events[t]=(s=this.events[t])==null?void 0:s.filter(r=>i!==r)}destroy(){this.events={}}},rn=100/6,Oe={passive:!1},al=class{constructor(e,t={wheelMultiplier:1,touchMultiplier:1}){M(this,"touchStart",{x:0,y:0});M(this,"lastDelta",{x:0,y:0});M(this,"window",{width:0,height:0});M(this,"emitter",new so);M(this,"onTouchStart",e=>{const{clientX:t,clientY:i}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=t,this.touchStart.y=i,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})});M(this,"onTouchMove",e=>{const{clientX:t,clientY:i}=e.targetTouches?e.targetTouches[0]:e,s=-(t-this.touchStart.x)*this.options.touchMultiplier,r=-(i-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=t,this.touchStart.y=i,this.lastDelta={x:s,y:r},this.emitter.emit("scroll",{deltaX:s,deltaY:r,event:e})});M(this,"onTouchEnd",e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})});M(this,"onWheel",e=>{let{deltaX:t,deltaY:i,deltaMode:s}=e;const r=s===1?rn:s===2?this.window.width:1,n=s===1?rn:s===2?this.window.height:1;t*=r,i*=n,t*=this.options.wheelMultiplier,i*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:t,deltaY:i,event:e})});M(this,"onWindowResize",()=>{this.window={width:window.innerWidth,height:window.innerHeight}});this.element=e,this.options=t,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,Oe),this.element.addEventListener("touchstart",this.onTouchStart,Oe),this.element.addEventListener("touchmove",this.onTouchMove,Oe),this.element.addEventListener("touchend",this.onTouchEnd,Oe)}on(e,t){return this.emitter.on(e,t)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,Oe),this.element.removeEventListener("touchstart",this.onTouchStart,Oe),this.element.removeEventListener("touchmove",this.onTouchMove,Oe),this.element.removeEventListener("touchend",this.onTouchEnd,Oe)}},ll=class{constructor({wrapper:e=window,content:t=document.documentElement,eventsTarget:i=e,smoothWheel:s=!0,syncTouch:r=!1,syncTouchLerp:n=.075,touchInertiaMultiplier:o=35,duration:a,easing:l=A=>Math.min(1,1.001-Math.pow(2,-10*A)),lerp:h=.1,infinite:c=!1,orientation:d="vertical",gestureOrientation:p="vertical",touchMultiplier:m=1,wheelMultiplier:g=1,autoResize:f=!0,prevent:u,virtualScroll:_,overscroll:v=!0,autoRaf:y=!1,anchors:S=!1,__experimental__naiveDimensions:w=!1}={}){M(this,"_isScrolling",!1);M(this,"_isStopped",!1);M(this,"_isLocked",!1);M(this,"_preventNextNativeScrollEvent",!1);M(this,"_resetVelocityTimeout",null);M(this,"__rafID",null);M(this,"isTouching");M(this,"time",0);M(this,"userData",{});M(this,"lastVelocity",0);M(this,"velocity",0);M(this,"direction",0);M(this,"options");M(this,"targetScroll");M(this,"animatedScroll");M(this,"animate",new rl);M(this,"emitter",new so);M(this,"dimensions");M(this,"virtualScroll");M(this,"onScrollEnd",e=>{e instanceof CustomEvent||(this.isScrolling==="smooth"||this.isScrolling===!1)&&e.stopPropagation()});M(this,"dispatchScrollendEvent",()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))});M(this,"onClick",e=>{const i=e.composedPath().find(s=>{var r;return s instanceof HTMLAnchorElement&&((r=s.getAttribute("href"))==null?void 0:r.startsWith("#"))});if(i){const s=i.getAttribute("href");if(s){const r=typeof this.options.anchors=="object"&&this.options.anchors?this.options.anchors:void 0;this.scrollTo(s,r)}}});M(this,"onPointerDown",e=>{e.button===1&&this.reset()});M(this,"onVirtualScroll",e=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(e)===!1)return;const{deltaX:t,deltaY:i,event:s}=e;if(this.emitter.emit("virtual-scroll",{deltaX:t,deltaY:i,event:s}),s.ctrlKey||s.lenisStopPropagation)return;const r=s.type.includes("touch"),n=s.type.includes("wheel");this.isTouching=s.type==="touchstart"||s.type==="touchmove";const o=t===0&&i===0;if(this.options.syncTouch&&r&&s.type==="touchstart"&&o&&!this.isStopped&&!this.isLocked){this.reset();return}const l=this.options.gestureOrientation==="vertical"&&i===0||this.options.gestureOrientation==="horizontal"&&t===0;if(o||l)return;let h=s.composedPath();h=h.slice(0,h.indexOf(this.rootElement));const c=this.options.prevent;if(h.find(u=>{var _,v,y;return u instanceof HTMLElement&&(typeof c=="function"&&(c==null?void 0:c(u))||((_=u.hasAttribute)==null?void 0:_.call(u,"data-lenis-prevent"))||r&&((v=u.hasAttribute)==null?void 0:v.call(u,"data-lenis-prevent-touch"))||n&&((y=u.hasAttribute)==null?void 0:y.call(u,"data-lenis-prevent-wheel")))}))return;if(this.isStopped||this.isLocked){s.preventDefault();return}if(!(this.options.syncTouch&&r||this.options.smoothWheel&&n)){this.isScrolling="native",this.animate.stop(),s.lenisStopPropagation=!0;return}let p=i;this.options.gestureOrientation==="both"?p=Math.abs(i)>Math.abs(t)?i:t:this.options.gestureOrientation==="horizontal"&&(p=t),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&i>0||this.animatedScroll===this.limit&&i<0))&&(s.lenisStopPropagation=!0),s.preventDefault();const m=r&&this.options.syncTouch,f=r&&s.type==="touchend"&&Math.abs(p)>5;f&&(p=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+p,Kt({programmatic:!1},m?{lerp:f?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))});M(this,"onNativeScroll",()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){const e=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-e,this.direction=Math.sign(this.animatedScroll-e),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}});M(this,"raf",e=>{const t=e-(this.time||e);this.time=e,this.animate.advance(t*.001),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))});window.lenisVersion=tl,(!e||e===document.documentElement)&&(e=window),this.options={wrapper:e,content:t,eventsTarget:i,smoothWheel:s,syncTouch:r,syncTouchLerp:n,touchInertiaMultiplier:o,duration:a,easing:l,lerp:h,infinite:c,gestureOrientation:p,orientation:d,touchMultiplier:m,wheelMultiplier:g,autoResize:f,prevent:u,virtualScroll:_,overscroll:v,autoRaf:y,anchors:S,__experimental__naiveDimensions:w},this.dimensions=new ol(e,t,{autoResize:f}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new al(i,{touchMultiplier:m,wheelMultiplier:g}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this.__rafID&&cancelAnimationFrame(this.__rafID)}on(e,t){return this.emitter.on(e,t)}off(e,t){return this.emitter.off(e,t)}setScroll(e){this.isHorizontal?this.options.wrapper.scrollTo({left:e,behavior:"instant"}):this.options.wrapper.scrollTo({top:e,behavior:"instant"})}resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.reset(),this.isStopped=!1)}stop(){this.isStopped||(this.reset(),this.isStopped=!0)}scrollTo(e,{offset:t=0,immediate:i=!1,lock:s=!1,duration:r=this.options.duration,easing:n=this.options.easing,lerp:o=this.options.lerp,onStart:a,onComplete:l,force:h=!1,programmatic:c=!0,userData:d}={}){if(!((this.isStopped||this.isLocked)&&!h)){if(typeof e=="string"&&["top","left","start"].includes(e))e=0;else if(typeof e=="string"&&["bottom","right","end"].includes(e))e=this.limit;else{let p;if(typeof e=="string"?p=document.querySelector(e):e instanceof HTMLElement&&(e!=null&&e.nodeType)&&(p=e),p){if(this.options.wrapper!==window){const g=this.rootElement.getBoundingClientRect();t-=this.isHorizontal?g.left:g.top}const m=p.getBoundingClientRect();e=(this.isHorizontal?m.left:m.top)+this.animatedScroll}}if(typeof e=="number"){if(e+=t,e=Math.round(e),this.options.infinite?c&&(this.targetScroll=this.animatedScroll=this.scroll):e=io(0,e,this.limit),e===this.targetScroll){a==null||a(this),l==null||l(this);return}if(this.userData=d!=null?d:{},i){this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),l==null||l(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}c||(this.targetScroll=e),this.animate.fromTo(this.animatedScroll,e,{duration:r,easing:n,lerp:o,onStart:()=>{s&&(this.isLocked=!0),this.isScrolling="smooth",a==null||a(this)},onUpdate:(p,m)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=p-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=p,this.setScroll(this.scroll),c&&(this.targetScroll=p),m||this.emit(),m&&(this.reset(),this.emit(),l==null||l(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){var t,i;const e=this.options.wrapper;return this.isHorizontal?(t=e.scrollX)!=null?t:e.scrollLeft:(i=e.scrollY)!=null?i:e.scrollTop}get scroll(){return this.options.infinite?sl(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(e){this._isScrolling!==e&&(this._isScrolling=e,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(e){this._isStopped!==e&&(this._isStopped=e,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(e){this._isLocked!==e&&(this._isLocked=e,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let e="lenis";return this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isScrolling==="smooth"&&(e+=" lenis-smooth"),e}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};function _r(){return _r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},_r.apply(null,arguments)}class nn{constructor({scrollElements:t,rootMargin:i="-1px -1px -1px -1px",IORaf:s}){this.scrollElements=void 0,this.rootMargin=void 0,this.IORaf=void 0,this.observer=void 0,this.scrollElements=t,this.rootMargin=i,this.IORaf=s,this._init()}_init(){this.observer=new IntersectionObserver(t=>{t.forEach(i=>{const s=this.scrollElements.find(r=>r.$el===i.target);i.isIntersecting?(s&&(s.isAlreadyIntersected=!0),this._setInview(i)):s&&s.isAlreadyIntersected&&this._setOutOfView(i)})},{rootMargin:this.rootMargin});for(const t of this.scrollElements)this.observe(t.$el)}destroy(){this.observer.disconnect()}observe(t){t&&this.observer.observe(t)}unobserve(t){t&&this.observer.unobserve(t)}_setInview(t){const i=this.scrollElements.find(s=>s.$el===t.target);this.IORaf&&(i==null||i.setInteractivityOn()),!this.IORaf&&(i==null||i.setInview())}_setOutOfView(t){const i=this.scrollElements.find(s=>s.$el===t.target);this.IORaf&&(i==null||i.setInteractivityOff()),!this.IORaf&&(i==null||i.setOutOfView()),i!=null&&i.attributes.scrollRepeat||this.IORaf||this.unobserve(t.target)}}function on(e,t,i,s,r){return i+((r-e)/(t-e)*(s-i)||0)}function an(e,t){return e.reduce((i,s)=>Math.abs(s-t)<Math.abs(i-t)?s:i)}class hl{constructor({$el:t,id:i,modularInstance:s,subscribeElementUpdateFn:r,unsubscribeElementUpdateFn:n,needRaf:o,scrollOrientation:a}){var l,h,c,d,p,m;this.$el=void 0,this.id=void 0,this.needRaf=void 0,this.attributes=void 0,this.scrollOrientation=void 0,this.isAlreadyIntersected=void 0,this.intersection=void 0,this.metrics=void 0,this.currentScroll=void 0,this.translateValue=void 0,this.progress=void 0,this.lastProgress=void 0,this.modularInstance=void 0,this.progressModularModules=void 0,this.isInview=void 0,this.isInteractive=void 0,this.isInFold=void 0,this.isFirstResize=void 0,this.subscribeElementUpdateFn=void 0,this.unsubscribeElementUpdateFn=void 0,this.$el=t,this.id=i,this.needRaf=o,this.scrollOrientation=a,this.modularInstance=s,this.subscribeElementUpdateFn=r,this.unsubscribeElementUpdateFn=n,this.attributes={scrollClass:(l=this.$el.dataset.scrollClass)!=null?l:"is-inview",scrollOffset:(h=this.$el.dataset.scrollOffset)!=null?h:"0,0",scrollPosition:(c=this.$el.dataset.scrollPosition)!=null?c:"start,end",scrollModuleProgress:this.$el.dataset.scrollModuleProgress!=null,scrollCssProgress:this.$el.dataset.scrollCssProgress!=null,scrollEventProgress:(d=this.$el.dataset.scrollEventProgress)!=null?d:null,scrollSpeed:this.$el.dataset.scrollSpeed!=null?parseFloat(this.$el.dataset.scrollSpeed):null,scrollParallaxSideways:this.$el.dataset.scrollParallaxSideways!=null,scrollParallaxClamp:(p=this.$el.dataset.scrollParallaxClamp)!=null?p:null,scrollRepeat:this.$el.dataset.scrollRepeat!=null,scrollCall:(m=this.$el.dataset.scrollCall)!=null?m:null,scrollCallSelf:this.$el.dataset.scrollCallSelf!=null,scrollIgnoreFold:this.$el.dataset.scrollIgnoreFold!=null,scrollEnableTouchSpeed:this.$el.dataset.scrollEnableTouchSpeed!=null},this.intersection={start:0,end:0},this.metrics={offsetStart:0,offsetEnd:0,bcr:{}},this.currentScroll=this.scrollOrientation==="vertical"?window.scrollY:window.scrollX,this.translateValue=0,this.progress=0,this.lastProgress=null,this.progressModularModules=[],this.isInview=!1,this.isInteractive=!1,this.isAlreadyIntersected=!1,this.isInFold=!1,this.isFirstResize=!0,this._init()}_init(){this.needRaf&&(this.modularInstance&&this.attributes.scrollModuleProgress&&this._getProgressModularModules(),this._resize())}onResize({currentScroll:t}){this.currentScroll=t,this._resize()}onRender({currentScroll:t,smooth:i}){const s=this.scrollOrientation==="vertical"?window.innerHeight:window.innerWidth;if(this.currentScroll=t,this._computeProgress(),this.attributes.scrollSpeed&&!isNaN(this.attributes.scrollSpeed))if(this.attributes.scrollEnableTouchSpeed||i){if(this.isInFold){const r=Math.max(0,this.progress);this.translateValue=r*s*this.attributes.scrollSpeed*-1}else{let r=on(0,1,-1,1,this.progress);switch(this.attributes.scrollParallaxClamp){case"+":r=Math.max(r,0);break;case"-":r=Math.min(r,0)}this.translateValue=r*s*this.attributes.scrollSpeed*-1}this.$el.style.transform=`translate3d(${this.scrollOrientation==="vertical"?this.attributes.scrollParallaxSideways?`${this.translateValue}px, 0`:`0, ${this.translateValue}px`:this.attributes.scrollParallaxSideways?`0, ${this.translateValue}px`:`${this.translateValue}px, 0`}, 0)`}else this.translateValue&&(this.$el.style.transform="translate3d(0, 0, 0)"),this.translateValue=0}setInview(){if(this.isInview)return;this.isInview=!0,this.$el.classList.add(this.attributes.scrollClass);const t=this._getScrollCallFrom();this.attributes.scrollCall&&this._dispatchCall("enter",t)}setOutOfView(){if(!this.isInview||!this.attributes.scrollRepeat)return;this.isInview=!1,this.$el.classList.remove(this.attributes.scrollClass);const t=this._getScrollCallFrom();this.attributes.scrollCall&&this._dispatchCall("leave",t)}setInteractivityOn(){this.isInteractive||(this.isInteractive=!0,this.subscribeElementUpdateFn(this))}setInteractivityOff(){this.isInteractive&&(this.isInteractive=!1,this.unsubscribeElementUpdateFn(this),this.lastProgress!=null&&this._computeProgress(an([0,1],this.lastProgress)))}_resize(){this.metrics.bcr=this.$el.getBoundingClientRect(),this._computeMetrics(),this._computeIntersection(),this.isFirstResize&&(this.isFirstResize=!1,this.isInFold&&this.setInview())}_computeMetrics(){const{top:t,left:i,height:s,width:r}=this.metrics.bcr,n=this.scrollOrientation==="vertical"?window.innerHeight:window.innerWidth,o=this.scrollOrientation==="vertical"?s:r;this.metrics.offsetStart=this.currentScroll+(this.scrollOrientation==="vertical"?t:i)-this.translateValue,this.metrics.offsetEnd=this.metrics.offsetStart+o,this.isInFold=this.metrics.offsetStart<n&&!this.attributes.scrollIgnoreFold}_computeIntersection(){const t=this.scrollOrientation==="vertical"?window.innerHeight:window.innerWidth,i=this.scrollOrientation==="vertical"?this.metrics.bcr.height:this.metrics.bcr.width,s=this.attributes.scrollOffset.split(","),r=s[0]!=null?s[0].trim():"0",n=s[1]!=null?s[1].trim():"0",o=this.attributes.scrollPosition.split(",");let a=o[0]!=null?o[0].trim():"start";const l=o[1]!=null?o[1].trim():"end",h=r.includes("%")?t*parseInt(r.replace("%","").trim())*.01:parseInt(r),c=n.includes("%")?t*parseInt(n.replace("%","").trim())*.01:parseInt(n);switch(this.isInFold&&(a="fold"),a){case"start":default:this.intersection.start=this.metrics.offsetStart-t+h;break;case"middle":this.intersection.start=this.metrics.offsetStart-t+h+.5*i;break;case"end":this.intersection.start=this.metrics.offsetStart-t+h+i;break;case"fold":this.intersection.start=0}switch(l){case"start":this.intersection.end=this.metrics.offsetStart-c;break;case"middle":this.intersection.end=this.metrics.offsetStart-c+.5*i;break;default:this.intersection.end=this.metrics.offsetStart-c+i}if(this.intersection.end<=this.intersection.start)switch(l){case"start":default:this.intersection.end=this.intersection.start+1;break;case"middle":this.intersection.end=this.intersection.start+.5*i;break;case"end":this.intersection.end=this.intersection.start+i}}_computeProgress(t){const i=t!=null?t:(s=on(this.intersection.start,this.intersection.end,0,1,this.currentScroll))<0?0:s>1?1:s;var s;if(this.progress=i,i!=this.lastProgress){if(this.lastProgress=i,this.attributes.scrollCssProgress&&this._setCssProgress(i),this.attributes.scrollEventProgress&&this._setCustomEventProgress(i),this.attributes.scrollModuleProgress)for(const r of this.progressModularModules)this.modularInstance&&this.modularInstance.call("onScrollProgress",i,r.moduleName,r.moduleId);i>0&&i<1&&this.setInview(),i===0&&this.setOutOfView(),i===1&&this.setOutOfView()}}_setCssProgress(t=0){this.$el.style.setProperty("--progress",t.toString())}_setCustomEventProgress(t=0){const i=this.attributes.scrollEventProgress;if(!i)return;const s=new CustomEvent(i,{detail:{target:this.$el,progress:t}});window.dispatchEvent(s)}_getProgressModularModules(){if(!this.modularInstance)return;const t=Object.keys(this.$el.dataset).filter(s=>s.includes("module")),i=Object.entries(this.modularInstance.modules);if(t.length)for(const s of t){const r=this.$el.dataset[s];if(!r)return;for(const n of i){const[o,a]=n;r in a&&this.progressModularModules.push({moduleName:o,moduleId:r})}}}_getScrollCallFrom(){const t=an([this.intersection.start,this.intersection.end],this.currentScroll);return this.intersection.start===t?"start":"end"}_dispatchCall(t,i){var s,r;const n=(s=this.attributes.scrollCall)==null?void 0:s.split(","),o=(r=this.attributes)==null?void 0:r.scrollCallSelf;if(n&&n.length>1){var a;const[l,h,c]=n;let d;d=o?this.$el.dataset[`module${h.trim()}`]:c,this.modularInstance&&this.modularInstance.call(l.trim(),{target:this.$el,way:t,from:i},h.trim(),(a=d)==null?void 0:a.trim())}else if(n){const[l]=n,h=new CustomEvent(l,{detail:{target:this.$el,way:t,from:i}});window.dispatchEvent(h)}}}const cl=["scrollOffset","scrollPosition","scrollModuleProgress","scrollCssProgress","scrollEventProgress","scrollSpeed"];class dl{constructor({$el:t,modularInstance:i,triggerRootMargin:s,rafRootMargin:r,scrollOrientation:n}){this.$scrollContainer=void 0,this.modularInstance=void 0,this.triggerRootMargin=void 0,this.rafRootMargin=void 0,this.scrollElements=void 0,this.triggeredScrollElements=void 0,this.RAFScrollElements=void 0,this.scrollElementsToUpdate=void 0,this.IOTriggerInstance=void 0,this.IORafInstance=void 0,this.scrollOrientation=void 0,t?(this.$scrollContainer=t,this.modularInstance=i,this.scrollOrientation=n,this.triggerRootMargin=s!=null?s:"-1px -1px -1px -1px",this.rafRootMargin=r!=null?r:"100% 100% 100% 100%",this.scrollElements=[],this.triggeredScrollElements=[],this.RAFScrollElements=[],this.scrollElementsToUpdate=[],this._init()):console.error("Please provide a DOM Element as scrollContainer")}_init(){const t=this.$scrollContainer.querySelectorAll("[data-scroll]"),i=Array.from(t);this._subscribeScrollElements(i),this.IOTriggerInstance=new nn({scrollElements:[...this.triggeredScrollElements],rootMargin:this.triggerRootMargin,IORaf:!1}),this.IORafInstance=new nn({scrollElements:[...this.RAFScrollElements],rootMargin:this.rafRootMargin,IORaf:!0})}destroy(){this.IOTriggerInstance.destroy(),this.IORafInstance.destroy(),this._unsubscribeAllScrollElements()}onResize({currentScroll:t}){for(const i of this.RAFScrollElements)i.onResize({currentScroll:t})}onRender({currentScroll:t,smooth:i}){for(const s of this.scrollElementsToUpdate)s.onRender({currentScroll:t,smooth:i})}removeScrollElements(t){const i=t.querySelectorAll("[data-scroll]");if(i.length){for(let s=0;s<this.triggeredScrollElements.length;s++){const r=this.triggeredScrollElements[s];Array.from(i).indexOf(r.$el)>-1&&(this.IOTriggerInstance.unobserve(r.$el),this.triggeredScrollElements.splice(s,1))}for(let s=0;s<this.RAFScrollElements.length;s++){const r=this.RAFScrollElements[s];Array.from(i).indexOf(r.$el)>-1&&(this.IORafInstance.unobserve(r.$el),this.RAFScrollElements.splice(s,1))}i.forEach(s=>{const r=this.scrollElementsToUpdate.find(o=>o.$el===s),n=this.scrollElements.find(o=>o.$el===s);r&&this._unsubscribeElementUpdate(r),n&&(this.scrollElements=this.scrollElements.filter(o=>o.id!=n.id))})}}addScrollElements(t){const i=t.querySelectorAll("[data-scroll]"),s=[];this.scrollElements.forEach(o=>{s.push(o.id)});const r=Math.max(...s,0)+1,n=Array.from(i);this._subscribeScrollElements(n,r,!0)}_subscribeScrollElements(t,i=0,s=!1){for(let r=0;r<t.length;r++){const n=t[r],o=this._checkRafNeeded(n),a=new hl({$el:n,id:i+r,scrollOrientation:this.scrollOrientation,modularInstance:this.modularInstance,subscribeElementUpdateFn:this._subscribeElementUpdate.bind(this),unsubscribeElementUpdateFn:this._unsubscribeElementUpdate.bind(this),needRaf:o});this.scrollElements.push(a),o?(this.RAFScrollElements.push(a),s&&(this.IORafInstance.scrollElements.push(a),this.IORafInstance.observe(a.$el))):(this.triggeredScrollElements.push(a),s&&(this.IOTriggerInstance.scrollElements.push(a),this.IOTriggerInstance.observe(a.$el)))}}_unsubscribeAllScrollElements(){this.scrollElements=[],this.RAFScrollElements=[],this.triggeredScrollElements=[],this.scrollElementsToUpdate=[]}_subscribeElementUpdate(t){this.scrollElementsToUpdate.push(t)}_unsubscribeElementUpdate(t){this.scrollElementsToUpdate=this.scrollElementsToUpdate.filter(i=>i.id!=t.id)}_checkRafNeeded(t){let i=[...cl];const s=r=>{i=i.filter(n=>n!=r)};if(t.dataset.scrollOffset){if(t.dataset.scrollOffset.split(",").map(r=>r.replace("%","").trim()).join(",")!="0,0")return!0;s("scrollOffset")}else s("scrollOffset");if(t.dataset.scrollPosition){if(t.dataset.scrollPosition.trim()!="top,bottom")return!0;s("scrollPosition")}else s("scrollPosition");if(t.dataset.scrollSpeed&&!isNaN(parseFloat(t.dataset.scrollSpeed)))return!0;s("scrollSpeed");for(const r of i)if(r in t.dataset)return!0;return!1}}class ul{constructor({resizeElements:t,resizeCallback:i=()=>{}}){this.$resizeElements=void 0,this.isFirstObserve=void 0,this.observer=void 0,this.resizeCallback=void 0,this.$resizeElements=t,this.resizeCallback=i,this.isFirstObserve=!0,this._init()}_init(){this.observer=new ResizeObserver(t=>{var i;!this.isFirstObserve&&((i=this.resizeCallback)==null||i.call(this)),this.isFirstObserve=!1});for(const t of this.$resizeElements)this.observer.observe(t)}destroy(){this.observer.disconnect()}}class fl{constructor({lenisOptions:t={},modularInstance:i,triggerRootMargin:s,rafRootMargin:r,autoResize:n=!0,autoStart:o=!0,scrollCallback:a=()=>{},initCustomTicker:l,destroyCustomTicker:h}={}){this.rafPlaying=void 0,this.lenisInstance=void 0,this.coreInstance=void 0,this.lenisOptions=void 0,this.modularInstance=void 0,this.triggerRootMargin=void 0,this.rafRootMargin=void 0,this.rafInstance=void 0,this.autoResize=void 0,this.autoStart=void 0,this.ROInstance=void 0,this.initCustomTicker=void 0,this.destroyCustomTicker=void 0,this._onRenderBind=void 0,this._onResizeBind=void 0,this._onScrollToBind=void 0;for(const[c]of Object.entries(t))["wrapper","content","infinite"].includes(c)&&console.warn(`Warning: Key "${c}" is not possible to edit in Locomotive Scroll.`);Object.assign(this,{lenisOptions:t,modularInstance:i,triggerRootMargin:s,rafRootMargin:r,autoResize:n,autoStart:o,scrollCallback:a,initCustomTicker:l,destroyCustomTicker:h}),this._onRenderBind=this._onRender.bind(this),this._onScrollToBind=this._onScrollTo.bind(this),this._onResizeBind=this._onResize.bind(this),this.rafPlaying=!1,this._init()}_init(){var t;this.lenisInstance=new ll(_r({},this.lenisOptions,{wrapper:window,content:document.documentElement,infinite:!1})),(t=this.lenisInstance)==null||t.on("scroll",this.scrollCallback),document.documentElement.setAttribute("data-scroll-orientation",this.lenisInstance.options.orientation),requestAnimationFrame(()=>{this.coreInstance=new dl({$el:this.lenisInstance.rootElement,modularInstance:this.modularInstance,triggerRootMargin:this.triggerRootMargin,rafRootMargin:this.rafRootMargin,scrollOrientation:this.lenisInstance.options.orientation}),this._bindEvents(),this.initCustomTicker&&!this.destroyCustomTicker?console.warn("initCustomTicker callback is declared, but destroyCustomTicker is not. Please pay attention. It could cause trouble."):!this.initCustomTicker&&this.destroyCustomTicker&&console.warn("destroyCustomTicker callback is declared, but initCustomTicker is not. Please pay attention. It could cause trouble."),this.autoStart&&this.start()})}destroy(){var t;this.stop(),this._unbindEvents(),this.lenisInstance.destroy(),(t=this.coreInstance)==null||t.destroy(),requestAnimationFrame(()=>{var i;(i=this.coreInstance)==null||i.destroy()})}_bindEvents(){this._bindScrollToEvents(),this.autoResize&&("ResizeObserver"in window?this.ROInstance=new ul({resizeElements:[document.body],resizeCallback:this._onResizeBind}):window.addEventListener("resize",this._onResizeBind))}_unbindEvents(){this._unbindScrollToEvents(),this.autoResize&&("ResizeObserver"in window?this.ROInstance&&this.ROInstance.destroy():window.removeEventListener("resize",this._onResizeBind))}_bindScrollToEvents(t){const i=t||this.lenisInstance.rootElement,s=i==null?void 0:i.querySelectorAll("[data-scroll-to]");s!=null&&s.length&&s.forEach(r=>{r.addEventListener("click",this._onScrollToBind,!1)})}_unbindScrollToEvents(t){const i=t||this.lenisInstance.rootElement,s=i==null?void 0:i.querySelectorAll("[data-scroll-to]");s!=null&&s.length&&s.forEach(r=>{r.removeEventListener("click",this._onScrollToBind,!1)})}_onResize(){requestAnimationFrame(()=>{var t;(t=this.coreInstance)==null||t.onResize({currentScroll:this.lenisInstance.scroll})})}_onRender(){var t,i;(t=this.lenisInstance)==null||t.raf(Date.now()),(i=this.coreInstance)==null||i.onRender({currentScroll:this.lenisInstance.scroll,smooth:this.lenisInstance.options.smoothWheel})}_onScrollTo(t){var i;t.preventDefault();const s=(i=t.currentTarget)!=null?i:null;if(!s)return;const r=s.getAttribute("data-scroll-to-href")||s.getAttribute("href"),n=s.getAttribute("data-scroll-to-offset")||0,o=s.getAttribute("data-scroll-to-duration")||this.lenisInstance.options.duration;r&&this.scrollTo(r,{offset:typeof n=="string"?parseInt(n):n,duration:typeof o=="string"?parseInt(o):o})}start(){var t;this.rafPlaying||((t=this.lenisInstance)==null||t.start(),this.rafPlaying=!0,this.initCustomTicker?this.initCustomTicker(this._onRenderBind):this._raf())}stop(){var t;this.rafPlaying&&((t=this.lenisInstance)==null||t.stop(),this.rafPlaying=!1,this.destroyCustomTicker?this.destroyCustomTicker(this._onRenderBind):this.rafInstance&&cancelAnimationFrame(this.rafInstance))}removeScrollElements(t){var i;t?(this._unbindScrollToEvents(t),(i=this.coreInstance)==null||i.removeScrollElements(t)):console.error("Please provide a DOM Element as $oldContainer")}addScrollElements(t){var i;t?((i=this.coreInstance)==null||i.addScrollElements(t),requestAnimationFrame(()=>{this._bindScrollToEvents(t)})):console.error("Please provide a DOM Element as $newContainer")}resize(){this._onResizeBind()}scrollTo(t,i){var s;(s=this.lenisInstance)==null||s.scrollTo(t,{offset:i==null?void 0:i.offset,lerp:i==null?void 0:i.lerp,duration:i==null?void 0:i.duration,immediate:i==null?void 0:i.immediate,lock:i==null?void 0:i.lock,force:i==null?void 0:i.force,easing:i==null?void 0:i.easing,onComplete:i==null?void 0:i.onComplete})}_raf(){this._onRenderBind(),this.rafInstance=requestAnimationFrame(()=>this._raf())}}/**
* Muuri v0.9.5
* https://muuri.dev/
* Copyright (c) 2015-present, Haltu Oy
* Released under the MIT license
* https://github.com/haltu/muuri/blob/master/LICENSE.md
* @license MIT
*
* Muuri Packer
* Copyright (c) 2016-present, Niklas Rämö <inramo@gmail.com>
* @license MIT
*
* Muuri Ticker / Muuri Emitter / Muuri Dragger
* Copyright (c) 2018-present, Niklas Rämö <inramo@gmail.com>
* @license MIT
*
* Muuri AutoScroller
* Copyright (c) 2019-present, Niklas Rämö <inramo@gmail.com>
* @license MIT
*/var zs={},ri=typeof Map=="function"?new Map:null,ge="swap",li="move",pl="synchronize",We="layoutStart",ln="layoutEnd",hn="layoutAbort",cn="add",dn="remove",ml="showStart",gl="showEnd",Xi="hideStart",_l="hideEnd",un="filter",fn="sort",ks="move",Is="send",Ge="beforeSend",Ds="receive",Ls="beforeReceive",vl="dragInit",yl="dragStart",Sl="dragMove",bl="dragScroll",wl="dragEnd",Tl="dragReleaseStart",Vi="dragReleaseEnd",El="destroy",ro="ontouchstart"in window,Lr=!!window.PointerEvent,Cr=!!window.navigator.msPointerEnabled,Al=16777216;function re(){this._events={},this._queue=[],this._counter=0,this._clearOnEmit=!1}re.prototype.on=function(e,t){if(!this._events||!e||!t)return this;var i=this._events[e];return i||(i=this._events[e]=[]),i.push(t),this};re.prototype.off=function(e,t){if(!this._events||!e||!t)return this;var i=this._events[e];if(!i||!i.length)return this;for(var s;(s=i.indexOf(t))!==-1;)i.splice(s,1);return this};re.prototype.clear=function(e){if(!this._events||!e)return this;var t=this._events[e];return t&&(t.length=0,delete this._events[e]),this};re.prototype.emit=function(e){if(!this._events||!e)return this._clearOnEmit=!1,this;var t=this._events[e];if(!t||!t.length)return this._clearOnEmit=!1,this;var i=this._queue,s=i.length,r=arguments.length-1,n;r>3&&(n=[],n.push.apply(n,arguments),n.shift()),i.push.apply(i,t),this._clearOnEmit&&(t.length=0,this._clearOnEmit=!1),++this._counter;for(var o=s,a=i.length;o<a;o++)if(r===0?i[o]():r===1?i[o](arguments[1]):r===2?i[o](arguments[1],arguments[2]):r===3?i[o](arguments[1],arguments[2],arguments[3]):i[o].apply(null,n),!this._events)return this;return--this._counter,this._counter||(i.length=0),this};re.prototype.burst=function(){return this._events?(this._clearOnEmit=!0,this.emit.apply(this,arguments),this):this};re.prototype.countListeners=function(e){if(!this._events)return 0;var t=this._events[e];return t?t.length:0};re.prototype.destroy=function(){return this._events?(this._queue.length=this._counter=0,this._events=null,this):this};var Bs=Lr?"pointerout":Cr?"MSPointerOut":"",kl=100;function Qe(e){Bs&&(this._dragger=e,this._timeout=null,this._outEvent=null,this._isActive=!1,this._addBehaviour=this._addBehaviour.bind(this),this._removeBehaviour=this._removeBehaviour.bind(this),this._onTimeout=this._onTimeout.bind(this),this._resetData=this._resetData.bind(this),this._onStart=this._onStart.bind(this),this._onOut=this._onOut.bind(this),this._dragger.on("start",this._onStart))}Qe.prototype._addBehaviour=function(){this._isActive||(this._isActive=!0,this._dragger.on("move",this._resetData),this._dragger.on("cancel",this._removeBehaviour),this._dragger.on("end",this._removeBehaviour),window.addEventListener(Bs,this._onOut))};Qe.prototype._removeBehaviour=function(){this._isActive&&(this._dragger.off("move",this._resetData),this._dragger.off("cancel",this._removeBehaviour),this._dragger.off("end",this._removeBehaviour),window.removeEventListener(Bs,this._onOut),this._resetData(),this._isActive=!1)};Qe.prototype._resetData=function(){window.clearTimeout(this._timeout),this._timeout=null,this._outEvent=null};Qe.prototype._onStart=function(e){e.pointerType!=="mouse"&&this._addBehaviour()};Qe.prototype._onOut=function(e){this._dragger._getTrackedTouch(e)&&(this._resetData(),this._outEvent=e,this._timeout=window.setTimeout(this._onTimeout,kl))};Qe.prototype._onTimeout=function(){var e=this._outEvent;this._resetData(),this._dragger.isActive()&&this._dragger._onCancel(e)};Qe.prototype.destroy=function(){Bs&&(this._dragger.off("start",this._onStart),this._removeBehaviour())};var rr=["","webkit","moz","ms","o","Webkit","Moz","MS","O"],pn={};function Ys(e,t){var i=pn[t]||"";if(i)return i;for(var s=t[0].toUpperCase()+t.slice(1),r=0;r<rr.length;){if(i=rr[r]?rr[r]+s:t,i in e)return pn[t]=i,i;++r}return""}function no(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(i){}return e}var Xs=window.navigator.userAgent.toLowerCase(),Il=Xs.indexOf("edge")>-1,Dl=Xs.indexOf("trident")>-1,Ll=Xs.indexOf("firefox")>-1,Cl=Xs.indexOf("android")>-1,Ve=no()?{passive:!0}:!1,oo="touchAction",as=Ys(document.documentElement.style,oo),xl="auto";function T(e,t){this._element=e,this._emitter=new re,this._isDestroyed=!1,this._cssProps={},this._touchAction="",this._isActive=!1,this._pointerId=null,this._startTime=0,this._startX=0,this._startY=0,this._currentX=0,this._currentY=0,this._onStart=this._onStart.bind(this),this._onMove=this._onMove.bind(this),this._onCancel=this._onCancel.bind(this),this._onEnd=this._onEnd.bind(this),this._edgeHack=null,(Il||Dl)&&(Lr||Cr)&&(this._edgeHack=new Qe(this)),this.setCssProps(t),this._touchAction||this.setTouchAction(xl),e.addEventListener("dragstart",T._preventDefault,!1),e.addEventListener(T._inputEvents.start,this._onStart,Ve)}T._pointerEvents={start:"pointerdown",move:"pointermove",cancel:"pointercancel",end:"pointerup"};T._msPointerEvents={start:"MSPointerDown",move:"MSPointerMove",cancel:"MSPointerCancel",end:"MSPointerUp"};T._touchEvents={start:"touchstart",move:"touchmove",cancel:"touchcancel",end:"touchend"};T._mouseEvents={start:"mousedown",move:"mousemove",cancel:"",end:"mouseup"};T._inputEvents=function(){return ro?T._touchEvents:Lr?T._pointerEvents:Cr?T._msPointerEvents:T._mouseEvents}();T._emitter=new re;T._emitterEvents={start:"start",move:"move",end:"end",cancel:"cancel"};T._activeInstances=[];T._preventDefault=function(e){e.preventDefault&&e.cancelable!==!1&&e.preventDefault()};T._activateInstance=function(e){var t=T._activeInstances.indexOf(e);t>-1||(T._activeInstances.push(e),T._emitter.on(T._emitterEvents.move,e._onMove),T._emitter.on(T._emitterEvents.cancel,e._onCancel),T._emitter.on(T._emitterEvents.end,e._onEnd),T._activeInstances.length===1&&T._bindListeners())};T._deactivateInstance=function(e){var t=T._activeInstances.indexOf(e);t!==-1&&(T._activeInstances.splice(t,1),T._emitter.off(T._emitterEvents.move,e._onMove),T._emitter.off(T._emitterEvents.cancel,e._onCancel),T._emitter.off(T._emitterEvents.end,e._onEnd),T._activeInstances.length||T._unbindListeners())};T._bindListeners=function(){window.addEventListener(T._inputEvents.move,T._onMove,Ve),window.addEventListener(T._inputEvents.end,T._onEnd,Ve),T._inputEvents.cancel&&window.addEventListener(T._inputEvents.cancel,T._onCancel,Ve)};T._unbindListeners=function(){window.removeEventListener(T._inputEvents.move,T._onMove,Ve),window.removeEventListener(T._inputEvents.end,T._onEnd,Ve),T._inputEvents.cancel&&window.removeEventListener(T._inputEvents.cancel,T._onCancel,Ve)};T._getEventPointerId=function(e){return typeof e.pointerId=="number"?e.pointerId:e.changedTouches?e.changedTouches[0]?e.changedTouches[0].identifier:null:1};T._getTouchById=function(e,t){if(typeof e.pointerId=="number")return e.pointerId===t?e:null;if(e.changedTouches){for(var i=0;i<e.changedTouches.length;i++)if(e.changedTouches[i].identifier===t)return e.changedTouches[i];return null}return e};T._onMove=function(e){T._emitter.emit(T._emitterEvents.move,e)};T._onCancel=function(e){T._emitter.emit(T._emitterEvents.cancel,e)};T._onEnd=function(e){T._emitter.emit(T._emitterEvents.end,e)};T.prototype._reset=function(){this._pointerId=null,this._startTime=0,this._startX=0,this._startY=0,this._currentX=0,this._currentY=0,this._isActive=!1,T._deactivateInstance(this)};T.prototype._createEvent=function(e,t){var i=this._getTrackedTouch(t);return{type:e,srcEvent:t,distance:this.getDistance(),deltaX:this.getDeltaX(),deltaY:this.getDeltaY(),deltaTime:e===T._emitterEvents.start?0:this.getDeltaTime(),isFirst:e===T._emitterEvents.start,isFinal:e===T._emitterEvents.end||e===T._emitterEvents.cancel,pointerType:t.pointerType||(t.touches?"touch":"mouse"),identifier:this._pointerId,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,target:i.target}};T.prototype._emit=function(e,t){this._emitter.emit(e,this._createEvent(e,t))};T.prototype._getTrackedTouch=function(e){return this._pointerId===null?null:T._getTouchById(e,this._pointerId)};T.prototype._onStart=function(e){if(!this._isDestroyed&&this._pointerId===null&&(this._pointerId=T._getEventPointerId(e),this._pointerId!==null)){var t=this._getTrackedTouch(e);this._startX=this._currentX=t.clientX,this._startY=this._currentY=t.clientY,this._startTime=Date.now(),this._isActive=!0,this._emit(T._emitterEvents.start,e),this._isActive&&T._activateInstance(this)}};T.prototype._onMove=function(e){var t=this._getTrackedTouch(e);t&&(this._currentX=t.clientX,this._currentY=t.clientY,this._emit(T._emitterEvents.move,e))};T.prototype._onCancel=function(e){this._getTrackedTouch(e)&&(this._emit(T._emitterEvents.cancel,e),this._reset())};T.prototype._onEnd=function(e){this._getTrackedTouch(e)&&(this._emit(T._emitterEvents.end,e),this._reset())};T.prototype.isActive=function(){return this._isActive};T.prototype.setTouchAction=function(e){this._touchAction=e,as&&(this._cssProps[as]="",this._element.style[as]=e),ro&&(this._element.removeEventListener(T._touchEvents.start,T._preventDefault,!0),(this._element.style[as]!==e||Ll&&Cl)&&this._element.addEventListener(T._touchEvents.start,T._preventDefault,!0))};T.prototype.setCssProps=function(e){if(e){var t=this._cssProps,i=this._element,s,r;for(s in t)i.style[s]=t[s],delete t[s];for(s in e)if(e[s]){if(s===oo){this.setTouchAction(e[s]);continue}r=Ys(i.style,s),r&&(t[r]="",i.style[r]=e[s])}}};T.prototype.getDeltaX=function(){return this._currentX-this._startX};T.prototype.getDeltaY=function(){return this._currentY-this._startY};T.prototype.getDistance=function(){var e=this.getDeltaX(),t=this.getDeltaY();return Math.sqrt(e*e+t*t)};T.prototype.getDeltaTime=function(){return this._startTime?Date.now()-this._startTime:0};T.prototype.on=function(e,t){this._emitter.on(e,t)};T.prototype.off=function(e,t){this._emitter.off(e,t)};T.prototype.destroy=function(){if(!this._isDestroyed){var e=this._element;this._edgeHack&&this._edgeHack.destroy(),this._reset(),this._emitter.destroy(),e.removeEventListener(T._inputEvents.start,this._onStart,Ve),e.removeEventListener("dragstart",T._preventDefault,!1),e.removeEventListener(T._touchEvents.start,T._preventDefault,!0);for(var t in this._cssProps)e.style[t]=this._cssProps[t],delete this._cssProps[t];this._element=null,this._isDestroyed=!0}};var Rl=1e3/60,Pl=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return this.setTimeout(function(){e(Date.now())},Rl)}).bind(window);function Vs(e){this._nextStep=null,this._lanes=[],this._stepQueue=[],this._stepCallbacks={},this._step=this._step.bind(this);for(var t=0;t<e;t++)this._lanes.push(new xr)}Vs.prototype._step=function(e){var t=this._lanes,i=this._stepQueue,s=this._stepCallbacks,r,n,o,a,l,h;for(this._nextStep=null,r=0;r<t.length;r++){for(a=t[r].queue,l=t[r].callbacks,h=t[r].indices,n=0;n<a.length;n++)o=a[n],o&&(i.push(o),s[o]=l[o],delete l[o],delete h[o]);a.length=0}for(r=0;r<i.length;r++)o=i[r],s[o]&&s[o](e),delete s[o];i.length=0};Vs.prototype.add=function(e,t,i){this._lanes[e].add(t,i),this._nextStep||(this._nextStep=Pl(this._step))};Vs.prototype.remove=function(e,t){this._lanes[e].remove(t)};function xr(){this.queue=[],this.indices={},this.callbacks={}}xr.prototype.add=function(e,t){var i=this.indices[e];i!==void 0&&(this.queue[i]=void 0),this.queue.push(e),this.callbacks[e]=t,this.indices[e]=this.queue.length-1};xr.prototype.remove=function(e){var t=this.indices[e];t!==void 0&&(this.queue[t]=void 0,delete this.callbacks[e],delete this.indices[e])};var ao="layoutRead",lo="layoutWrite",ho="visibilityRead",co="visibilityWrite",uo="dragStartRead",fo="dragStartWrite",po="dragMoveRead",mo="dragMoveWrite",go="dragScrollRead",_o="dragScrollWrite",vo="dragSortRead",yo="placeholderLayoutRead",So="placeholderLayoutWrite",bo="placeholderResizeWrite",wo="autoScrollRead",To="autoScrollWrite",Eo="debounceRead",Rt=0,Ao=1,Pt=2,et=new Vs(3);function Ol(e,t,i){et.add(Rt,ao+e,t),et.add(Pt,lo+e,i)}function ko(e){et.remove(Rt,ao+e),et.remove(Pt,lo+e)}function Ml(e,t,i){et.add(Rt,ho+e,t),et.add(Pt,co+e,i)}function Io(e){et.remove(Rt,ho+e),et.remove(Pt,co+e)}function Nl(e,t,i){et.add(Rt,uo+e,t),et.add(Pt,fo+e,i)}function Do(e){et.remove(Rt,uo+e),et.remove(Pt,fo+e)}function Fl(e,t,i){et.add(Rt,po+e,t),et.add(Pt,mo+e,i)}function Lo(e){et.remove(Rt,po+e),et.remove(Pt,mo+e)}function zl(e,t,i){et.add(Rt,go+e,t),et.add(Pt,_o+e,i)}function Co(e){et.remove(Rt,go+e),et.remove(Pt,_o+e)}function Hs(e,t){et.add(Ao,vo+e,t)}function Bl(e){et.remove(Ao,vo+e)}function Yl(e,t,i){et.add(Rt,yo+e,t),et.add(Pt,So+e,i)}function xo(e){et.remove(Rt,yo+e),et.remove(Pt,So+e)}function Xl(e,t){et.add(Pt,bo+e,t)}function Vl(e){et.remove(Pt,bo+e)}function Ro(e,t){et.add(Rt,wo,e),et.add(Pt,To,t)}function Hl(){et.remove(Rt,wo),et.remove(Pt,To)}function ql(e,t){et.add(Rt,Eo+e,t)}function $l(e){et.remove(Rt,Eo+e)}var ft=1,Et=2,Di=4,Rr=8,Hi=ft|Rr,qi=ft|Di,$i=Et|Rr,Cs=Et|Di,Ul="function";function Z(e){return typeof e===Ul}var ls=typeof WeakMap=="function"?new WeakMap:null;function Ut(e,t){var i=ls&&ls.get(e);return i||(i=window.getComputedStyle(e,null),ls&&ls.set(e,i)),i.getPropertyValue(t)}function ee(e,t){return parseFloat(Ut(e,t))||0}var hi=document.documentElement,Wl=document.body,hs={value:0,offset:0};function Po(e){return e===window||e===hi||e===Wl?window:e}function Ui(e){return e===window?e.pageXOffset:e.scrollLeft}function Wi(e){return e===window?e.pageYOffset:e.scrollTop}function Oo(e){return e===window?hi.scrollWidth-hi.clientWidth:e.scrollWidth-e.clientWidth}function Mo(e){return e===window?hi.scrollHeight-hi.clientHeight:e.scrollHeight-e.clientHeight}function No(e,t){if(t=t||{},e===window)t.width=hi.clientWidth,t.height=hi.clientHeight,t.left=0,t.right=t.width,t.top=0,t.bottom=t.height;else{var i=e.getBoundingClientRect(),s=e.clientLeft||ee(e,"border-left-width"),r=e.clientTop||ee(e,"border-top-width");t.width=e.clientWidth,t.height=e.clientHeight,t.left=i.left+s,t.right=t.left+t.width,t.top=i.top+r,t.bottom=t.top+t.height}return t}function Zi(e){return e._drag._getGrid()._settings.dragAutoScroll}function Gl(e){e._drag&&e._drag._prepareScroll()}function jl(e){if(!(!e._drag||!e._isActive)){var t=e._drag;t._scrollDiffX=t._scrollDiffY=0,e._setTranslate(t._left,t._top)}}function vr(e,t,i,s){return hs.value=Math.min(s/2,e),hs.offset=Math.max(0,i+hs.value*2+s*t-s)/2,hs}function Le(){this.reset()}Le.prototype.reset=function(){this.isActive&&this.onStop(),this.item=null,this.element=null,this.isActive=!1,this.isEnding=!1,this.direction=null,this.value=null,this.maxValue=0,this.threshold=0,this.distance=0,this.speed=0,this.duration=0,this.action=null};Le.prototype.hasReachedEnd=function(){return Di&this.direction?this.value>=this.maxValue:this.value<=0};Le.prototype.computeCurrentScrollValue=function(){return this.value===null?ft&this.direction?Ui(this.element):Wi(this.element):Math.max(0,Math.min(this.value,this.maxValue))};Le.prototype.computeNextScrollValue=function(e){var t=this.speed*(e/1e3),i=Di&this.direction?this.value+t:this.value-t;return Math.max(0,Math.min(i,this.maxValue))};Le.prototype.computeSpeed=function(){var e={direction:null,threshold:0,distance:0,value:0,maxValue:0,deltaTime:0,duration:0,isEnding:!1};return function(t){var i=this.item,s=Zi(i).speed;return Z(s)?(e.direction=this.direction,e.threshold=this.threshold,e.distance=this.distance,e.value=this.value,e.maxValue=this.maxValue,e.duration=this.duration,e.speed=this.speed,e.deltaTime=t,e.isEnding=this.isEnding,s(i,this.element,e)):s}}();Le.prototype.tick=function(e){return this.isActive||(this.isActive=!0,this.onStart()),this.value=this.computeCurrentScrollValue(),this.speed=this.computeSpeed(e),this.value=this.computeNextScrollValue(e),this.duration+=e,this.value};Le.prototype.onStart=function(){var e=this.item,t=Zi(e).onStart;Z(t)&&t(e,this.element,this.direction)};Le.prototype.onStop=function(){var e=this.item,t=Zi(e).onStop;Z(t)&&t(e,this.element,this.direction),e._drag&&e._drag.sort()};function Li(){this.element=null,this.requestX=null,this.requestY=null,this.scrollLeft=0,this.scrollTop=0}Li.prototype.reset=function(){this.requestX&&(this.requestX.action=null),this.requestY&&(this.requestY.action=null),this.element=null,this.requestX=null,this.requestY=null,this.scrollLeft=0,this.scrollTop=0};Li.prototype.addRequest=function(e){ft&e.direction?(this.removeRequest(this.requestX),this.requestX=e):(this.removeRequest(this.requestY),this.requestY=e),e.action=this};Li.prototype.removeRequest=function(e){e&&(this.requestX===e?(this.requestX=null,e.action=null):this.requestY===e&&(this.requestY=null,e.action=null))};Li.prototype.computeScrollValues=function(){this.scrollLeft=this.requestX?this.requestX.value:Ui(this.element),this.scrollTop=this.requestY?this.requestY.value:Wi(this.element)};Li.prototype.scroll=function(){var e=this.element;e&&(e.scrollTo?e.scrollTo(this.scrollLeft,this.scrollTop):(e.scrollLeft=this.scrollLeft,e.scrollTop=this.scrollTop))};function Gi(e,t){this.pool=[],this.createItem=e,this.releaseItem=t}Gi.prototype.pick=function(){return this.pool.pop()||this.createItem()};Gi.prototype.release=function(e){this.releaseItem(e),this.pool.indexOf(e)===-1&&this.pool.push(e)};Gi.prototype.reset=function(){this.pool.length=0};function Zl(e,t){return!(e.left+e.width<=t.left||t.left+t.width<=e.left||e.top+e.height<=t.top||t.top+t.height<=e.top)}function Ql(e,t){if(!Zl(e,t))return 0;var i=Math.min(e.left+e.width,t.left+t.width)-Math.max(e.left,t.left),s=Math.min(e.top+e.height,t.top+t.height)-Math.max(e.top,t.top);return i*s}function xs(e,t){var i=Ql(e,t);if(!i)return 0;var s=Math.min(e.width,t.width)*Math.min(e.height,t.height);return i/s*100}var Fo={width:0,height:0,left:0,right:0,top:0,bottom:0},zo={width:0,height:0,left:0,right:0,top:0,bottom:0};function it(){this._isDestroyed=!1,this._isTicking=!1,this._tickTime=0,this._tickDeltaTime=0,this._items=[],this._actions=[],this._requests={},this._requests[ft]={},this._requests[Et]={},this._requestOverlapCheck={},this._dragPositions={},this._dragDirections={},this._overlapCheckInterval=150,this._requestPool=new Gi(function(){return new Le},function(e){e.reset()}),this._actionPool=new Gi(function(){return new Li},function(e){e.reset()}),this._readTick=this._readTick.bind(this),this._writeTick=this._writeTick.bind(this)}it.AXIS_X=ft;it.AXIS_Y=Et;it.FORWARD=Di;it.BACKWARD=Rr;it.LEFT=Hi;it.RIGHT=qi;it.UP=$i;it.DOWN=Cs;it.smoothSpeed=function(e,t,i){return function(s,r,n){var o=0;if(!n.isEnding)if(n.threshold>0){var a=n.threshold-Math.max(0,n.distance);o=e/n.threshold*a}else o=e;var l=n.speed,h=o;return l===o?h:l<o?(h=l+t*(n.deltaTime/1e3),Math.min(o,h)):(h=l-i*(n.deltaTime/1e3),Math.max(o,h))}};it.pointerHandle=function(e){var t={left:0,top:0,width:0,height:0},i=e||1;return function(s,r,n,o,a,l,h){return t.left=l-i*.5,t.top=h-i*.5,t.width=i,t.height=i,t}};it.prototype._readTick=function(e){this._isDestroyed||(e&&this._tickTime?(this._tickDeltaTime=e-this._tickTime,this._tickTime=e,this._updateRequests(),this._updateActions()):(this._tickTime=e,this._tickDeltaTime=0))};it.prototype._writeTick=function(){this._isDestroyed||(this._applyActions(),Ro(this._readTick,this._writeTick))};it.prototype._startTicking=function(){this._isTicking=!0,Ro(this._readTick,this._writeTick)};it.prototype._stopTicking=function(){this._isTicking=!1,this._tickTime=0,this._tickDeltaTime=0,Hl()};it.prototype._getItemHandleRect=function(e,t,i){var s=e._drag;if(t){var r=s._dragMoveEvent||s._dragStartEvent,n=t(e,s._clientX,s._clientY,e._width,e._height,r.clientX,r.clientY);i.left=n.left,i.top=n.top,i.width=n.width,i.height=n.height}else i.left=s._clientX,i.top=s._clientY,i.width=e._width,i.height=e._height;return i.right=i.left+i.width,i.bottom=i.top+i.height,i};it.prototype._requestItemScroll=function(e,t,i,s,r,n,o){var a=this._requests[t],l=a[e._id];l?(l.element!==i||l.direction!==s)&&l.reset():l=this._requestPool.pick(),l.item=e,l.element=i,l.direction=s,l.threshold=r,l.distance=n,l.maxValue=o,a[e._id]=l};it.prototype._cancelItemScroll=function(e,t){var i=this._requests[t],s=i[e._id];s&&(s.action&&s.action.removeRequest(s),this._requestPool.release(s),delete i[e._id])};it.prototype._checkItemOverlap=function(e,t,i){var s=Zi(e),r=Z(s.targets)?s.targets(e):s.targets,n=s.threshold,o=s.safeZone;if(!r||!r.length){t&&this._cancelItemScroll(e,ft),i&&this._cancelItemScroll(e,Et);return}var a=this._dragDirections[e._id],l=a[0],h=a[1];if(!l&&!h){t&&this._cancelItemScroll(e,ft),i&&this._cancelItemScroll(e,Et);return}for(var c=this._getItemHandleRect(e,s.handle,Fo),d=zo,p=null,m=null,g=!0,f=!0,u=0,_=0,v=null,y=null,S=0,w=0,A=0,O=null,P=-1/0,C=0,z=0,x=null,k=0,X=0,R=null,V=-1/0,F=0,W=0,U=null,E=0,lt=0,at=0;at<r.length;at++)p=r[at],g=t&&l&&p.axis!==Et,f=i&&h&&p.axis!==ft,_=p.priority||0,!((!g||_<P)&&(!f||_<V))&&(m=Po(p.element||p),w=g?Oo(m):-1,A=f?Mo(m):-1,!(!w&&!A)&&(d=No(m,d),u=xs(c,d),!(u<=0)&&(g&&_>=P&&w>0&&(_>P||u>z)&&(y=null,v=vr(typeof p.threshold=="number"?p.threshold:n,o,c.width,d.width),l===qi?(S=d.right+v.offset-c.right,S<=v.value&&Ui(m)<w&&(y=qi)):l===Hi&&(S=c.left-(d.left-v.offset),S<=v.value&&Ui(m)>0&&(y=Hi)),y!==null&&(O=m,P=_,C=v.value,z=u,x=y,k=S,X=w)),f&&_>=V&&A>0&&(_>V||u>W)&&(y=null,v=vr(typeof p.threshold=="number"?p.threshold:n,o,c.height,d.height),h===Cs?(S=d.bottom+v.offset-c.bottom,S<=v.value&&Wi(m)<A&&(y=Cs)):h===$i&&(S=c.top-(d.top-v.offset),S<=v.value&&Wi(m)>0&&(y=$i)),y!==null&&(R=m,V=_,F=v.value,W=u,U=y,E=S,lt=A)))));t&&(O?this._requestItemScroll(e,ft,O,x,C,k,X):this._cancelItemScroll(e,ft)),i&&(R?this._requestItemScroll(e,Et,R,U,F,E,lt):this._cancelItemScroll(e,Et))};it.prototype._updateScrollRequest=function(e){for(var t=e.item,i=Zi(t),s=Z(i.targets)?i.targets(t):i.targets,r=s&&s.length||0,n=i.threshold,o=i.safeZone,a=this._getItemHandleRect(t,i.handle,Fo),l=zo,h=null,c=null,d=!1,p=null,m=null,g=null,f=null,u=null,_=null,v=0;v<r;v++)if(h=s[v],c=Po(h.element||h),c===e.element){if(d=!!(ft&e.direction),d){if(h.axis===Et)continue}else if(h.axis===ft)continue;if(u=d?Oo(c):Mo(c),u<=0||(l=No(c,l),p=xs(a,l),p<=0)||(m=vr(typeof h.threshold=="number"?h.threshold:n,o,d?a.width:a.height,d?l.width:l.height),e.direction===Hi?g=a.left-(l.left-m.offset):e.direction===qi?g=l.right+m.offset-a.right:e.direction===$i?g=a.top-(l.top-m.offset):g=l.bottom+m.offset-a.bottom,g>m.value)||(f=d?Ui(c):Wi(c),_=Di&e.direction?f>=u:f<=0,_))break;return e.maxValue=u,e.threshold=m.value,e.distance=g,e.isEnding=!1,!0}return i.smoothStop===!0&&e.speed>0?(_===null&&(_=e.hasReachedEnd()),e.isEnding=!_):e.isEnding=!1,e.isEnding};it.prototype._updateRequests=function(){for(var e=this._items,t=this._requests[ft],i=this._requests[Et],s,r,n,o,a,l,h,c=0;c<e.length;c++)s=e[c],o=this._requestOverlapCheck[s._id],a=o>0&&this._tickTime-o>this._overlapCheckInterval,l=!0,r=t[s._id],r&&r.isActive&&(l=!this._updateScrollRequest(r),l&&(a=!0,this._cancelItemScroll(s,ft))),h=!0,n=i[s._id],n&&n.isActive&&(h=!this._updateScrollRequest(n),h&&(a=!0,this._cancelItemScroll(s,Et))),a&&(this._requestOverlapCheck[s._id]=0,this._checkItemOverlap(s,l,h))};it.prototype._requestAction=function(e,t){for(var i=this._actions,s=t===ft,r=null,n=0;n<i.length;n++){if(r=i[n],e.element!==r.element){r=null;continue}if(s?r.requestX:r.requestY){this._cancelItemScroll(e.item,t);return}break}r||(r=this._actionPool.pick()),r.element=e.element,r.addRequest(e),e.tick(this._tickDeltaTime),i.push(r)};it.prototype._updateActions=function(){var e=this._items,t=this._requests,i=this._actions,s,r,n,o;for(o=0;o<e.length;o++)s=e[o]._id,r=t[ft][s],n=t[Et][s],r&&this._requestAction(r,ft),n&&this._requestAction(n,Et);for(o=0;o<i.length;o++)i[o].computeScrollValues()};it.prototype._applyActions=function(){var e=this._actions,t=this._items,i;if(e.length){for(i=0;i<e.length;i++)e[i].scroll(),this._actionPool.release(e[i]);for(e.length=0,i=0;i<t.length;i++)Gl(t[i]);for(i=0;i<t.length;i++)jl(t[i])}};it.prototype._updateDragDirection=function(e){var t=this._dragPositions[e._id],i=this._dragDirections[e._id],s=e._drag._left,r=e._drag._top;if(t.length){var n=t[0],o=t[1];i[0]=s>n?qi:s<n?Hi:i[0]||0,i[1]=r>o?Cs:r<o?$i:i[1]||0}t[0]=s,t[1]=r};it.prototype.addItem=function(e){if(!this._isDestroyed){var t=this._items.indexOf(e);t===-1&&(this._items.push(e),this._requestOverlapCheck[e._id]=this._tickTime,this._dragDirections[e._id]=[0,0],this._dragPositions[e._id]=[],this._isTicking||this._startTicking())}};it.prototype.updateItem=function(e){this._isDestroyed||this._dragDirections[e._id]&&(this._updateDragDirection(e),this._requestOverlapCheck[e._id]||(this._requestOverlapCheck[e._id]=this._tickTime))};it.prototype.removeItem=function(e){if(!this._isDestroyed){var t=this._items.indexOf(e);if(t!==-1){var i=e._id,s=this._requests[ft][i];s&&(this._cancelItemScroll(e,ft),delete this._requests[ft][i]);var r=this._requests[Et][i];r&&(this._cancelItemScroll(e,Et),delete this._requests[Et][i]),delete this._requestOverlapCheck[i],delete this._dragPositions[i],delete this._dragDirections[i],this._items.splice(t,1),this._isTicking&&!this._items.length&&this._stopTicking()}}};it.prototype.isItemScrollingX=function(e){var t=this._requests[ft][e._id];return!!(t&&t.isActive)};it.prototype.isItemScrollingY=function(e){var t=this._requests[Et][e._id];return!!(t&&t.isActive)};it.prototype.isItemScrolling=function(e){return this.isItemScrollingX(e)||this.isItemScrollingY(e)};it.prototype.destroy=function(){if(!this._isDestroyed){for(var e=this._items.slice(0),t=0;t<e.length;t++)this.removeItem(e[t]);this._actions.length=0,this._requestPool.reset(),this._actionPool.reset(),this._isDestroyed=!0}};var mi=window.Element.prototype,Kl=mi.matches||mi.matchesSelector||mi.webkitMatchesSelector||mi.mozMatchesSelector||mi.msMatchesSelector||mi.oMatchesSelector||function(){return!1};function qs(e,t){return Kl.call(e,t)}function Zt(e,t){t&&(e.classList?e.classList.add(t):qs(e,"."+t)||(e.className+=" "+t))}var mn=[],Jl="number";function Pr(e,t,i){var s=typeof i===Jl?i:-1;s<0&&(s=e.length-s+1),e.splice.apply(e,mn.concat(s,0,t)),mn.length=0}function Ai(e,t,i){var s=Math.max(0,e.length-1+(i||0));return t>s?s:t<0?Math.max(s+t+1,0):t}function Bo(e,t,i){if(!(e.length<2)){var s=Ai(e,t),r=Ai(e,i);s!==r&&e.splice(r,0,e.splice(s,1)[0])}}function Yo(e,t,i){if(!(e.length<2)){var s=Ai(e,t),r=Ai(e,i),n;s!==r&&(n=e[s],e[s]=e[r],e[r]=n)}}var ve=Ys(document.documentElement.style,"transform")||"transform",th=/([A-Z])/g,eh=/^(webkit-|moz-|ms-|o-)/,ih=/^(-m-s-)/;function yr(e){var t=e.replace(th,"-$1").toLowerCase();return t=t.replace(eh,"-$1"),t=t.replace(ih,"-ms-"),t}var Xo=yr(ve),sh="none",rh="inline",nh="none",oh="display";function ah(e){var t=Ut(e,Xo);if(!t||t===sh)return!1;var i=Ut(e,oh);return!(i===rh||i===nh)}function Sr(e){for(var t=document,i=e||t;i&&i!==t&&Ut(i,"position")==="static"&&!ah(i);)i=i.parentElement||t;return i}var nr={},or={},ti={};function gn(e,t){var i=t||{},s;return i.left=0,i.top=0,e===document||(i.left=window.pageXOffset||0,i.top=window.pageYOffset||0,e.self===window.self)||(s=e.getBoundingClientRect(),i.left+=s.left,i.top+=s.top,i.left+=ee(e,"border-left-width"),i.top+=ee(e,"border-top-width")),i}function ki(e,t,i){return ti.left=0,ti.top=0,e===t||i&&(e=Sr(e),t=Sr(t),e===t)||(gn(e,nr),gn(t,or),ti.left=or.left-nr.left,ti.top=or.top-nr.top),ti}function ar(e){return e==="auto"||e==="scroll"||e==="overlay"}function lh(e){return ar(Ut(e,"overflow"))||ar(Ut(e,"overflow-x"))||ar(Ut(e,"overflow-y"))}function _n(e,t){for(t=t||[];e&&e!==document;){if(e.getRootNode&&e instanceof DocumentFragment){e=e.getRootNode().host;continue}lh(e)&&t.push(e),e=e.parentNode}return t.push(window),t}var gi={},hh="none",ch=/^matrix3d/,dh=/([^,]*,){4}/,uh=/([^,]*,){12}/,fh=/[^,]*,/;function Ie(e){gi.x=0,gi.y=0;var t=Ut(e,Xo);if(!t||t===hh)return gi;var i=ch.test(t),s=t.replace(i?uh:dh,""),r=s.replace(fh,"");return gi.x=parseFloat(s)||0,gi.y=parseFloat(r)||0,gi}function xt(e,t){t&&(e.classList?e.classList.remove(t):qs(e,"."+t)&&(e.className=(" "+e.className+" ").replace(" "+t+" "," ").trim()))}var ph=/^(iPad|iPhone|iPod)/.test(window.navigator.platform)||/^Mac/.test(window.navigator.platform)&&window.navigator.maxTouchPoints>1,Rs=0,br=1,Ps=2,Vo=no()?{passive:!0}:!1;function Y(e){var t=e._element,i=e.getGrid(),s=i._settings;this._item=e,this._gridId=i._id,this._isDestroyed=!1,this._isMigrating=!1,this._startPredicate=Z(s.dragStartPredicate)?s.dragStartPredicate:Y.defaultStartPredicate,this._startPredicateState=Rs,this._startPredicateResult=void 0,this._isSortNeeded=!1,this._sortTimer=void 0,this._blockedSortIndex=null,this._sortX1=0,this._sortX2=0,this._sortY1=0,this._sortY2=0,this._reset(),this._preStartCheck=this._preStartCheck.bind(this),this._preEndCheck=this._preEndCheck.bind(this),this._onScroll=this._onScroll.bind(this),this._prepareStart=this._prepareStart.bind(this),this._applyStart=this._applyStart.bind(this),this._prepareMove=this._prepareMove.bind(this),this._applyMove=this._applyMove.bind(this),this._prepareScroll=this._prepareScroll.bind(this),this._applyScroll=this._applyScroll.bind(this),this._handleSort=this._handleSort.bind(this),this._handleSortDelayed=this._handleSortDelayed.bind(this),this._handle=s.dragHandle&&t.querySelector(s.dragHandle)||t,this._dragger=new T(this._handle,s.dragCssProps),this._dragger.on("start",this._preStartCheck),this._dragger.on("move",this._preStartCheck),this._dragger.on("cancel",this._preEndCheck),this._dragger.on("end",this._preEndCheck)}Y.autoScroller=new it;Y.defaultStartPredicate=function(e,t,i){var s=e._drag;if(t.isFirst&&t.srcEvent.button||!ph&&t.isFirst&&t.srcEvent.isTrusted===!0&&t.srcEvent.defaultPrevented===!1&&t.srcEvent.cancelable===!1)return!1;if(t.isFinal){s._finishStartPredicate(t);return}var r=s._startPredicateData;if(!r){var n=i||s._getGrid()._settings.dragStartPredicate||{};s._startPredicateData=r={distance:Math.max(n.distance,0)||0,delay:Math.max(n.delay,0)||0}}return r.delay&&(r.event=t,r.delayTimer||(r.delayTimer=window.setTimeout(function(){r.delay=0,s._resolveStartPredicate(r.event)&&(s._forceResolveStartPredicate(r.event),s._resetStartPredicate())},r.delay))),s._resolveStartPredicate(t)};Y.defaultSortPredicate=function(){var e={},t={},i={},s=[],r=1,n=100;function o(a,l,h){var c=null,d=l._settings.dragSort,p=-1,m,g,f,u,_,v,y,S,w,A;if(d===!0?(s[0]=l,g=s):Z(d)&&(g=d.call(l,a)),!g||!Array.isArray(g)||!g.length)return c;for(A=0;A<g.length;A++)if(f=g[A],!f._isDestroyed){for(f._updateBoundingRect(),v=Math.max(0,f._left),y=Math.max(0,f._top),S=Math.min(window.innerWidth,f._right),w=Math.min(window.innerHeight,f._bottom),u=f._element.parentNode;u&&u!==document&&u!==document.documentElement&&u!==document.body;){if(u.getRootNode&&u instanceof DocumentFragment){u=u.getRootNode().host;continue}if(Ut(u,"overflow")!=="visible"&&(_=u.getBoundingClientRect(),v=Math.max(v,_.left),y=Math.max(y,_.top),S=Math.min(S,_.right),w=Math.min(w,_.bottom)),Ut(u,"position")==="fixed")break;u=u.parentNode}v>=S||y>=w||(t.left=v,t.top=y,t.width=S-v,t.height=w-y,m=xs(e,t),m>h&&m>p&&(p=m,c=f))}return s.length=0,c}return function(a,l){var h=a._drag,c=h._getGrid(),d=l&&typeof l.threshold=="number"?l.threshold:50,p=l&&l.action===ge?ge:li,m=l&&l.migrateAction===ge?ge:li;d=Math.min(Math.max(d,r),n),e.width=a._width,e.height=a._height,e.left=h._clientX,e.top=h._clientY;var g=o(a,c,d);if(!g)return null;var f=a.getGrid()!==g,u=0,_=0,v=0,y=-1,S=!1,w,A,O;for(g===c?(e.left=h._gridX+a._marginLeft,e.top=h._gridY+a._marginTop):(g._updateBorders(1,0,1,0),u=g._left+g._borderLeft,_=g._top+g._borderTop),O=0;O<g._items.length;O++)w=g._items[O],!(!w._isActive||w===a)&&(S=!0,t.width=w._width,t.height=w._height,t.left=w._left+w._marginLeft+u,t.top=w._top+w._marginTop+_,A=xs(e,t),A>v&&(y=O,v=A));return f&&v<d&&(y=S?y:0,v=d),v>=d?(i.grid=g,i.index=y,i.action=f?m:p,i):null}}();Y.prototype.stop=function(){if(this._isActive){if(this._isMigrating){this._finishMigration();return}var e=this._item,t=e._id;if(Y.autoScroller.removeItem(e),Do(t),Lo(t),Co(t),this._cancelSort(),this._isStarted){this._unbindScrollListeners();var i=e._element,s=this._getGrid(),r=s._settings.itemDraggingClass;i.parentNode!==s._element&&(s._element.appendChild(i),e._setTranslate(this._gridX,this._gridY),r&&i.clientWidth),xt(i,r)}this._reset()}};Y.prototype.sort=function(e){var t=this._item;this._isActive&&t._isActive&&this._dragMoveEvent&&(e===!0?this._handleSort():Hs(t._id,this._handleSort))};Y.prototype.destroy=function(){this._isDestroyed||(this.stop(),this._dragger.destroy(),Y.autoScroller.removeItem(this._item),this._isDestroyed=!0)};Y.prototype._getGrid=function(){return zs[this._gridId]||null};Y.prototype._reset=function(){this._isActive=!1,this._isStarted=!1,this._container=null,this._containingBlock=null,this._dragStartEvent=null,this._dragMoveEvent=null,this._dragPrevMoveEvent=null,this._scrollEvent=null,this._scrollers=[],this._left=0,this._top=0,this._gridX=0,this._gridY=0,this._clientX=0,this._clientY=0,this._scrollDiffX=0,this._scrollDiffY=0,this._moveDiffX=0,this._moveDiffY=0,this._containerDiffX=0,this._containerDiffY=0};Y.prototype._bindScrollListeners=function(){var e=this._getGrid()._element,t=this._container,i=this._scrollers,s,r;if(i.length=0,_n(this._item._element.parentNode,i),t!==e)for(s=[],_n(e,s),r=0;r<s.length;r++)i.indexOf(s[r])<0&&i.push(s[r]);for(r=0;r<i.length;r++)i[r].addEventListener("scroll",this._onScroll,Vo)};Y.prototype._unbindScrollListeners=function(){var e=this._scrollers,t;for(t=0;t<e.length;t++)e[t].removeEventListener("scroll",this._onScroll,Vo);e.length=0};Y.prototype._resolveStartPredicate=function(e){var t=this._startPredicateData;if(!(e.distance<t.distance||t.delay))return this._resetStartPredicate(),!0};Y.prototype._forceResolveStartPredicate=function(e){!this._isDestroyed&&this._startPredicateState===br&&(this._startPredicateState=Ps,this._onStart(e))};Y.prototype._finishStartPredicate=function(e){var t=this._item._element,i=Math.abs(e.deltaX)<2&&Math.abs(e.deltaY)<2&&e.deltaTime<200;this._resetStartPredicate(),i&&mh(t)};Y.prototype._resetHeuristics=function(e,t){this._blockedSortIndex=null,this._sortX1=this._sortX2=e,this._sortY1=this._sortY2=t};Y.prototype._checkHeuristics=function(e,t){var i=this._getGrid()._settings.dragSortHeuristics,s=i.minDragDistance;if(s<=0)return this._blockedSortIndex=null,!0;var r=e-this._sortX2,n=t-this._sortY2,o=s>3&&i.minBounceBackAngle>0;if(o||(this._blockedSortIndex=null),Math.abs(r)>s||Math.abs(n)>s){if(o){var a=Math.atan2(r,n),l=Math.atan2(this._sortX2-this._sortX1,this._sortY2-this._sortY1),h=Math.atan2(Math.sin(a-l),Math.cos(a-l));Math.abs(h)>i.minBounceBackAngle&&(this._blockedSortIndex=null)}return this._sortX1=this._sortX2,this._sortY1=this._sortY2,this._sortX2=e,this._sortY2=t,!0}return!1};Y.prototype._resetStartPredicate=function(){var e=this._startPredicateData;e&&(e.delayTimer&&(e.delayTimer=window.clearTimeout(e.delayTimer)),this._startPredicateData=null)};Y.prototype._handleSort=function(){if(this._isActive){var e=this._getGrid()._settings;if(!e.dragSort||!e.dragAutoScroll.sortDuringScroll&&Y.autoScroller.isItemScrolling(this._item)){this._sortX1=this._sortX2=this._gridX,this._sortY1=this._sortY2=this._gridY,this._isSortNeeded=!0,this._sortTimer!==void 0&&(this._sortTimer=window.clearTimeout(this._sortTimer));return}var t=this._checkHeuristics(this._gridX,this._gridY);if(!(!this._isSortNeeded&&!t)){var i=e.dragSortHeuristics.sortInterval;i<=0||this._isSortNeeded?(this._isSortNeeded=!1,this._sortTimer!==void 0&&(this._sortTimer=window.clearTimeout(this._sortTimer)),this._checkOverlap()):this._sortTimer===void 0&&(this._sortTimer=window.setTimeout(this._handleSortDelayed,i))}}};Y.prototype._handleSortDelayed=function(){this._isSortNeeded=!0,this._sortTimer=void 0,Hs(this._item._id,this._handleSort)};Y.prototype._cancelSort=function(){this._isSortNeeded=!1,this._sortTimer!==void 0&&(this._sortTimer=window.clearTimeout(this._sortTimer)),Bl(this._item._id)};Y.prototype._finishSort=function(){var e=this._getGrid()._settings.dragSort,t=e&&(this._isSortNeeded||this._sortTimer!==void 0);this._cancelSort(),t&&this._checkOverlap()};Y.prototype._checkOverlap=function(){if(this._isActive){var e=this._item,t=this._getGrid()._settings,i,s,r,n,o,a,l,h;Z(t.dragSortPredicate)?i=t.dragSortPredicate(e,this._dragMoveEvent):i=Y.defaultSortPredicate(e,t.dragSortPredicate),!(!i||typeof i.index!="number")&&(l=i.action===ge?ge:li,s=e.getGrid(),n=i.grid||s,h=s!==n,r=s._items.indexOf(e),o=Ai(n._items,i.index,h&&l===li?1:0),!(!h&&o===this._blockedSortIndex)&&(h?(this._blockedSortIndex=null,a=n._items[o],s._hasListeners(Ge)&&s._emit(Ge,{item:e,fromGrid:s,fromIndex:r,toGrid:n,toIndex:o}),n._hasListeners(Ls)&&n._emit(Ls,{item:e,fromGrid:s,fromIndex:r,toGrid:n,toIndex:o}),e._gridId=n._id,this._isMigrating=e._gridId!==this._gridId,s._items.splice(r,1),Pr(n._items,e,o),e._sortData=null,s._hasListeners(Is)&&s._emit(Is,{item:e,fromGrid:s,fromIndex:r,toGrid:n,toIndex:o}),n._hasListeners(Ds)&&n._emit(Ds,{item:e,fromGrid:s,fromIndex:r,toGrid:n,toIndex:o}),l===ge&&a&&a.isActive()&&n._items.indexOf(a)>-1&&n.send(a,s,r,{appendTo:this._container||document.body,layoutSender:!1,layoutReceiver:!1}),s.layout(),n.layout()):r!==o&&(this._blockedSortIndex=r,(l===ge?Yo:Bo)(s._items,r,o),s._hasListeners(ks)&&s._emit(ks,{item:e,fromIndex:r,toIndex:o,action:l}),s.layout())))}};Y.prototype._finishMigration=function(){var e=this._item,t=e._dragRelease,i=e._element,s=e._isActive,r=e.getGrid(),n=r._element,o=r._settings,a=o.dragContainer||n,l=this._getGrid()._settings,h=i.parentNode,c=s?l.itemVisibleClass:l.itemHiddenClass,d=s?o.itemVisibleClass:o.itemHiddenClass,p,m;this._isMigrating=!1,this.destroy(),l.itemClass!==o.itemClass&&(xt(i,l.itemClass),Zt(i,o.itemClass)),c!==d&&(xt(i,c),Zt(i,d)),a!==h&&(a.appendChild(i),m=ki(h,a,!0),p=Ie(i),p.x-=m.left,p.y-=m.top),e._refreshDimensions(),m=ki(a,n,!0),t._containerDiffX=m.left,t._containerDiffY=m.top,e._drag=o.dragEnabled?new Y(e):null,a!==h&&e._setTranslate(p.x,p.y),e._visibility.setStyles(s?o.visibleStyles:o.hiddenStyles),t.start()};Y.prototype._preStartCheck=function(e){this._startPredicateState===Rs&&(this._startPredicateState=br),this._startPredicateState===br?(this._startPredicateResult=this._startPredicate(this._item,e),this._startPredicateResult===!0?(this._startPredicateState=Ps,this._onStart(e)):this._startPredicateResult===!1&&(this._resetStartPredicate(e),this._dragger._reset(),this._startPredicateState=Rs)):this._startPredicateState===Ps&&this._isActive&&this._onMove(e)};Y.prototype._preEndCheck=function(e){var t=this._startPredicateState===Ps;this._startPredicate(this._item,e),this._startPredicateState=Rs,!(!t||!this._isActive)&&(this._isStarted?this._onEnd(e):this.stop())};Y.prototype._onStart=function(e){var t=this._item;t._isActive&&(this._isActive=!0,this._dragStartEvent=e,Y.autoScroller.addItem(t),Nl(t._id,this._prepareStart,this._applyStart))};Y.prototype._prepareStart=function(){if(this._isActive){var e=this._item;if(e._isActive){var t=e._element,i=this._getGrid(),s=i._settings,r=i._element,n=s.dragContainer||r,o=Sr(n),a=Ie(t),l=t.getBoundingClientRect(),h=n!==r;if(this._container=n,this._containingBlock=o,this._clientX=l.left,this._clientY=l.top,this._left=this._gridX=a.x,this._top=this._gridY=a.y,this._scrollDiffX=this._scrollDiffY=0,this._moveDiffX=this._moveDiffY=0,this._resetHeuristics(this._gridX,this._gridY),h){var c=ki(o,r);this._containerDiffX=c.left,this._containerDiffY=c.top}}}};Y.prototype._applyStart=function(){if(this._isActive){var e=this._item;if(e._isActive){var t=this._getGrid(),i=e._element,s=e._dragRelease,r=e._migrate,n=this._container!==t._element;e.isPositioning()&&e._layout.stop(!0,this._left,this._top),r._isActive&&(this._left-=r._containerDiffX,this._top-=r._containerDiffY,this._gridX-=r._containerDiffX,this._gridY-=r._containerDiffY,r.stop(!0,this._left,this._top)),e.isReleasing()&&s._reset(),t._settings.dragPlaceholder.enabled&&e._dragPlaceholder.create(),this._isStarted=!0,t._emit(vl,e,this._dragStartEvent),n&&(i.parentNode===this._container?(this._gridX-=this._containerDiffX,this._gridY-=this._containerDiffY):(this._left+=this._containerDiffX,this._top+=this._containerDiffY,this._container.appendChild(i),e._setTranslate(this._left,this._top))),Zt(i,t._settings.itemDraggingClass),this._bindScrollListeners(),t._emit(yl,e,this._dragStartEvent)}}};Y.prototype._onMove=function(e){var t=this._item;if(!t._isActive){this.stop();return}this._dragMoveEvent=e,Fl(t._id,this._prepareMove,this._applyMove),Hs(t._id,this._handleSort)};Y.prototype._prepareMove=function(){if(this._isActive){var e=this._item;if(e._isActive){var t=this._getGrid()._settings,i=t.dragAxis,s=this._dragMoveEvent,r=this._dragPrevMoveEvent||this._dragStartEvent||s;if(i!=="y"){var n=s.clientX-r.clientX;this._left=this._left-this._moveDiffX+n,this._gridX=this._gridX-this._moveDiffX+n,this._clientX=this._clientX-this._moveDiffX+n,this._moveDiffX=n}if(i!=="x"){var o=s.clientY-r.clientY;this._top=this._top-this._moveDiffY+o,this._gridY=this._gridY-this._moveDiffY+o,this._clientY=this._clientY-this._moveDiffY+o,this._moveDiffY=o}this._dragPrevMoveEvent=s}}};Y.prototype._applyMove=function(){if(this._isActive){var e=this._item;e._isActive&&(this._moveDiffX=this._moveDiffY=0,e._setTranslate(this._left,this._top),this._getGrid()._emit(Sl,e,this._dragMoveEvent),Y.autoScroller.updateItem(e))}};Y.prototype._onScroll=function(e){var t=this._item;if(!t._isActive){this.stop();return}this._scrollEvent=e,zl(t._id,this._prepareScroll,this._applyScroll),Hs(t._id,this._handleSort)};Y.prototype._prepareScroll=function(){if(this._isActive){var e=this._item;if(e._isActive){var t=e._element,i=this._getGrid(),s=i._element,r=t.getBoundingClientRect();if(this._container!==s){var n=ki(this._containingBlock,s);this._containerDiffX=n.left,this._containerDiffY=n.top}var o=this._clientX-this._moveDiffX-r.left;this._left=this._left-this._scrollDiffX+o,this._scrollDiffX=o;var a=this._clientY-this._moveDiffY-r.top;this._top=this._top-this._scrollDiffY+a,this._scrollDiffY=a,this._gridX=this._left-this._containerDiffX,this._gridY=this._top-this._containerDiffY}}};Y.prototype._applyScroll=function(){if(this._isActive){var e=this._item;e._isActive&&(this._scrollDiffX=this._scrollDiffY=0,e._setTranslate(this._left,this._top),this._getGrid()._emit(bl,e,this._scrollEvent))}};Y.prototype._onEnd=function(e){var t=this._item,i=t._element,s=this._getGrid(),r=s._settings,n=t._dragRelease;if(!t._isActive){this.stop();return}Do(t._id),Lo(t._id),Co(t._id),this._finishSort(),this._unbindScrollListeners(),n._containerDiffX=this._containerDiffX,n._containerDiffY=this._containerDiffY,this._reset(),xt(i,r.itemDraggingClass),Y.autoScroller.removeItem(t),s._emit(wl,t,e),this._isMigrating?this._finishMigration():n.start()};function mh(e){if(e.tagName.toLowerCase()==="a"){var t=e.getAttribute("href");if(t){var i=e.getAttribute("target");i&&i!=="_self"?window.open(t,i):window.location.href=t}}}function Ho(e,t){var i={},s,r;if(Array.isArray(t))for(r=0;r<t.length;r++)s=t[r],i[s]=Ut(e,yr(s));else for(s in t)i[s]=Ut(e,yr(s));return i}var gh=/^(webkit|moz|ms|o|Webkit|Moz|MS|O)(?=[A-Z])/,vn={};function _h(e){var t=vn[e];return t||(t=e.replace(gh,""),t!==e&&(t=t[0].toLowerCase()+t.slice(1)),vn[e]=t,t)}var vh="[native code]";function yh(e){var t=window.Symbol;return!!(e&&Z(t)&&Z(t.toString)&&t(e).toString().indexOf(vh)>-1)}function Ii(e,t){for(var i in t)e.style[i]=t[i]}var Sh=!!(Element&&Z(Element.prototype.animate)),yn=!!(Element&&yh(Element.prototype.animate));function Se(e){this._element=e,this._animation=null,this._duration=0,this._easing="",this._callback=null,this._props=[],this._values=[],this._isDestroyed=!1,this._onFinish=this._onFinish.bind(this)}Se.prototype.start=function(e,t,i){if(!this._isDestroyed){var s=this._element,r=i||{};if(!Sh){Ii(s,t),this._callback=Z(r.onFinish)?r.onFinish:null,this._onFinish();return}var n=this._animation,o=this._props,a=this._values,l=r.duration||300,h=r.easing||"ease",c=!1,d,p,m;if(n&&(p=0,(l!==this._duration||h!==this._easing)&&(c=!0),!c)){for(d in t)if(++p,m=o.indexOf(d),m===-1||t[d]!==a[m]){c=!0;break}p!==o.length&&(c=!0)}if(c&&n.cancel(),this._callback=Z(r.onFinish)?r.onFinish:null,!(n&&!c)){o.length=a.length=0;for(d in t)o.push(d),a.push(t[d]);this._duration=l,this._easing=h,this._animation=s.animate([Sn(e,yn),Sn(t,yn)],{duration:l,easing:h}),this._animation.onfinish=this._onFinish,Ii(s,t)}}};Se.prototype.stop=function(){this._isDestroyed||!this._animation||(this._animation.cancel(),this._animation=this._callback=null,this._props.length=this._values.length=0)};Se.prototype.getCurrentStyles=function(){return Ho(element,currentProps)};Se.prototype.isAnimating=function(){return!!this._animation};Se.prototype.destroy=function(){this._isDestroyed||(this.stop(),this._element=null,this._isDestroyed=!0)};Se.prototype._onFinish=function(){var e=this._callback;this._animation=this._callback=null,this._props.length=this._values.length=0,e&&e()};function Sn(e,t){var i={};for(var s in e)i[t?s:_h(s)]=e[s];return i}function He(e,t){return"translateX("+e+"px) translateY("+t+"px)"}function Ot(e){this._item=e,this._animation=new Se,this._element=null,this._className="",this._didMigrate=!1,this._resetAfterLayout=!1,this._left=0,this._top=0,this._transX=0,this._transY=0,this._nextTransX=0,this._nextTransY=0,this._setupAnimation=this._setupAnimation.bind(this),this._startAnimation=this._startAnimation.bind(this),this._updateDimensions=this._updateDimensions.bind(this),this._onLayoutStart=this._onLayoutStart.bind(this),this._onLayoutEnd=this._onLayoutEnd.bind(this),this._onReleaseEnd=this._onReleaseEnd.bind(this),this._onMigrate=this._onMigrate.bind(this),this._onHide=this._onHide.bind(this)}Ot.prototype._updateDimensions=function(){this.isActive()&&Ii(this._element,{width:this._item._width+"px",height:this._item._height+"px"})};Ot.prototype._onLayoutStart=function(e,t){var i=this._item;if(e.indexOf(i)===-1){this.reset();return}var s=i._left,r=i._top,n=this._left,o=this._top;if(this._left=s,this._top=r,!(!t&&!this._didMigrate&&n===s&&o===r)){var a=s+i._marginLeft,l=r+i._marginTop,h=i.getGrid(),c=!t&&h._settings.layoutDuration>0;if(!c||this._didMigrate){xo(i._id),this._element.style[ve]=He(a,l),this._animation.stop(),this._didMigrate&&(h.getElement().appendChild(this._element),this._didMigrate=!1);return}this._nextTransX=a,this._nextTransY=l,Yl(i._id,this._setupAnimation,this._startAnimation)}};Ot.prototype._setupAnimation=function(){if(this.isActive()){var e=Ie(this._element);this._transX=e.x,this._transY=e.y}};Ot.prototype._startAnimation=function(){if(this.isActive()){var e=this._animation,t=this._transX,i=this._transY,s=this._nextTransX,r=this._nextTransY;if(t===s&&i===r){e.isAnimating()&&(this._element.style[ve]=He(s,r),e.stop());return}var n=this._item.getGrid()._settings,o={},a={};o[ve]=He(t,i),a[ve]=He(s,r),e.start(o,a,{duration:n.layoutDuration,easing:n.layoutEasing,onFinish:this._onLayoutEnd})}};Ot.prototype._onLayoutEnd=function(){this._resetAfterLayout&&this.reset()};Ot.prototype._onReleaseEnd=function(e){if(e._id===this._item._id){if(!this._animation.isAnimating()){this.reset();return}this._resetAfterLayout=!0}};Ot.prototype._onMigrate=function(e){if(e.item===this._item){var t=this._item.getGrid(),i=e.toGrid;t.off(Vi,this._onReleaseEnd),t.off(We,this._onLayoutStart),t.off(Ge,this._onMigrate),t.off(Xi,this._onHide),i.on(Vi,this._onReleaseEnd),i.on(We,this._onLayoutStart),i.on(Ge,this._onMigrate),i.on(Xi,this._onHide),this._didMigrate=!0}};Ot.prototype._onHide=function(e){e.indexOf(this._item)>-1&&this.reset()};Ot.prototype.create=function(){if(this.isActive()){this._resetAfterLayout=!1;return}var e=this._item,t=e.getGrid(),i=t._settings,s=this._animation;this._left=e._left,this._top=e._top;var r;Z(i.dragPlaceholder.createElement)?r=i.dragPlaceholder.createElement(e):r=document.createElement("div"),this._element=r,s._element=r,this._className=i.itemPlaceholderClass||"",this._className&&Zt(r,this._className),Ii(r,{position:"absolute",left:"0px",top:"0px",width:e._width+"px",height:e._height+"px"}),r.style[ve]=He(e._left+e._marginLeft,e._top+e._marginTop),t.on(We,this._onLayoutStart),t.on(Vi,this._onReleaseEnd),t.on(Ge,this._onMigrate),t.on(Xi,this._onHide),Z(i.dragPlaceholder.onCreate)&&i.dragPlaceholder.onCreate(e,r),t.getElement().appendChild(r)};Ot.prototype.reset=function(){if(this.isActive()){var e=this._element,t=this._item,i=t.getGrid(),s=i._settings,r=this._animation;this._resetAfterLayout=!1,xo(t._id),Vl(t._id),r.stop(),r._element=null,i.off(Vi,this._onReleaseEnd),i.off(We,this._onLayoutStart),i.off(Ge,this._onMigrate),i.off(Xi,this._onHide),this._className&&(xt(e,this._className),this._className=""),e.parentNode.removeChild(e),this._element=null,Z(s.dragPlaceholder.onRemove)&&s.dragPlaceholder.onRemove(t,e)}};Ot.prototype.isActive=function(){return!!this._element};Ot.prototype.getElement=function(){return this._element};Ot.prototype.updateDimensions=function(){this.isActive()&&Xl(this._item._id,this._updateDimensions)};Ot.prototype.destroy=function(){this.reset(),this._animation.destroy(),this._item=this._animation=null};function Ke(e){this._item=e,this._isActive=!1,this._isDestroyed=!1,this._isPositioningStarted=!1,this._containerDiffX=0,this._containerDiffY=0}Ke.prototype.start=function(){if(!(this._isDestroyed||this._isActive)){var e=this._item,t=e.getGrid(),i=t._settings;this._isActive=!0,Zt(e._element,i.itemReleasingClass),i.dragRelease.useDragContainer||this._placeToGrid(),t._emit(Tl,e),t._nextLayoutData||e._layout.start(!1)}};Ke.prototype.stop=function(e,t,i){if(!(this._isDestroyed||!this._isActive)){var s=this._item,r=s.getGrid();!e&&(t===void 0||i===void 0)&&(t=s._left,i=s._top);var n=this._placeToGrid(t,i);this._reset(n),e||r._emit(Vi,s)}};Ke.prototype.isJustReleased=function(){return this._isActive&&this._isPositioningStarted===!1};Ke.prototype.destroy=function(){this._isDestroyed||(this.stop(!0),this._item=null,this._isDestroyed=!0)};Ke.prototype._placeToGrid=function(e,t){if(!this._isDestroyed){var i=this._item,s=i._element,r=i.getGrid()._element,n=!1;if(s.parentNode!==r){if(e===void 0||t===void 0){var o=Ie(s);e=o.x-this._containerDiffX,t=o.y-this._containerDiffY}r.appendChild(s),i._setTranslate(e,t),n=!0}return this._containerDiffX=0,this._containerDiffY=0,n}};Ke.prototype._reset=function(e){if(!this._isDestroyed){var t=this._item,i=t.getGrid()._settings.itemReleasingClass;this._isActive=!1,this._isPositioningStarted=!1,this._containerDiffX=0,this._containerDiffY=0,i&&(e&&t._element.clientWidth,xt(t._element,i))}};var bn=2;function Ce(e){var t=e._element,i=t.style;this._item=e,this._isActive=!1,this._isDestroyed=!1,this._isInterrupted=!1,this._currentStyles={},this._targetStyles={},this._nextLeft=0,this._nextTop=0,this._offsetLeft=0,this._offsetTop=0,this._skipNextAnimation=!1,this._animOptions={onFinish:this._finish.bind(this),duration:0,easing:0},i.left="0px",i.top="0px",e._setTranslate(0,0),this._animation=new Se(t),this._queue="layout-"+e._id,this._setupAnimation=this._setupAnimation.bind(this),this._startAnimation=this._startAnimation.bind(this)}Ce.prototype.start=function(e,t){if(!this._isDestroyed){var i=this._item,s=i._dragRelease,r=i.getGrid()._settings,n=this._isActive,o=s.isJustReleased(),a=o?r.dragRelease.duration:r.layoutDuration,l=o?r.dragRelease.easing:r.layoutEasing,h=!e&&!this._skipNextAnimation&&a>0;if(n&&(ko(i._id),i._emitter.burst(this._queue,!0,i)),o&&(s._isPositioningStarted=!0),Z(t)&&i._emitter.on(this._queue,t),this._skipNextAnimation=!1,!h){this._updateOffsets(),i._setTranslate(this._nextLeft,this._nextTop),this._animation.stop(),this._finish();return}this._animation.isAnimating()&&(this._animation._animation.onfinish=null),this._isActive=!0,this._animOptions.easing=l,this._animOptions.duration=a,this._isInterrupted=n,Ol(i._id,this._setupAnimation,this._startAnimation)}};Ce.prototype.stop=function(e,t,i){if(!(this._isDestroyed||!this._isActive)){var s=this._item;if(ko(s._id),this._animation.isAnimating()){if(t===void 0||i===void 0){var r=Ie(s._element);t=r.x,i=r.y}s._setTranslate(t,i),this._animation.stop()}xt(s._element,s.getGrid()._settings.itemPositioningClass),this._isActive=!1,e&&s._emitter.burst(this._queue,!0,s)}};Ce.prototype.destroy=function(){if(!this._isDestroyed){var e=this._item._element.style;this.stop(!0,0,0),this._item._emitter.clear(this._queue),this._animation.destroy(),e[ve]="",e.left="",e.top="",this._item=null,this._currentStyles=null,this._targetStyles=null,this._animOptions=null,this._isDestroyed=!0}};Ce.prototype._updateOffsets=function(){if(!this._isDestroyed){var e=this._item,t=e._migrate,i=e._dragRelease;this._offsetLeft=i._isActive?i._containerDiffX:t._isActive?t._containerDiffX:0,this._offsetTop=i._isActive?i._containerDiffY:t._isActive?t._containerDiffY:0,this._nextLeft=this._item._left+this._offsetLeft,this._nextTop=this._item._top+this._offsetTop}};Ce.prototype._finish=function(){if(!this._isDestroyed){var e=this._item,t=e._migrate,i=e._dragRelease;e._tX=this._nextLeft,e._tY=this._nextTop,this._isActive&&(this._isActive=!1,xt(e._element,e.getGrid()._settings.itemPositioningClass)),i._isActive&&i.stop(),t._isActive&&t.stop(),e._emitter.burst(this._queue,!1,e)}};Ce.prototype._setupAnimation=function(){var e=this._item;if(e._tX===void 0||e._tY===void 0){var t=Ie(e._element);e._tX=t.x,e._tY=t.y}};Ce.prototype._startAnimation=function(){var e=this._item,t=e.getGrid()._settings,i=this._animOptions.duration<=0;this._updateOffsets();var s=Math.abs(e._left-(e._tX-this._offsetLeft)),r=Math.abs(e._top-(e._tY-this._offsetTop));if(i||s<bn&&r<bn){(s||r||this._isInterrupted)&&e._setTranslate(this._nextLeft,this._nextTop),this._animation.stop(),this._finish();return}this._isInterrupted||Zt(e._element,t.itemPositioningClass),this._currentStyles[ve]=He(e._tX,e._tY),this._targetStyles[ve]=He(this._nextLeft,this._nextTop),e._tX=e._tY=void 0,this._animation.start(this._currentStyles,this._targetStyles,this._animOptions)};function Qi(e){this._item=e,this._isActive=!1,this._isDestroyed=!1,this._container=!1,this._containerDiffX=0,this._containerDiffY=0}Qi.prototype.start=function(e,t,i){if(!this._isDestroyed){var s=this._item,r=s._element,n=s.isActive(),o=s.isVisible(),a=s.getGrid(),l=a._settings,h=e._settings,c=e._element,d=e._items,p=a._items.indexOf(s),m=i||document.body,g,f,u,_,v,y,S,w,A,O;if(typeof t=="number")g=Ai(d,t,1);else{if(f=e.getItem(t),!f)return;g=d.indexOf(f)}(s.isPositioning()||this._isActive||s.isReleasing())&&(y=Ie(r),S=y.x,w=y.y),s.isPositioning()&&s._layout.stop(!0,S,w),this._isActive&&(S-=this._containerDiffX,w-=this._containerDiffY,this.stop(!0,S,w)),s.isReleasing()&&(S-=s._dragRelease._containerDiffX,w-=s._dragRelease._containerDiffY,s._dragRelease.stop(!0,S,w)),s._visibility.stop(!0),s._drag&&s._drag.destroy(),a._hasListeners(Ge)&&a._emit(Ge,{item:s,fromGrid:a,fromIndex:p,toGrid:e,toIndex:g}),e._hasListeners(Ls)&&e._emit(Ls,{item:s,fromGrid:a,fromIndex:p,toGrid:e,toIndex:g}),l.itemClass!==h.itemClass&&(xt(r,l.itemClass),Zt(r,h.itemClass)),A=o?l.itemVisibleClass:l.itemHiddenClass,O=o?h.itemVisibleClass:h.itemHiddenClass,A!==O&&(xt(r,A),Zt(r,O)),a._items.splice(p,1),Pr(d,s,g),s._gridId=e._id,n?(u=r.parentNode,m!==u&&(m.appendChild(r),_=ki(m,u,!0),y||(y=Ie(r),S=y.x,w=y.y),s._setTranslate(S+_.left,w+_.top))):c.appendChild(r),s._visibility.setStyles(o?h.visibleStyles:h.hiddenStyles),n&&(v=ki(m,c,!0)),s._refreshDimensions(),s._sortData=null,s._drag=h.dragEnabled?new Y(s):null,n?(this._isActive=!0,this._container=m,this._containerDiffX=v.left,this._containerDiffY=v.top):(this._isActive=!1,this._container=null,this._containerDiffX=0,this._containerDiffY=0),a._hasListeners(Is)&&a._emit(Is,{item:s,fromGrid:a,fromIndex:p,toGrid:e,toIndex:g}),e._hasListeners(Ds)&&e._emit(Ds,{item:s,fromGrid:a,fromIndex:p,toGrid:e,toIndex:g})}};Qi.prototype.stop=function(e,t,i){if(!(this._isDestroyed||!this._isActive)){var s=this._item,r=s._element,n=s.getGrid(),o=n._element,a;this._container!==o&&((t===void 0||i===void 0)&&(e?(a=Ie(r),t=a.x-this._containerDiffX,i=a.y-this._containerDiffY):(t=s._left,i=s._top)),o.appendChild(r),s._setTranslate(t,i)),this._isActive=!1,this._container=null,this._containerDiffX=0,this._containerDiffY=0}};Qi.prototype.destroy=function(){this._isDestroyed||(this.stop(!0),this._item=null,this._isDestroyed=!0)};function ce(e){var t=e._isActive,i=e._element,s=i.children[0],r=e.getGrid()._settings;if(!s)throw new Error("No valid child element found within item element.");this._item=e,this._isDestroyed=!1,this._isHidden=!t,this._isHiding=!1,this._isShowing=!1,this._childElement=s,this._currentStyleProps=[],this._animation=new Se(s),this._queue="visibility-"+e._id,this._finishShow=this._finishShow.bind(this),this._finishHide=this._finishHide.bind(this),i.style.display=t?"":"none",Zt(i,t?r.itemVisibleClass:r.itemHiddenClass),this.setStyles(t?r.visibleStyles:r.hiddenStyles)}ce.prototype.show=function(e,t){if(!this._isDestroyed){var i=this._item,s=i._element,r=Z(t)?t:null,n=i.getGrid(),o=n._settings;if(!this._isShowing&&!this._isHidden){r&&r(!1,i);return}if(this._isShowing&&!e){r&&i._emitter.on(this._queue,r);return}this._isShowing||(i._emitter.burst(this._queue,!0,i),xt(s,o.itemHiddenClass),Zt(s,o.itemVisibleClass),this._isHiding||(s.style.display="")),r&&i._emitter.on(this._queue,r),this._isShowing=!0,this._isHiding=this._isHidden=!1,this._startAnimation(!0,e,this._finishShow)}};ce.prototype.hide=function(e,t){if(!this._isDestroyed){var i=this._item,s=i._element,r=Z(t)?t:null,n=i.getGrid(),o=n._settings;if(!this._isHiding&&this._isHidden){r&&r(!1,i);return}if(this._isHiding&&!e){r&&i._emitter.on(this._queue,r);return}this._isHiding||(i._emitter.burst(this._queue,!0,i),Zt(s,o.itemHiddenClass),xt(s,o.itemVisibleClass)),r&&i._emitter.on(this._queue,r),this._isHidden=this._isHiding=!0,this._isShowing=!1,this._startAnimation(!1,e,this._finishHide)}};ce.prototype.stop=function(e){if(!this._isDestroyed&&!(!this._isHiding&&!this._isShowing)){var t=this._item;Io(t._id),this._animation.stop(),e&&t._emitter.burst(this._queue,!0,t)}};ce.prototype.setStyles=function(e){var t=this._childElement,i=this._currentStyleProps;this._removeCurrentStyles();for(var s in e)i.push(s),t.style[s]=e[s]};ce.prototype.destroy=function(){if(!this._isDestroyed){var e=this._item,t=e._element,i=e.getGrid(),s=i._settings;this.stop(!0),e._emitter.clear(this._queue),this._animation.destroy(),this._removeCurrentStyles(),xt(t,s.itemVisibleClass),xt(t,s.itemHiddenClass),t.style.display="",this._isHiding=this._isShowing=!1,this._isDestroyed=this._isHidden=!0}};ce.prototype._startAnimation=function(e,t,i){if(!this._isDestroyed){var s=this._item,r=this._animation,n=this._childElement,o=s.getGrid()._settings,a=e?o.visibleStyles:o.hiddenStyles,l=e?o.showDuration:o.hideDuration,h=e?o.showEasing:o.hideEasing,c=t||l<=0,d;if(!a){i&&i();return}if(Io(s._id),c){Ii(n,a),r.stop(),i&&i();return}r.isAnimating()&&(r._animation.onfinish=null),Ml(s._id,function(){d=Ho(n,a)},function(){r.start(d,a,{duration:l,easing:h,onFinish:i})})}};ce.prototype._finishShow=function(){this._isHidden||(this._isShowing=!1,this._item._emitter.burst(this._queue,!1,this._item))};ce.prototype._finishHide=function(){if(this._isHidden){var e=this._item;this._isHiding=!1,e._layout.stop(!0,0,0),e._element.style.display="none",e._emitter.burst(this._queue,!1,e)}};ce.prototype._removeCurrentStyles=function(){for(var e=this._childElement,t=this._currentStyleProps,i=0;i<t.length;i++)e.style[t[i]]="";t.length=0};var bh=0;function qo(){return++bh}function ct(e,t,i){var s=e._settings;if(ri){if(ri.has(t))throw new Error("You can only create one Muuri Item per element!");ri.set(t,this)}this._id=qo(),this._gridId=e._id,this._element=t,this._isDestroyed=!1,this._left=0,this._top=0,this._width=0,this._height=0,this._marginLeft=0,this._marginRight=0,this._marginTop=0,this._marginBottom=0,this._tX=void 0,this._tY=void 0,this._sortData=null,this._emitter=new re,t.parentNode!==e._element&&e._element.appendChild(t),Zt(t,s.itemClass),typeof i!="boolean"&&(i=Ut(t,"display")!=="none"),this._isActive=i,this._visibility=new ce(this),this._layout=new Ce(this),this._migrate=new Qi(this),this._drag=s.dragEnabled?new Y(this):null,this._dragRelease=new Ke(this),this._dragPlaceholder=new Ot(this)}ct.prototype.getGrid=function(){return zs[this._gridId]};ct.prototype.getElement=function(){return this._element};ct.prototype.getWidth=function(){return this._width};ct.prototype.getHeight=function(){return this._height};ct.prototype.getMargin=function(){return{left:this._marginLeft,right:this._marginRight,top:this._marginTop,bottom:this._marginBottom}};ct.prototype.getPosition=function(){return{left:this._left,top:this._top}};ct.prototype.isActive=function(){return this._isActive};ct.prototype.isVisible=function(){return!!this._visibility&&!this._visibility._isHidden};ct.prototype.isShowing=function(){return!!(this._visibility&&this._visibility._isShowing)};ct.prototype.isHiding=function(){return!!(this._visibility&&this._visibility._isHiding)};ct.prototype.isPositioning=function(){return!!(this._layout&&this._layout._isActive)};ct.prototype.isDragging=function(){return!!(this._drag&&this._drag._isActive)};ct.prototype.isReleasing=function(){return!!(this._dragRelease&&this._dragRelease._isActive)};ct.prototype.isDestroyed=function(){return this._isDestroyed};ct.prototype._refreshDimensions=function(e){if(!this._isDestroyed&&!(e!==!0&&this._visibility._isHidden)){var t=this._element,i=this._dragPlaceholder,s=t.getBoundingClientRect();this._width=s.width,this._height=s.height,this._marginLeft=Math.max(0,ee(t,"margin-left")),this._marginRight=Math.max(0,ee(t,"margin-right")),this._marginTop=Math.max(0,ee(t,"margin-top")),this._marginBottom=Math.max(0,ee(t,"margin-bottom")),i&&i.updateDimensions()}};ct.prototype._refreshSortData=function(){if(!this._isDestroyed){var e=this._sortData={},t=this.getGrid()._settings.sortData,i;for(i in t)e[i]=t[i](this,this._element)}};ct.prototype._addToLayout=function(e,t){this._isActive!==!0&&(this._isActive=!0,this._left=e||0,this._top=t||0)};ct.prototype._removeFromLayout=function(){this._isActive!==!1&&(this._isActive=!1,this._left=0,this._top=0)};ct.prototype._canSkipLayout=function(e,t){return this._left===e&&this._top===t&&!this._migrate._isActive&&!this._layout._skipNextAnimation&&!this._dragRelease.isJustReleased()};ct.prototype._setTranslate=function(e,t){return this._tX===e&&this._tY===t?!1:(this._tX=e,this._tY=t,this._element.style[ve]=He(e,t),!0)};ct.prototype._destroy=function(e){if(!this._isDestroyed){var t=this._element,i=this.getGrid(),s=i._settings;this._dragPlaceholder.destroy(),this._dragRelease.destroy(),this._migrate.destroy(),this._layout.destroy(),this._visibility.destroy(),this._drag&&this._drag.destroy(),this._emitter.destroy(),xt(t,s.itemClass),e&&t.parentNode.removeChild(t),ri&&ri.delete(t),this._isActive=!1,this._isDestroyed=!0}};function $o(e){var t=1,i=2,s=4,r=8,n=16,o=.001,a=.5;function l(f){return((f*1e3+.5<<0)/10<<0)/100}function h(){this.currentRects=[],this.nextRects=[],this.rectTarget={},this.rectStore=[],this.slotSizes=[],this.rectId=0,this.slotIndex=-1,this.slotData={left:0,top:0,width:0,height:0},this.sortRectsLeftTop=this.sortRectsLeftTop.bind(this),this.sortRectsTopLeft=this.sortRectsTopLeft.bind(this)}if(h.prototype.computeLayout=function(f,u){var _=f.items,v=f.slots,y=!!(u&t),S=!!(u&i),w=!!(u&s),A=!!(u&r),O=!!(u&n),P=typeof _[0]=="number",C,z,x,k,X,R;if(!_.length)return f;for(z=P?2:1,C=0;C<_.length;C+=z)P?(k=_[C],X=_[C+1]):(x=_[C],k=x._width+x._marginLeft+x._marginRight,X=x._height+x._marginTop+x._marginBottom),O&&(k=l(k),X=l(X)),R=this.computeNextSlot(f,k,X,y,S),S?R.left+R.width>f.width&&(f.width=R.left+R.width):R.top+R.height>f.height&&(f.height=R.top+R.height),v[++this.slotIndex]=R.left,v[++this.slotIndex]=R.top,(w||A)&&this.slotSizes.push(R.width,R.height);if(w)for(C=0;C<v.length;C+=2)v[C]=f.width-(v[C]+this.slotSizes[C]);if(A)for(C=1;C<v.length;C+=2)v[C]=f.height-(v[C]+this.slotSizes[C]);return this.slotSizes.length=0,this.currentRects.length=0,this.nextRects.length=0,this.rectStore.length=0,this.rectId=0,this.slotIndex=-1,f},h.prototype.computeNextSlot=function(f,u,_,v,y){var S=this.slotData,w=this.currentRects,A=this.nextRects,O=!1,P,C,z,x,k;for(A.length=0,S.left=null,S.top=null,S.width=u,S.height=_,x=0;x<w.length;x++)if(C=w[x],!!C&&(P=this.getRect(C),S.width<=P.width+o&&S.height<=P.height+o)){S.left=P.left,S.top=P.top;break}if(S.left===null&&(y?(S.left=f.width,S.top=0):(S.left=0,S.top=f.height),v||(O=!0)),!y&&S.top+S.height>f.height+o&&(S.left>a&&A.push(this.addRect(0,f.height,S.left,1/0)),S.left+S.width<f.width-a&&A.push(this.addRect(S.left+S.width,f.height,f.width-S.left-S.width,1/0)),f.height=S.top+S.height),y&&S.left+S.width>f.width+o&&(S.top>a&&A.push(this.addRect(f.width,0,1/0,S.top)),S.top+S.height<f.height-a&&A.push(this.addRect(f.width,S.top+S.height,1/0,f.height-S.top-S.height)),f.width=S.left+S.width),!O){for(v&&(x=0);x<w.length;x++)if(C=w[x],!!C)for(P=this.getRect(C),z=this.splitRect(P,S),k=0;k<z.length;k++)C=z[k],P=this.getRect(C),(y?P.left+o<f.width-o:P.top+o<f.height-o)&&A.push(C)}return A.length>1&&this.purgeRects(A).sort(y?this.sortRectsLeftTop:this.sortRectsTopLeft),this.currentRects=A,this.nextRects=w,S},h.prototype.addRect=function(f,u,_,v){var y=++this.rectId;return this.rectStore[y]=f||0,this.rectStore[++this.rectId]=u||0,this.rectStore[++this.rectId]=_||0,this.rectStore[++this.rectId]=v||0,y},h.prototype.getRect=function(f,u){return u||(u=this.rectTarget),u.left=this.rectStore[f]||0,u.top=this.rectStore[++f]||0,u.width=this.rectStore[++f]||0,u.height=this.rectStore[++f]||0,u},h.prototype.splitRect=function(){var f=[],u=0,_=0;return function(v,y){return f.length=0,v.left+v.width<=y.left+o||y.left+y.width<=v.left+o||v.top+v.height<=y.top+o||y.top+y.height<=v.top+o?(f.push(this.addRect(v.left,v.top,v.width,v.height)),f):(u=y.left-v.left,u>=a&&f.push(this.addRect(v.left,v.top,u,v.height)),u=v.left+v.width-(y.left+y.width),u>=a&&f.push(this.addRect(y.left+y.width,v.top,u,v.height)),_=y.top-v.top,_>=a&&f.push(this.addRect(v.left,v.top,v.width,_)),_=v.top+v.height-(y.top+y.height),_>=a&&f.push(this.addRect(v.left,y.top+y.height,v.width,_)),f)}}(),h.prototype.isRectAWithinRectB=function(f,u){return f.left+o>=u.left&&f.top+o>=u.top&&f.left+f.width-o<=u.left+u.width&&f.top+f.height-o<=u.top+u.height},h.prototype.purgeRects=function(){var f={},u={};return function(_){for(var v=_.length,y;v--;)if(y=_.length,!!_[v]){for(this.getRect(_[v],f);y--;)if(!(!_[y]||v===y)&&(this.getRect(_[y],u),this.isRectAWithinRectB(f,u))){_[v]=0;break}}return _}}(),h.prototype.sortRectsTopLeft=function(){var f={},u={};return function(_,v){return this.getRect(_,f),this.getRect(v,u),f.top<u.top&&f.top+o<u.top?-1:f.top>u.top&&f.top-o>u.top?1:f.left<u.left&&f.left+o<u.left?-1:f.left>u.left&&f.left-o>u.left?1:0}}(),h.prototype.sortRectsLeftTop=function(){var f={},u={};return function(_,v){return this.getRect(_,f),this.getRect(v,u),f.left<u.left&&f.left+o<u.left?-1:f.left>u.left&&f.left-o<u.left?1:f.top<u.top&&f.top+o<u.top?-1:f.top>u.top&&f.top-o>u.top?1:0}}(),e){var c=1,d=2,p=3,m=4,g=new h;self.onmessage=function(f){var u=new Float32Array(f.data),_=u.subarray(m,u.length),v=new Float32Array(_.length),y=u[p],S={items:_,slots:v,width:u[c],height:u[d]};g.computeLayout(S,y),u[c]=S.width,u[d]=S.height,u.set(S.slots,m),postMessage(u.buffer,[u.buffer])}}return h}var wn=$o(),bi=null,vs=[];function wh(e,t){var i=[];if(e>0){bi||(bi=URL.createObjectURL(new Blob(["("+$o.toString()+")(true)"],{type:"application/javascript"})));for(var s=0,r;s<e;s++)r=new Worker(bi),t&&(r.onmessage=t),i.push(r),vs.push(r)}return i}function Th(e){for(var t,i,s=0;s<e.length;s++)t=e[s],t.onmessage=null,t.onerror=null,t.onmessageerror=null,t.terminate(),i=vs.indexOf(t),i>-1&&vs.splice(i,1);bi&&!vs.length&&(URL.revokeObjectURL(bi),bi=null)}function Eh(){return!!(window.Worker&&window.URL&&window.Blob)}var Tn=1,Os=2,En=4,An=8,kn=16,Uo=0,Wo=1,Go=2,Ah=3,wr=4;function xe(e,t){if(this._options=0,this._processor=null,this._layoutQueue=[],this._layouts={},this._layoutCallbacks={},this._layoutWorkers={},this._layoutWorkerData={},this._workers=[],this._onWorkerMessage=this._onWorkerMessage.bind(this),this.setOptions(t),e=typeof e=="number"?Math.max(0,e):0,e&&Eh())try{this._workers=wh(e,this._onWorkerMessage)}catch(i){this._processor=new wn}else this._processor=new wn}xe.prototype._sendToWorker=function(){if(!(!this._layoutQueue.length||!this._workers.length)){var e=this._layoutQueue.shift(),t=this._workers.pop(),i=this._layoutWorkerData[e];delete this._layoutWorkerData[e],this._layoutWorkers[e]=t,t.postMessage(i.buffer,[i.buffer])}};xe.prototype._onWorkerMessage=function(e){var t=new Float32Array(e.data),i=t[Uo],s=this._layouts[i],r=this._layoutCallbacks[i],n=this._layoutWorkers[i];s&&delete this._layouts[i],r&&delete this._layoutCallbacks[i],n&&delete this._layoutWorkers[i],s&&r&&(s.width=t[Wo],s.height=t[Go],s.slots=t.subarray(wr,t.length),this._finalizeLayout(s),r(s)),n&&(this._workers.push(n),this._sendToWorker())};xe.prototype._finalizeLayout=function(e){var t=e._grid,i=e._settings&Os,s=t._boxSizing==="border-box";return delete e._grid,delete e._settings,e.styles={},i?e.styles.width=(s?e.width+t._borderLeft+t._borderRight:e.width)+"px":e.styles.height=(s?e.height+t._borderTop+t._borderBottom:e.height)+"px",e};xe.prototype.setOptions=function(e){if(e){var t;typeof e.fillGaps=="boolean"?t=e.fillGaps?Tn:0:t=this._options&Tn;var i;typeof e.horizontal=="boolean"?i=e.horizontal?Os:0:i=this._options&Os;var s;typeof e.alignRight=="boolean"?s=e.alignRight?En:0:s=this._options&En;var r;typeof e.alignBottom=="boolean"?r=e.alignBottom?An:0:r=this._options&An;var n;typeof e.rounding=="boolean"?n=e.rounding?kn:0:n=this._options&kn,this._options=t|i|s|r|n}};xe.prototype.createLayout=function(e,t,i,s,r,n){if(this._layouts[t])throw new Error("A layout with the provided id is currently being processed.");var o=this._options&Os,a={id:t,items:i,slots:null,width:o?0:s,height:o?r:0,_grid:e,_settings:this._options};if(!i.length){a.slots=[],this._finalizeLayout(a),n(a);return}if(this._processor){a.slots=window.Float32Array?new Float32Array(i.length*2):new Array(i.length*2),this._processor.computeLayout(a,a._settings),this._finalizeLayout(a),n(a);return}var l=new Float32Array(wr+i.length*2);l[Uo]=t,l[Wo]=a.width,l[Go]=a.height,l[Ah]=a._settings;var h,c,d;for(h=0,c=wr-1,d;h<i.length;h++)d=i[h],l[++c]=d._width+d._marginLeft+d._marginRight,l[++c]=d._height+d._marginTop+d._marginBottom;return this._layoutQueue.push(t),this._layouts[t]=a,this._layoutCallbacks[t]=n,this._layoutWorkerData[t]=l,this._sendToWorker(),this.cancelLayout.bind(this,t)};xe.prototype.cancelLayout=function(e){var t=this._layouts[e];if(t&&(delete this._layouts[e],delete this._layoutCallbacks[e],this._layoutWorkerData[e])){delete this._layoutWorkerData[e];var i=this._layoutQueue.indexOf(e);i>-1&&this._layoutQueue.splice(i,1)}};xe.prototype.destroy=function(){for(var e in this._layoutWorkers)this._workers.push(this._layoutWorkers[e]);Th(this._workers),this._workers.length=0,this._layoutQueue.length=0,this._layouts={},this._layoutCallbacks={},this._layoutWorkers={},this._layoutWorkerData={}};var kh=0;function Ih(e,t){var i=++kh,s=0,r=0,n=!1,o=function(a){n||(r&&(s-=a-r),r=a,s>0?ql(i,o):(s=r=0,e()))};return function(a){if(!n){if(t<=0){a!==!0&&e();return}if(a===!0){n=!0,s=r=0,o=void 0,$l(i);return}s<=0?(s=t,o(0)):s=t}}}var Dh="[object HTMLCollection]",Lh="[object NodeList]";function Or(e){var t=Object.prototype.toString.call(e);return t===Dh||t===Lh}var Ch="object",xh="[object Object]",Rh=Object.prototype.toString;function In(e){return typeof e===Ch&&Rh.call(e)===xh}function Ph(){}function Oh(e){return Or(e)?Array.prototype.slice.call(e):Array.prototype.concat(e)}var jo="number",$s="string",je="instant",lr=0;function $(e,t){typeof e===$s&&(e=document.querySelector(e));var i=e.getRootNode?e.getRootNode({composed:!0})===document:document.body.contains(e);if(!i||e===document.documentElement)throw new Error("Container element must be an existing DOM element.");var s=Mh($.defaultOptions,t);s.visibleStyles=Dn(s.visibleStyles),s.hiddenStyles=Dn(s.hiddenStyles),Z(s.dragSort)||(s.dragSort=!!s.dragSort),this._id=qo(),this._element=e,this._settings=s,this._isDestroyed=!1,this._items=[],this._layout={id:0,items:[],slots:[]},this._isLayoutFinished=!0,this._nextLayoutData=null,this._emitter=new re,this._onLayoutDataReceived=this._onLayoutDataReceived.bind(this),zs[this._id]=this,Zt(e,s.containerClass),Fh(this,s.layoutOnResize),this.add(Nh(e,s.items),{layout:!1}),s.layoutOnInit&&this.layout(!0)}$.Item=ct;$.ItemLayout=Ce;$.ItemVisibility=ce;$.ItemMigrate=Qi;$.ItemDrag=Y;$.ItemDragRelease=Ke;$.ItemDragPlaceholder=Ot;$.Emitter=re;$.Animator=Se;$.Dragger=T;$.Packer=xe;$.AutoScroller=it;$.defaultPacker=new xe(2);$.defaultOptions={items:"*",showDuration:300,showEasing:"ease",hideDuration:300,hideEasing:"ease",visibleStyles:{opacity:"1",transform:"scale(1)"},hiddenStyles:{opacity:"0",transform:"scale(0.5)"},layout:{fillGaps:!1,horizontal:!1,alignRight:!1,alignBottom:!1,rounding:!1},layoutOnResize:150,layoutOnInit:!0,layoutDuration:300,layoutEasing:"ease",sortData:null,dragEnabled:!1,dragContainer:null,dragHandle:null,dragStartPredicate:{distance:0,delay:0},dragAxis:"xy",dragSort:!0,dragSortHeuristics:{sortInterval:100,minDragDistance:10,minBounceBackAngle:1},dragSortPredicate:{threshold:50,action:li,migrateAction:li},dragRelease:{duration:300,easing:"ease",useDragContainer:!0},dragCssProps:{touchAction:"none",userSelect:"none",userDrag:"none",tapHighlightColor:"rgba(0, 0, 0, 0)",touchCallout:"none",contentZooming:"none"},dragPlaceholder:{enabled:!1,createElement:null,onCreate:null,onRemove:null},dragAutoScroll:{targets:[],handle:null,threshold:50,safeZone:.2,speed:it.smoothSpeed(1e3,2e3,2500),sortDuringScroll:!0,smoothStop:!1,onStart:null,onStop:null},containerClass:"muuri",itemClass:"muuri-item",itemVisibleClass:"muuri-item-shown",itemHiddenClass:"muuri-item-hidden",itemPositioningClass:"muuri-item-positioning",itemDraggingClass:"muuri-item-dragging",itemReleasingClass:"muuri-item-releasing",itemPlaceholderClass:"muuri-item-placeholder"};$.prototype.on=function(e,t){return this._emitter.on(e,t),this};$.prototype.off=function(e,t){return this._emitter.off(e,t),this};$.prototype.getElement=function(){return this._element};$.prototype.getItem=function(e){if(this._isDestroyed||!e&&e!==0)return null;if(typeof e===jo)return this._items[e>-1?e:this._items.length+e]||null;if(e instanceof ct)return e._gridId===this._id?e:null;if(ri){var t=ri.get(e);return t&&t._gridId===this._id?t:null}else for(var i=0;i<this._items.length;i++)if(this._items[i]._element===e)return this._items[i];return null};$.prototype.getItems=function(e){if(this._isDestroyed||e===void 0)return this._items.slice(0);var t=[],i,s;if(Array.isArray(e)||Or(e))for(i=0;i<e.length;i++)s=this.getItem(e[i]),s&&t.push(s);else s=this.getItem(e),s&&t.push(s);return t};$.prototype.refreshItems=function(e,t){if(this._isDestroyed)return this;var i=e||this._items,s,r,n,o;if(t===!0)for(o=[],s=0;s<i.length;s++)r=i[s],!r.isVisible()&&!r.isHiding()&&(n=r.getElement().style,n.visibility="hidden",n.display="",o.push(n));for(s=0;s<i.length;s++)i[s]._refreshDimensions(t);if(t===!0){for(s=0;s<o.length;s++)n=o[s],n.visibility="",n.display="none";o.length=0}return this};$.prototype.refreshSortData=function(e){if(this._isDestroyed)return this;for(var t=e||this._items,i=0;i<t.length;i++)t[i]._refreshSortData();return this};$.prototype.synchronize=function(){if(this._isDestroyed)return this;var e=this._items;if(!e.length)return this;for(var t,i,s=0;s<e.length;s++)i=e[s]._element,i.parentNode===this._element&&(t=t||document.createDocumentFragment(),t.appendChild(i));return t?(this._element.appendChild(t),this._emit(pl),this):this};$.prototype.layout=function(e,t){if(this._isDestroyed)return this;var i=this._nextLayoutData;i&&Z(i.cancel)&&i.cancel(),lr=lr%Al+1;var s=lr;this._nextLayoutData={id:s,instant:e,onFinish:t,cancel:null};for(var r=this._items,n=[],o=0;o<r.length;o++)r[o]._isActive&&n.push(r[o]);this._refreshDimensions();var a=this._width-this._borderLeft-this._borderRight,l=this._height-this._borderTop-this._borderBottom,h=this._settings.layout,c;return Z(h)?c=h(this,s,n,a,l,this._onLayoutDataReceived):($.defaultPacker.setOptions(h),c=$.defaultPacker.createLayout(this,s,n,a,l,this._onLayoutDataReceived)),Z(c)&&this._nextLayoutData&&this._nextLayoutData.id===s&&(this._nextLayoutData.cancel=c),this};$.prototype.add=function(e,t){if(this._isDestroyed||!e)return[];var i=Oh(e);if(!i.length)return i;var s=t||{},r=s.layout?s.layout:s.layout===void 0,n=this._items,o=!1,a,l,h,c;for(c=0;c<i.length;c++)l=i[c],l.parentNode!==this._element&&(a=a||document.createDocumentFragment(),a.appendChild(l));for(a&&this._element.appendChild(a),c=0;c<i.length;c++)l=i[c],h=i[c]=new ct(this,l,s.active),h._isActive&&(o=!0,h._layout._skipNextAnimation=!0);for(c=0;c<i.length;c++)h=i[c],h._refreshDimensions(),h._refreshSortData();return Pr(n,i,s.index),this._hasListeners(cn)&&this._emit(cn,i.slice(0)),o&&r&&this.layout(r===je,Z(r)?r:void 0),i};$.prototype.remove=function(e,t){if(this._isDestroyed||!e.length)return[];var i=t||{},s=i.layout?i.layout:i.layout===void 0,r=!1,n=this.getItems(),o=[],a=[],l,h,c;for(c=0;c<e.length;c++)h=e[c],!h._isDestroyed&&(l=this._items.indexOf(h),l!==-1&&(h._isActive&&(r=!0),o.push(h),a.push(n.indexOf(h)),h._destroy(i.removeElements),this._items.splice(l,1)));return this._hasListeners(dn)&&this._emit(dn,o.slice(0),a),r&&s&&this.layout(s===je,Z(s)?s:void 0),o};$.prototype.show=function(e,t){return!this._isDestroyed&&e.length&&this._setItemsVisibility(e,!0,t),this};$.prototype.hide=function(e,t){return!this._isDestroyed&&e.length&&this._setItemsVisibility(e,!1,t),this};$.prototype.filter=function(e,t){if(this._isDestroyed||!this._items.length)return this;var i=[],s=[],r=typeof e===$s,n=Z(e),o=t||{},a=o.instant===!0,l=o.syncWithLayout,h=o.layout?o.layout:o.layout===void 0,c=Z(o.onFinish)?o.onFinish:null,d=-1,p=Ph,m,g;if(c&&(p=function(){++d&&c(i.slice(0),s.slice(0))}),n||r)for(g=0;g<this._items.length;g++)m=this._items[g],(n?e(m):qs(m._element,e))?i.push(m):s.push(m);return i.length?this.show(i,{instant:a,syncWithLayout:l,onFinish:p,layout:!1}):p(),s.length?this.hide(s,{instant:a,syncWithLayout:l,onFinish:p,layout:!1}):p(),(i.length||s.length)&&(this._hasListeners(un)&&this._emit(un,i.slice(0),s.slice(0)),h&&this.layout(h===je,Z(h)?h:void 0)),this};$.prototype.sort=function(){var e,t,i,s;function r(o,a){for(var l=0,h,c,d,p,m=0;m<e.length;m++)if(h=e[m][0],c=e[m][1],d=(o._sortData?o:o._refreshSortData())._sortData[h],p=(a._sortData?a:a._refreshSortData())._sortData[h],c==="desc"||!c&&t?l=p<d?-1:p>d?1:0:l=d<p?-1:d>p?1:0,l)return l;return l||(s||(s=Ln(i)),l=t?cs(s,a,o):cs(s,o,a)),l}function n(o,a){var l=t?-e(o,a):e(o,a);return l||(s||(s=Ln(i)),l=t?cs(s,a,o):cs(s,o,a)),l}return function(o,a){if(this._isDestroyed||this._items.length<2)return this;var l=this._items,h=a||{},c=h.layout?h.layout:h.layout===void 0;if(t=!!h.descending,i=l.slice(0),s=null,Z(o))e=o,l.sort(n);else if(typeof o===$s)e=o.trim().split(" ").filter(function(d){return d}).map(function(d){return d.split(":")}),l.sort(r);else if(Array.isArray(o))l.length=0,l.push.apply(l,o);else throw e=t=i=s=null,new Error("Invalid comparer argument provided.");return this._hasListeners(fn)&&this._emit(fn,l.slice(0),i),c&&this.layout(c===je,Z(c)?c:void 0),e=t=i=s=null,this}}();$.prototype.move=function(e,t,i){if(this._isDestroyed||this._items.length<2)return this;var s=this._items,r=i||{},n=r.layout?r.layout:r.layout===void 0,o=r.action===ge,a=o?ge:li,l=this.getItem(e),h=this.getItem(t),c,d;return l&&h&&l!==h&&(c=s.indexOf(l),d=s.indexOf(h),o?Yo(s,c,d):Bo(s,c,d),this._hasListeners(ks)&&this._emit(ks,{item:l,fromIndex:c,toIndex:d,action:a}),n&&this.layout(n===je,Z(n)?n:void 0)),this};$.prototype.send=function(e,t,i,s){if(this._isDestroyed||t._isDestroyed||this===t)return this;if(e=this.getItem(e),!e)return this;var r=s||{},n=r.appendTo||document.body,o=r.layoutSender?r.layoutSender:r.layoutSender===void 0,a=r.layoutReceiver?r.layoutReceiver:r.layoutReceiver===void 0;return e._migrate.start(t,i,n),e._migrate._isActive&&e._isActive&&(o&&this.layout(o===je,Z(o)?o:void 0),a&&t.layout(a===je,Z(a)?a:void 0)),this};$.prototype.destroy=function(e){if(this._isDestroyed)return this;var t=this._element,i=this._items.slice(0),s=this._layout&&this._layout.styles||{},r,n;for(zh(this),r=0;r<i.length;r++)i[r]._destroy(e);this._items.length=0,xt(t,this._settings.containerClass);for(n in s)t.style[n]="";return this._emit(El),this._emitter.destroy(),delete zs[this._id],this._isDestroyed=!0,this};$.prototype._emit=function(){this._isDestroyed||this._emitter.emit.apply(this._emitter,arguments)};$.prototype._hasListeners=function(e){return this._isDestroyed?!1:this._emitter.countListeners(e)>0};$.prototype._updateBoundingRect=function(){var e=this._element,t=e.getBoundingClientRect();this._width=t.width,this._height=t.height,this._left=t.left,this._top=t.top,this._right=t.right,this._bottom=t.bottom};$.prototype._updateBorders=function(e,t,i,s){var r=this._element;e&&(this._borderLeft=ee(r,"border-left-width")),t&&(this._borderRight=ee(r,"border-right-width")),i&&(this._borderTop=ee(r,"border-top-width")),s&&(this._borderBottom=ee(r,"border-bottom-width"))};$.prototype._refreshDimensions=function(){this._updateBoundingRect(),this._updateBorders(1,1,1,1),this._boxSizing=Ut(this._element,"box-sizing")};$.prototype._onLayoutDataReceived=function(){var e=[];return function(t){if(!(this._isDestroyed||!this._nextLayoutData||this._nextLayoutData.id!==t.id)){var i=this,s=this._nextLayoutData.instant,r=this._nextLayoutData.onFinish,n=t.items.length,o=n,a,l,h,c;for(this._nextLayoutData=null,!this._isLayoutFinished&&this._hasListeners(hn)&&this._emit(hn,this._layout.items.slice(0)),this._layout=t,e.length=0,c=0;c<n;c++){if(a=t.items[c],!a){--o;continue}if(l=t.slots[c*2],h=t.slots[c*2+1],a._canSkipLayout(l,h)){--o;continue}a._left=l,a._top=h,a.isActive()&&!a.isDragging()?e.push(a):--o}if(t.styles&&Ii(this._element,t.styles),!(this._hasListeners(We)&&(this._emit(We,t.items.slice(0),s===!0),this._layout.id!==t.id))){var d=function(){if(!(--o>0)){var p=i._layout.id!==t.id,m=Z(s)?s:r;p||(i._isLayoutFinished=!0),Z(m)&&m(t.items.slice(0),p),!p&&i._hasListeners(ln)&&i._emit(ln,t.items.slice(0))}};if(!e.length)return d(),this;for(this._isLayoutFinished=!1,c=0;c<e.length&&this._layout.id===t.id;c++)e[c]._layout.start(s===!0,d);return this._layout.id===t.id&&(e.length=0),this}}}}();$.prototype._setItemsVisibility=function(e,t,i){var s=this,r=e.slice(0),n=i||{},o=n.instant===!0,a=n.onFinish,l=n.layout?n.layout:n.layout===void 0,h=r.length,c=t?ml:Xi,d=t?gl:_l,p=t?"show":"hide",m=!1,g=[],f=[],u,_;if(!h){Z(a)&&a(r);return}for(_=0;_<r.length;_++)u=r[_],(t&&!u._isActive||!t&&u._isActive)&&(m=!0),u._layout._skipNextAnimation=!!(t&&!u._isActive),t&&u._visibility._isHidden&&f.push(u),t?u._addToLayout():u._removeFromLayout();f.length&&(this.refreshItems(f,!0),f.length=0);function v(){for(m&&n.syncWithLayout!==!1&&s.off(We,v),s._hasListeners(c)&&s._emit(c,r.slice(0)),_=0;_<r.length;_++){if(r[_]._gridId!==s._id){--h<1&&(Z(a)&&a(g.slice(0)),s._hasListeners(d)&&s._emit(d,g.slice(0)));continue}r[_]._visibility[p](o,function(y,S){y||g.push(S),--h<1&&(Z(a)&&a(g.slice(0)),s._hasListeners(d)&&s._emit(d,g.slice(0)))})}}m&&n.syncWithLayout!==!1?this.on(We,v):v(),m&&l&&this.layout(l===je,Z(l)?l:void 0)};function Mh(e,t){var i=Bi({},e);return t&&(i=Bi(i,t)),t&&t.visibleStyles?i.visibleStyles=t.visibleStyles:e&&e.visibleStyles&&(i.visibleStyles=e.visibleStyles),t&&t.hiddenStyles?i.hiddenStyles=t.hiddenStyles:e&&e.hiddenStyles&&(i.hiddenStyles=e.hiddenStyles),i}function Bi(e,t){var i=Object.keys(t),s=i.length,r,n,o;for(o=0;o<s;o++){if(n=i[o],r=In(t[n]),In(e[n])&&r){e[n]=Bi(Bi({},e[n]),t[n]);continue}if(r){e[n]=Bi({},t[n]);continue}if(Array.isArray(t[n])){e[n]=t[n].slice(0);continue}e[n]=t[n]}return e}function Nh(e,t){if(t==="*")return e.children;if(typeof t===$s){for(var i=[],s=e.children,r=0;r<s.length;r++)qs(s[r],t)&&i.push(s[r]);return i}return Array.isArray(t)||Or(t)?t:[]}function Fh(e,t){typeof t!==jo&&(t=t===!0?0:-1),t>=0&&(e._resizeHandler=Ih(function(){e.refreshItems().layout()},t),window.addEventListener("resize",e._resizeHandler))}function zh(e){e._resizeHandler&&(e._resizeHandler(!0),window.removeEventListener("resize",e._resizeHandler),e._resizeHandler=null)}function Dn(e){var t={},i=document.documentElement.style,s,r;for(s in e)e[s]&&(r=Ys(i,s),r&&(t[r]=e[s]));return t}function Ln(e){for(var t={},i=0;i<e.length;i++)t[e[i]._id]=i;return t}function cs(e,t,i){var s=e[t._id],r=e[i._id];return s-r}/**
 * anime.js - ESM
 * @version v4.0.2
 * @author Julian Garnier
 * @license MIT
 * @copyright (c) 2025 Julian Garnier
 * @see https://animejs.com
 */const be=typeof window!="undefined",$t=be?window:null,H=be?document:null,ut={OBJECT:0,ATTRIBUTE:1,CSS:2,TRANSFORM:3,CSS_VAR:4},tt={NUMBER:0,UNIT:1,COLOR:2,COMPLEX:3},jt={NONE:0,AUTO:1,FORCE:2},At={replace:0,none:1,blend:2},Cn=Symbol(),Us=Symbol(),Mr=Symbol(),Ws=Symbol(),xn=Symbol(),Zo=Symbol(),st=1e-11,Si=1e12,yt=1e3,Tr=120,ze="",Ki=new Map;Ki.set("x","translateX");Ki.set("y","translateY");Ki.set("z","translateZ");const Nr=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],Qo=Nr.reduce((e,t)=>Pe(Kt({},e),{[t]:t+"("}),{}),j=()=>{},Bh=/(^#([\da-f]{3}){1,2}$)|(^#([\da-f]{4}){1,2}$)/i,Yh=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,Xh=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,Vh=/hsl\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*\)/i,Hh=/hsla\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,Rn=/[-+]?\d*\.?\d+(?:e[-+]?\d)?/gi,Ko=/^([-+]?\d*\.?\d+(?:e[-+]?\d+)?)([a-z]+|%)$/i,qh=/([a-z])([A-Z])/g,$h=/(\w+)(\([^)]+\)+)/g,Jo=/(\*=|\+=|-=)/,ta={id:null,keyframes:null,playbackEase:null,playbackRate:1,frameRate:Tr,loop:0,reversed:!1,alternate:!1,autoplay:!0,duration:yt,delay:0,loopDelay:0,ease:"out(2)",composition:At.replace,modifier:e=>e,onBegin:j,onBeforeUpdate:j,onUpdate:j,onLoop:j,onPause:j,onComplete:j,onRender:j},nt={defaults:ta,root:H,precision:4,timeScale:1,tickThreshold:200},ea={version:"4.0.2",engine:null};be&&($t.AnimeJS||($t.AnimeJS=[]),$t.AnimeJS.push(ea));const Uh=e=>e.replace(qh,"$1-$2").toLowerCase(),ni=(e,t)=>e.indexOf(t)===0,ci=Date.now,ie=Array.isArray,Ct=e=>e&&e.constructor===Object,Be=e=>typeof e=="number"&&!isNaN(e),ye=e=>typeof e=="string",De=e=>typeof e=="function",L=e=>typeof e=="undefined",ys=e=>L(e)||e===null,Fr=e=>be&&e instanceof SVGElement,ia=e=>Bh.test(e),sa=e=>ni(e,"rgb"),ra=e=>ni(e,"hsl"),Wh=e=>ia(e)||sa(e)||ra(e),Yi=e=>!nt.defaults.hasOwnProperty(e),si=e=>ye(e)?parseFloat(e):e,vi=Math.pow,qe=Math.sqrt,zr=Math.sin,Br=Math.cos,_e=Math.abs,Pn=Math.exp,Gh=Math.ceil,ji=Math.floor,jh=Math.asin,na=Math.max,Ss=Math.atan2,Ci=Math.PI,Er=Math.round,N=(e,t,i)=>e<t?t:e>i?i:e,On={},D=(e,t)=>{if(t<0)return e;if(!t)return Er(e);let i=On[t];return i||(i=On[t]=tr(10,t)),Er(e*i)/i},ei=(e,t)=>ie(t)?t.reduce((i,s)=>_e(s-e)<_e(i-e)?s:i):t?Er(e/t)*t:e,Te=(e,t,i)=>e+(t-e)*i,Gs=e=>e===1/0?Si:e===-1/0?-1e12:e,wi=e=>e<=st?st:Gs(D(e,11)),Nt=e=>ie(e)?[...e]:e,Ms=(e,t)=>{const i=Kt({},e);for(let s in t){const r=e[s];i[s]=L(r)?t[s]:r}return i},ot=(e,t,i,s="_prev",r="_next")=>{let n=e._head,o=r;for(i&&(n=e._tail,o=s);n;){const a=n[o];t(n),n=a}},ke=(e,t,i="_prev",s="_next")=>{const r=t[i],n=t[s];r?r[s]=n:e._head=n,n?n[i]=r:e._tail=r,t[i]=null,t[s]=null},Ye=(e,t,i,s="_prev",r="_next")=>{let n=e._tail;for(;n&&i&&i(n,t);)n=n[s];const o=n?n[r]:e._head;n?n[r]=t:e._head=t,o?o[s]=t:e._tail=t,t[s]=n,t[r]=o};class oa{constructor(t=0){this.deltaTime=0,this._currentTime=t,this._elapsedTime=t,this._startTime=t,this._lastTime=t,this._scheduledTime=0,this._frameDuration=D(yt/Tr,0),this._fps=Tr,this._speed=1,this._hasChildren=!1,this._head=null,this._tail=null}get fps(){return this._fps}set fps(t){const i=this._frameDuration,s=+t,r=s<st?st:s,n=D(yt/r,0);this._fps=r,this._frameDuration=n,this._scheduledTime+=n-i}get speed(){return this._speed}set speed(t){const i=+t;this._speed=i<st?st:i}requestTick(t){const i=this._scheduledTime,s=this._elapsedTime;if(this._elapsedTime+=t-s,s<i)return jt.NONE;const r=this._frameDuration,n=s-i;return this._scheduledTime+=n<r?r:n,jt.AUTO}computeDeltaTime(t){const i=t-this._lastTime;return this.deltaTime=i,this._lastTime=t,i}}const bs=(e,t,i,s,r)=>{const n=e.parent,o=e.duration,a=e.completed,l=e.iterationDuration,h=e.iterationCount,c=e._currentIteration,d=e._loopDelay,p=e._reversed,m=e._alternate,g=e._hasChildren,f=e._delay,u=e._currentTime,_=f+l,v=t-f,y=N(u,-f,o),S=N(v,-f,o),w=v-u,A=S>0,O=S>=o,P=o<=st,C=r===jt.FORCE;let z=0,x=v,k=0;if(h>1){const W=~~(S/(l+(O?0:d)));e._currentIteration=N(W,0,h),O&&e._currentIteration--,z=e._currentIteration%2,x=S%(l+d)||0}const X=p^(m&&z),R=e._ease;let V=O?X?0:o:X?l-x:x;R&&(V=l*R(V/l)||0);const F=(n?n.backwards:v<u)?!X:!!X;if(e._currentTime=v,e._iterationTime=V,e.backwards=F,A&&!e.began?(e.began=!0,!i&&!(n&&(F||!n.began))&&e.onBegin(e)):v<=0&&(e.began=!1),!i&&!g&&A&&e._currentIteration!==c&&e.onLoop(e),C||r===jt.AUTO&&(t>=f&&t<=_||t<=f&&y>f||t>=_&&y!==o)||V>=_&&y!==o||V<=f&&y>0||t<=y&&y===o&&a||O&&!a&&P){if(A&&(e.computeDeltaTime(y),i||e.onBeforeUpdate(e)),!g){const W=C||(F?w*-1:w)>=nt.tickThreshold,U=e._offset+(n?n._offset:0)+f+V;let E=e._head,lt,at,Ft,It,gt=0;for(;E;){const _t=E._composition,pt=E._currentTime,vt=E._changeDuration,Re=E._absoluteStartTime+E._changeDuration,Wt=E._nextRep,zt=E._prevRep,ne=_t!==At.none;if((W||(pt!==vt||U<=Re+(Wt?Wt._delay:0))&&(pt!==0||U>=E._absoluteStartTime))&&(!ne||!E._isOverridden&&(!E._isOverlapped||U<=Re)&&(!Wt||Wt._isOverridden||U<=Wt._absoluteStartTime)&&(!zt||zt._isOverridden||U>=zt._absoluteStartTime+zt._changeDuration+E._delay))){const Bt=E._currentTime=N(V-E._startTime,0,vt),dt=E._ease(Bt/E._updateDuration),Yt=E._modifier,oe=E._valueType,Mt=E._tweenType,Xt=Mt===ut.OBJECT,ui=oe===tt.NUMBER,de=ui&&Xt||dt===0||dt===1?-1:nt.precision;let Vt,fi;if(ui)Vt=fi=Yt(D(Te(E._fromNumber,E._toNumber,dt),de));else if(oe===tt.UNIT)fi=Yt(D(Te(E._fromNumber,E._toNumber,dt),de)),Vt=`${fi}${E._unit}`;else if(oe===tt.COLOR){const St=E._fromNumbers,ue=E._toNumbers,fe=D(N(Yt(Te(St[0],ue[0],dt)),0,255),0),we=D(N(Yt(Te(St[1],ue[1],dt)),0,255),0),Ji=D(N(Yt(Te(St[2],ue[2],dt)),0,255),0),pi=N(Yt(D(Te(St[3],ue[3],dt),de)),0,1);if(Vt=`rgba(${fe},${we},${Ji},${pi})`,ne){const Je=E._numbers;Je[0]=fe,Je[1]=we,Je[2]=Ji,Je[3]=pi}}else if(oe===tt.COMPLEX){Vt=E._strings[0];for(let St=0,ue=E._toNumbers.length;St<ue;St++){const fe=Yt(D(Te(E._fromNumbers[St],E._toNumbers[St],dt),de)),we=E._strings[St+1];Vt+=`${we?fe+we:fe}`,ne&&(E._numbers[St]=fe)}}if(ne&&(E._number=fi),!s&&_t!==At.blend){const St=E.property;lt=E.target,Xt?lt[St]=Vt:Mt===ut.ATTRIBUTE?lt.setAttribute(St,Vt):(at=lt.style,Mt===ut.TRANSFORM?(lt!==Ft&&(Ft=lt,It=lt[Ws]),It[St]=Vt,gt=1):Mt===ut.CSS?at[St]=Vt:Mt===ut.CSS_VAR&&at.setProperty(St,Vt)),A&&(k=1)}else E._value=Vt}if(gt&&E._renderTransforms){let Bt=ze;for(let dt in It)Bt+=`${Qo[dt]}${It[dt]}) `;at.transform=Bt,gt=0}E=E._next}!i&&k&&e.onRender(e)}!i&&A&&e.onUpdate(e)}return n&&P?!i&&(n.began&&!F&&v>=o&&!a||F&&v<=st&&a)&&(e.onComplete(e),e.completed=!F):A&&O?h===1/0?e._startTime+=e.duration:e._currentIteration>=h-1&&(e.paused=!0,!a&&!g&&(e.completed=!0,!i&&!(n&&(F||!n.began))&&(e.onComplete(e),e._resolve(e)))):e.completed=!1,k},ii=(e,t,i,s,r)=>{const n=e._currentIteration;if(bs(e,t,i,s,r),e._hasChildren){const o=e,a=o.backwards,l=s?t:o._iterationTime,h=ci();let c=0,d=!0;if(!s&&o._currentIteration!==n){const p=o.iterationDuration;ot(o,m=>{if(!a)!m.completed&&!m.backwards&&m._currentTime<m.iterationDuration&&bs(m,p,i,1,jt.FORCE),m.began=!1,m.completed=!1;else{const g=m.duration,f=m._offset+m._delay,u=f+g;!i&&g<=st&&(!f||u===p)&&m.onComplete(m)}}),i||o.onLoop(o)}ot(o,p=>{const m=D((l-p._offset)*p._speed,12),g=p._fps<o._fps?p.requestTick(h):r;c+=bs(p,m,i,s,g),!p.completed&&d&&(d=!1)},a),!i&&c&&o.onRender(o),d&&o._currentTime>=o.duration&&(o.paused=!0,o.completed||(o.completed=!0,i||(o.onComplete(o),o._resolve(o))))}},Ti={animation:null,update:j},Zh=e=>{let t=Ti.animation;return t||(t={duration:st,computeDeltaTime:j,_offset:0,_delay:0,_head:null,_tail:null},Ti.animation=t,Ti.update=()=>{e.forEach(i=>{for(let s in i){const r=i[s],n=r._head;if(n){const o=n._valueType,a=o===tt.COMPLEX||o===tt.COLOR?Nt(n._fromNumbers):null;let l=n._fromNumber,h=r._tail;for(;h&&h!==n;){if(a)for(let c=0,d=h._numbers.length;c<d;c++)a[c]+=h._numbers[c];else l+=h._number;h=h._prevAdd}n._toNumber=l,n._toNumbers=a}}}),bs(t,1,1,0,jt.FORCE)}),t},aa=be?requestAnimationFrame:setImmediate,Qh=be?cancelAnimationFrame:clearImmediate;class Kh extends oa{constructor(t){super(t),this.useDefaultMainLoop=!0,this.pauseOnDocumentHidden=!0,this.defaults=ta,this.paused=!!(be&&H.hidden),this.reqId=null}update(){const t=this._currentTime=ci();if(this.requestTick(t)){this.computeDeltaTime(t);const i=this._speed,s=this._fps;let r=this._head;for(;r;){const n=r._next;r.paused?(ke(this,r),this._hasChildren=!!this._tail,r._running=!1,r.completed&&!r._cancelled&&r.cancel()):ii(r,(t-r._startTime)*r._speed*i,0,0,r._fps<s?r.requestTick(t):jt.AUTO),r=n}Ti.update()}}wake(){return this.useDefaultMainLoop&&!this.reqId&&!this.paused&&(this.reqId=aa(la)),this}pause(){return this.paused=!0,Jh()}resume(){if(this.paused)return this.paused=!1,ot(this,t=>t.resetTime()),this.wake()}get speed(){return this._speed*(nt.timeScale===1?1:yt)}set speed(t){this._speed=t*nt.timeScale,ot(this,i=>i.speed=i._speed)}get timeUnit(){return nt.timeScale===1?"ms":"s"}set timeUnit(t){const s=t==="s",r=s?.001:1;if(nt.timeScale!==r){nt.timeScale=r,nt.tickThreshold=200*r;const n=s?.001:yt;this.defaults.duration*=n,this._speed*=n}}get precision(){return nt.precision}set precision(t){nt.precision=t}}const bt=(()=>{const e=new Kh(ci());return be&&(ea.engine=e,H.addEventListener("visibilitychange",()=>{e.pauseOnDocumentHidden&&(H.hidden?e.pause():e.resume())})),e})(),la=()=>{bt._head?(bt.reqId=aa(la),bt.update()):bt.reqId=0},Jh=()=>(Qh(bt.reqId),bt.reqId=0,bt),tc=(e,t,i)=>{const s=e.style.transform;let r;if(s){const n=e[Ws];let o;for(;o=$h.exec(s);){const a=o[1],l=o[2].slice(1,-1);n[a]=l,a===t&&(r=l,i&&(i[t]=l))}}return s&&!L(r)?r:ni(t,"scale")?"1":ni(t,"rotate")||ni(t,"skew")?"0deg":"0px"};function Mn(e){const t=ye(e)?nt.root.querySelectorAll(e):e;if(t instanceof NodeList||t instanceof HTMLCollection)return t}function he(e){if(ys(e))return[];if(ie(e)){const i=e.flat(1/0),s=[];for(let r=0,n=i.length;r<n;r++){const o=i[r];if(!ys(o)){const a=Mn(o);if(a)for(let l=0,h=a.length;l<h;l++){const c=a[l];if(!ys(c)){let d=!1;for(let p=0,m=s.length;p<m;p++)if(s[p]===c){d=!0;break}d||s.push(c)}}else{let l=!1;for(let h=0,c=s.length;h<c;h++)if(s[h]===o){l=!0;break}l||s.push(o)}}}return s}if(!be)return[e];const t=Mn(e);return t?Array.from(t):[e]}function Yr(e){const t=he(e),i=t.length;if(i)for(let s=0;s<i;s++){const r=t[s];if(!r[Cn]){r[Cn]=!0;const n=Fr(r);(r.nodeType||n)&&(r[Us]=!0,r[Mr]=n,r[Ws]={})}}return t}const ha=e=>{const i=he(e)[0];if(!(!i||!Fr(i)))return i},ec=(e,t=.33)=>i=>{const s=ha(e);if(!s)return;const r=i.tagName==="path",n=r?" ":",",o=i[xn];o&&i.setAttribute(r?"d":"points",o);let a="",l="";if(!t)a=i.getAttribute(r?"d":"points"),l=s.getAttribute(r?"d":"points");else{const h=i.getTotalLength(),c=s.getTotalLength(),d=Math.max(Math.ceil(h*t),Math.ceil(c*t));for(let p=0;p<d;p++){const m=p/(d-1),g=i.getPointAtLength(h*m),f=s.getPointAtLength(c*m),u=r?p===0?"M":"L":"";a+=u+D(g.x,3)+n+g.y+" ",l+=u+D(f.x,3)+n+f.y+" "}}return i[xn]=l,[a,l]},ic=e=>{let t=1;if(e&&e.getCTM){const i=e.getCTM();if(i){const s=qe(i.a*i.a+i.b*i.b),r=qe(i.c*i.c+i.d*i.d);t=(s+r)/2}}return t},sc=(e,t,i)=>{const s=yt,r=getComputedStyle(e),n=r.strokeLinecap,o=r.vectorEffect==="non-scaling-stroke"?e:null;let a=n;const l=new Proxy(e,{get(h,c){const d=h[c];return c===Zo?h:c==="setAttribute"?(...p)=>{if(p[0]==="draw"){const g=p[1].split(" "),f=+g[0],u=+g[1],_=ic(o),v=f*-1e3*_,y=u*s*_+v,S=s*_+(f===0&&u===1||f===1&&u===0?0:10*_)-y;if(n!=="butt"){const w=f===u?"butt":n;a!==w&&(h.style.strokeLinecap=`${w}`,a=w)}h.setAttribute("stroke-dashoffset",`${v}`),h.setAttribute("stroke-dasharray",`${y} ${S}`)}return Reflect.apply(d,h,p)}:De(d)?(...p)=>Reflect.apply(d,h,p):d}});return e.getAttribute("pathLength")!==`${s}`&&(e.setAttribute("pathLength",`${s}`),l.setAttribute("draw",`${t} ${i}`)),l},rc=(e,t=0,i=0)=>he(e).map(r=>sc(r,t,i)),hr=(e,t,i=0)=>e.getPointAtLength(t+i>=1?t+i:0),cr=(e,t)=>i=>{const s=+e.getTotalLength(),r=i[Mr],n=e.getCTM();return{from:0,to:s,modifier:o=>{if(t==="a"){const a=hr(e,o,-1),l=hr(e,o,1);return Ss(l.y-a.y,l.x-a.x)*180/Ci}else{const a=hr(e,o,0);return t==="x"?r||!n?a.x:a.x*n.a+a.y*n.c+n.e:r||!n?a.y:a.x*n.b+a.y*n.d+n.f}}}},nc=e=>{const t=ha(e);if(t)return{translateX:cr(t,"x"),translateY:cr(t,"y"),rotate:cr(t,"a")}},oc=["opacity","rotate","overflow","color"],ac=(e,t)=>{if(oc.includes(t))return!1;if(e.getAttribute(t)||t in e){if(t==="scale"){const i=e.parentNode;return i&&i.tagName==="filter"}return!0}},lc={morphTo:ec,createMotionPath:nc,createDrawable:rc},hc=e=>{const t=Yh.exec(e)||Xh.exec(e),i=L(t[4])?1:+t[4];return[+t[1],+t[2],+t[3],i]},cc=e=>{const t=e.length,i=t===4||t===5;return[+("0x"+e[1]+e[i?1:2]),+("0x"+e[i?2:3]+e[i?2:4]),+("0x"+e[i?3:5]+e[i?3:6]),t===5||t===9?+(+("0x"+e[i?4:7]+e[i?4:8])/255).toFixed(3):1]},dr=(e,t,i)=>(i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e),dc=e=>{const t=Vh.exec(e)||Hh.exec(e),i=+t[1]/360,s=+t[2]/100,r=+t[3]/100,n=L(t[4])?1:+t[4];let o,a,l;if(s===0)o=a=l=r;else{const h=r<.5?r*(1+s):r+s-r*s,c=2*r-h;o=D(dr(c,h,i+1/3)*255,0),a=D(dr(c,h,i)*255,0),l=D(dr(c,h,i-1/3)*255,0)}return[o,a,l,n]},uc=e=>sa(e)?hc(e):ia(e)?cc(e):ra(e)?dc(e):[0,0,0,1],B=(e,t)=>L(e)?t:e,Me=(e,t,i,s,r)=>{if(De(e)){const n=()=>{const o=e(t,i,s);return isNaN(+o)?o||0:+o};return r&&(r.func=n),n()}else return e},Xr=(e,t)=>e[Us]?e[Mr]&&ac(e,t)?ut.ATTRIBUTE:Nr.includes(t)||Ki.get(t)?ut.TRANSFORM:ni(t,"--")?ut.CSS_VAR:t in e.style?ut.CSS:t in e?ut.OBJECT:ut.ATTRIBUTE:ut.OBJECT,Nn=(e,t,i)=>{const s=e.style[t];s&&i&&(i[t]=s);const r=s||getComputedStyle(e[Zo]||e).getPropertyValue(t);return r==="auto"?"0":r},yi=(e,t,i,s)=>{const r=L(i)?Xr(e,t):i;return r===ut.OBJECT?e[t]||0:r===ut.ATTRIBUTE?e.getAttribute(t):r===ut.TRANSFORM?tc(e,t,s):r===ut.CSS_VAR?Nn(e,t,s).trimStart():Nn(e,t,s)},Ei=(e,t,i)=>i==="-"?e-t:i==="+"?e+t:e*t,Vr=()=>({t:tt.NUMBER,n:0,u:null,o:null,d:null,s:null}),te=(e,t)=>{if(t.t=tt.NUMBER,t.n=0,t.u=null,t.o=null,t.d=null,t.s=null,!e)return t;const i=+e;if(isNaN(i)){let s=e;s[1]==="="&&(t.o=s[0],s=s.slice(2));const r=s.includes(" ")?!1:Ko.exec(s);if(r)return t.t=tt.UNIT,t.n=+r[1],t.u=r[2],t;if(t.o)return t.n=+s,t;if(Wh(s))return t.t=tt.COLOR,t.d=uc(s),t;{const n=s.match(Rn);return t.t=tt.COMPLEX,t.d=n?n.map(Number):[],t.s=s.split(Rn)||[],t}}else return t.n=i,t},Fn=(e,t)=>(t.t=e._valueType,t.n=e._toNumber,t.u=e._unit,t.o=null,t.d=Nt(e._toNumbers),t.s=Nt(e._strings),t),qt=Vr(),Ns={_rep:new WeakMap,_add:new Map},Hr=(e,t,i="_rep")=>{const s=Ns[i];let r=s.get(e);return r||(r={},s.set(e,r)),r[t]?r[t]:r[t]={_head:null,_tail:null}},fc=(e,t)=>e._isOverridden||e._absoluteStartTime>t._absoluteStartTime,ws=e=>{e._isOverlapped=1,e._isOverridden=1,e._changeDuration=st,e._currentTime=st},ca=(e,t)=>{const i=e._composition;if(i===At.replace){const s=e._absoluteStartTime;Ye(t,e,fc,"_prevRep","_nextRep");const r=e._prevRep;if(r){const n=r.parent,o=r._absoluteStartTime+r._changeDuration;if(e.parent.id!==n.id&&n.iterationCount>1&&o+(n.duration-n.iterationDuration)>s){ws(r);let h=r._prevRep;for(;h&&h.parent.id===n.id;)ws(h),h=h._prevRep}const a=s-e._delay;if(o>a){const h=r._startTime,c=o-(h+r._updateDuration);r._changeDuration=a-c-h,r._currentTime=r._changeDuration,r._isOverlapped=1,r._changeDuration<st&&ws(r)}let l=!0;if(ot(n,h=>{h._isOverlapped||(l=!1)}),l){const h=n.parent;if(h){let c=!0;ot(h,d=>{d!==n&&ot(d,p=>{p._isOverlapped||(c=!1)})}),c&&h.cancel()}else n.cancel()}}}else if(i===At.blend){const s=Hr(e.target,e.property,"_add"),r=Zh(Ns._add);let n=s._head;n||(n=Kt({},e),n._composition=At.replace,n._updateDuration=st,n._startTime=0,n._numbers=Nt(e._fromNumbers),n._number=0,n._next=null,n._prev=null,Ye(s,n),Ye(r,n));const o=e._toNumber;if(e._fromNumber=n._fromNumber-o,e._toNumber=0,e._numbers=Nt(e._fromNumbers),e._number=0,n._fromNumber=o,e._toNumbers){const a=Nt(e._toNumbers);a&&a.forEach((l,h)=>{e._fromNumbers[h]=n._fromNumbers[h]-l,e._toNumbers[h]=0}),n._fromNumbers=a}Ye(s,e,null,"_prevAdd","_nextAdd")}return e},da=e=>{const t=e._composition;if(t!==At.none){const i=e.target,s=e.property,o=Ns._rep.get(i)[s];if(ke(o,e,"_prevRep","_nextRep"),t===At.blend){const a=Ns._add,l=a.get(i);if(!l)return;const h=l[s],c=Ti.animation;ke(h,e,"_prevAdd","_nextAdd");const d=h._head;if(d&&d===h._tail){ke(h,d,"_prevAdd","_nextAdd"),ke(c,d);let p=!0;for(let m in l)if(l[m]._head){p=!1;break}p&&a.delete(i)}}}return e},zn=e=>(e.paused=!0,e.began=!1,e.completed=!1,e),Ar=e=>(e._cancelled&&(e._hasChildren?ot(e,Ar):ot(e,t=>{t._composition!==At.none&&ca(t,Hr(t.target,t.property))}),e._cancelled=0),e);let pc=0;class se extends oa{constructor(t={},i=null,s=0){super(0);const{id:r,delay:n,duration:o,reversed:a,alternate:l,loop:h,loopDelay:c,autoplay:d,frameRate:p,playbackRate:m,onComplete:g,onLoop:f,onPause:u,onBegin:_,onBeforeUpdate:v,onUpdate:y}=t,S=i?0:bt._elapsedTime,w=i?i.defaults:nt.defaults,A=De(n)||L(n)?w.delay:+n,O=De(o)||L(o)?1/0:+o,P=B(h,w.loop),C=B(c,w.loopDelay),z=P===!0||P===1/0||P<0?1/0:P+1;let x=0;if(i)x=s;else{let k=ci();bt.paused&&(bt.requestTick(k),k=bt._elapsedTime),x=k-bt._startTime}this.id=L(r)?++pc:r,this.parent=i,this.duration=Gs((O+C)*z-C)||st,this.backwards=!1,this.paused=!0,this.began=!1,this.completed=!1,this.onBegin=_||w.onBegin,this.onBeforeUpdate=v||w.onBeforeUpdate,this.onUpdate=y||w.onUpdate,this.onLoop=f||w.onLoop,this.onPause=u||w.onPause,this.onComplete=g||w.onComplete,this.iterationDuration=O,this.iterationCount=z,this._autoplay=i?!1:B(d,w.autoplay),this._offset=x,this._delay=A,this._loopDelay=C,this._iterationTime=0,this._currentIteration=0,this._resolve=j,this._running=!1,this._reversed=+B(a,w.reversed),this._reverse=this._reversed,this._cancelled=0,this._alternate=B(l,w.alternate),this._prev=null,this._next=null,this._elapsedTime=S,this._startTime=S,this._lastTime=S,this._fps=B(p,w.frameRate),this._speed=B(m,w.playbackRate)}get cancelled(){return!!this._cancelled}set cancelled(t){t?this.cancel():this.reset(1).play()}get currentTime(){return N(D(this._currentTime,nt.precision),-this._delay,this.duration)}set currentTime(t){const i=this.paused;this.pause().seek(+t),i||this.resume()}get iterationCurrentTime(){return D(this._iterationTime,nt.precision)}set iterationCurrentTime(t){this.currentTime=this.iterationDuration*this._currentIteration+t}get progress(){return N(D(this._currentTime/this.duration,5),0,1)}set progress(t){this.currentTime=this.duration*t}get iterationProgress(){return N(D(this._iterationTime/this.iterationDuration,5),0,1)}set iterationProgress(t){const i=this.iterationDuration;this.currentTime=i*this._currentIteration+i*t}get currentIteration(){return this._currentIteration}set currentIteration(t){this.currentTime=this.iterationDuration*N(+t,0,this.iterationCount-1)}get reversed(){return!!this._reversed}set reversed(t){t?this.reverse():this.play()}get speed(){return super.speed}set speed(t){super.speed=t,this.resetTime()}reset(t=0){return Ar(this),this._reversed&&!this._reverse&&(this.reversed=!1),this._iterationTime=this.iterationDuration,ii(this,0,1,t,jt.FORCE),zn(this),this._hasChildren&&ot(this,zn),this}init(t=0){this.fps=this._fps,this.speed=this._speed,!t&&this._hasChildren&&ii(this,this.duration,1,t,jt.FORCE),this.reset(t);const i=this._autoplay;return i===!0?this.resume():i&&!L(i.linked)&&i.link(this),this}resetTime(){const t=1/(this._speed*bt._speed);return this._startTime=ci()-(this._currentTime+this._delay)*t,this}pause(){return this.paused?this:(this.paused=!0,this.onPause(this),this)}resume(){return this.paused?(this.paused=!1,this.duration<=st&&!this._hasChildren?ii(this,st,0,0,jt.FORCE):(this._running||(Ye(bt,this),bt._hasChildren=!0,this._running=!0),this.resetTime(),this._startTime-=12,bt.wake()),this):this}restart(){return this.reset(0).resume()}seek(t,i=0,s=0){Ar(this),this.completed=!1;const r=this.paused;return this.paused=!0,ii(this,t+this._delay,~~i,~~s,jt.AUTO),r?this:this.resume()}alternate(){const t=this._reversed,i=this.iterationCount,s=this.iterationDuration,r=i===1/0?ji(Si/s):i;return this._reversed=+(this._alternate&&!(r%2)?t:!t),i===1/0?this.iterationProgress=this._reversed?1-this.iterationProgress:this.iterationProgress:this.seek(s*r-this._currentTime),this.resetTime(),this}play(){return this._reversed&&this.alternate(),this.resume()}reverse(){return this._reversed||this.alternate(),this.resume()}cancel(){return this._hasChildren?ot(this,t=>t.cancel(),!0):ot(this,da),this._cancelled=1,this.pause()}stretch(t){const i=this.duration,s=wi(t);if(i===s)return this;const r=t/i,n=t<=st;return this.duration=n?st:s,this.iterationDuration=n?st:wi(this.iterationDuration*r),this._offset*=r,this._delay*=r,this._loopDelay*=r,this}revert(){ii(this,0,1,0,jt.AUTO);const t=this._autoplay;return t&&t.linked&&t.linked===this&&t.revert(),this.cancel()}complete(){return this.seek(this.duration).cancel()}then(t=j){const i=this.then,s=()=>{this.then=null,t(this),this.then=i,this._resolve=j};return new Promise(r=>(this._resolve=()=>r(s()),this.completed&&this._resolve(),this))}}const Ze=e=>e,ua=(e,t,i)=>(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e,mc=(e,t,i)=>{let s=0,r=1,n,o,a=0;do o=s+(r-s)/2,n=ua(o,t,i)-e,n>0?r=o:s=o;while(_e(n)>1e-7&&++a<100);return o},gc=(e=.5,t=0,i=.5,s=1)=>e===t&&i===s?Ze:r=>r===0||r===1?r:ua(mc(r,e,i),t,s),_c=(e=10,t)=>{const i=t?Gh:ji;return s=>i(N(s,0,1)*e)*(1/e)},fa=(...e)=>{const t=e.length;if(!t)return Ze;const i=t-1,s=e[0],r=e[i],n=[0],o=[si(s)];for(let a=1;a<i;a++){const l=e[a],h=ye(l)?l.trim().split(" "):[l],c=h[0],d=h[1];n.push(L(d)?a/i:si(d)/100),o.push(si(c))}return o.push(si(r)),n.push(1),function(l){for(let h=1,c=n.length;h<c;h++){const d=n[h];if(l<=d){const p=n[h-1],m=o[h-1];return m+(o[h]-m)*(l-p)/(d-p)}}return o[o.length-1]}},vc=(e=10,t=1)=>{const i=[0],s=e-1;for(let r=1;r<s;r++){const n=i[r-1],o=r/s,a=(r+1)/s,l=o+(a-o)*Math.random(),h=o*(1-t)+l*t;i.push(N(h,n,1))}return i.push(1),fa(...i)},yc=Ci/2,Bn=Ci*2,xi=(e=1.68)=>t=>vi(t,+e),Yn={[ze]:xi,Quad:xi(2),Cubic:xi(3),Quart:xi(4),Quint:xi(5),Sine:e=>1-Br(e*yc),Circ:e=>1-qe(1-e*e),Expo:e=>e?vi(2,10*e-10):0,Bounce:e=>{let t,i=4;for(;e<((t=vi(2,--i))-1)/11;);return 1/vi(4,3-i)-7.5625*vi((t*3-2)/22-e,2)},Back:(e=1.70158)=>t=>(+e+1)*t*t*t-+e*t*t,Elastic:(e=1,t=.3)=>{const i=N(+e,1,10),s=N(+t,st,2),r=s/Bn*jh(1/i),n=Bn/s;return o=>o===0||o===1?o:-i*vi(2,-10*(1-o))*zr((1-o-r)*n)}},kr={in:e=>t=>e(t),out:e=>t=>1-e(1-t),inOut:e=>t=>t<.5?e(t*2)/2:1-e(t*-2+2)/2,outIn:e=>t=>t<.5?(1-e(1-t*2))/2:(e(t*2-1)+1)/2},Sc=(e,t,i)=>{if(i[e])return i[e];if(e.indexOf("(")<=-1){const r=kr[e]||e.includes("Back")||e.includes("Elastic")?t[e]():t[e];return r?i[e]=r:Ze}else{const s=e.slice(0,-1).split("("),r=t[s[0]];return r?i[e]=r(...s[1].split(",")):Ze}},Oi=(()=>{const e={linear:fa,irregular:vc,steps:_c,cubicBezier:gc};for(let t in kr)for(let i in Yn){const s=Yn[i],r=kr[t];e[t+i]=i===ze||i==="Back"||i==="Elastic"?(n,o)=>r(s(n,o)):r(s)}return e})(),bc={linear:Ze},di=e=>De(e)?e:ye(e)?Sc(e,Oi,bc):Ze,Xn={},qr=(e,t,i)=>{if(i===ut.TRANSFORM){const s=Ki.get(e);return s||e}else if(i===ut.CSS||i===ut.ATTRIBUTE&&Fr(t)&&e in t.style){const s=Xn[e];if(s)return s;{const r=e&&Uh(e);return Xn[e]=r,r}}else return e},ur={deg:1,rad:180/Ci,turn:360},Vn={},$r=(e,t,i,s=!1)=>{const r=t.u,n=t.n;if(t.t===tt.UNIT&&r===i)return t;const o=n+r+i,a=Vn[o];if(!L(a)&&!s)t.n=a;else{let l;if(r in ur)l=n*ur[r]/ur[i];else{const c=e.cloneNode(),d=e.parentNode,p=d&&d!==H?d:H.body;p.appendChild(c);const m=c.style;m.width=100+r;const g=c.offsetWidth||100;m.width=100+i;const f=c.offsetWidth||100,u=g/f;p.removeChild(c),l=u*n}t.n=l,Vn[o]=l}return t.t,tt.UNIT,t.u=i,t},js=e=>{if(e._hasChildren)ot(e,js,!0);else{const t=e;t.pause(),ot(t,i=>{const s=i.property,r=i.target;if(r[Us]){const n=r.style,o=t._inlineStyles[s];if(i._tweenType===ut.TRANSFORM){const a=r[Ws];if(L(o)||o===ze?delete a[s]:a[s]=o,i._renderTransforms)if(!Object.keys(a).length)n.removeProperty("transform");else{let l=ze;for(let h in a)l+=Qo[h]+a[h]+") ";n.transform=l}}else L(o)||o===ze?n.removeProperty(s):n[s]=o;t._tail===i&&t.targets.forEach(a=>{a.getAttribute&&a.getAttribute("style")===ze&&a.removeAttribute("style")})}})}return e},q=Vr(),Q=Vr(),ds={func:null},us=[null],_i=[null,null],fs={to:null};let wc=0,Ne,pe;const Tc=(e,t)=>{const i={};if(ie(e)){const s=[].concat(...e.map(r=>Object.keys(r))).filter(Yi);for(let r=0,n=s.length;r<n;r++){const o=s[r],a=e.map(l=>{const h={};for(let c in l){const d=l[c];Yi(c)?c===o&&(h.to=d):h[c]=d}return h});i[o]=a}}else{const s=B(t.duration,nt.defaults.duration);Object.keys(e).map(n=>({o:parseFloat(n)/100,p:e[n]})).sort((n,o)=>n.o-o.o).forEach(n=>{const o=n.o,a=n.p;for(let l in a)if(Yi(l)){let h=i[l];h||(h=i[l]=[]);const c=o*s;let d=h.length,p=h[d-1];const m={to:a[l]};let g=0;for(let f=0;f<d;f++)g+=h[f].duration;d===1&&(m.from=p.to),a.ease&&(m.ease=a.ease),m.duration=c-(d?g:0),h.push(m)}return n});for(let n in i){const o=i[n];let a;for(let l=0,h=o.length;l<h;l++){const c=o[l],d=c.ease;c.ease=a||void 0,a=d}o[0].duration||o.shift()}}return i};class oi extends se{constructor(t,i,s,r,n=!1,o=0,a=0){super(i,s,r);const l=Yr(t),h=l.length,c=i.keyframes,d=c?Ms(Tc(c,i),i):i,{delay:p,duration:m,ease:g,playbackEase:f,modifier:u,composition:_,onRender:v}=d,y=s?s.defaults:nt.defaults,S=B(f,y.playbackEase),w=S?di(S):null,A=!L(g)&&!L(g.ease),O=A?g.ease:B(g,w?"linear":y.ease),P=A?g.duration:B(m,y.duration),C=B(p,y.delay),z=u||y.modifier,x=L(_)&&h>=yt?At.none:L(_)?y.composition:_,k={},X=this._offset+(s?s._offset:0);let R=NaN,V=NaN,F=0,W=0;for(let U=0;U<h;U++){const E=l[U],lt=o||U,at=a||h;let Ft=NaN,It=NaN;for(let gt in d)if(Yi(gt)){const _t=Xr(E,gt),pt=qr(gt,E,_t);let vt=d[gt];const Re=ie(vt);if(n&&!Re&&(_i[0]=vt,_i[1]=vt,vt=_i),Re){const Yt=vt.length,oe=!Ct(vt[0]);Yt===2&&oe?(fs.to=vt,us[0]=fs,Ne=us):Yt>2&&oe?(Ne=[],vt.forEach((Mt,Xt)=>{Xt?Xt===1?(_i[1]=Mt,Ne.push(_i)):Ne.push(Mt):_i[0]=Mt})):Ne=vt}else us[0]=vt,Ne=us;let Wt=null,zt=null,ne=NaN,Bt=0,dt=0;for(let Yt=Ne.length;dt<Yt;dt++){const oe=Ne[dt];Ct(oe)?pe=oe:(fs.to=oe,pe=fs),ds.func=null;const Mt=Me(pe.to,E,lt,at,ds);let Xt;Ct(Mt)&&!L(Mt.to)?(pe=Mt,Xt=Mt.to):Xt=Mt;const ui=Me(pe.from,E,lt,at),de=pe.ease,Vt=!L(de)&&!L(de.ease),fi=Vt?de.ease:de||O,St=Vt?de.duration:Me(B(pe.duration,Yt>1?Me(P,E,lt,at)/Yt:P),E,lt,at),ue=Me(B(pe.delay,dt?0:C),E,lt,at),fe=Me(B(pe.composition,x),E,lt,at),we=Be(fe)?fe:At[fe],Ji=pe.modifier||z,pi=!L(ui),Je=!L(Xt),ts=ie(Xt),ya=ts||pi&&Je,Zs=zt?Bt+ue:ue,Qs=X+Zs;!W&&(pi||ts)&&(W=1);let Qt=zt;if(we!==At.none){Wt||(Wt=Hr(E,pt));let ht=Wt._head;for(;ht&&!ht._isOverridden&&ht._absoluteStartTime<=Qs;)if(Qt=ht,ht=ht._nextRep,ht&&ht._absoluteStartTime>=Qs)for(;ht;)ws(ht),ht=ht._nextRep}if(ya?(te(ts?Me(Xt[0],E,lt,at):ui,q),te(ts?Me(Xt[1],E,lt,at,ds):Xt,Q),q.t===tt.NUMBER&&(Qt?Qt._valueType===tt.UNIT&&(q.t=tt.UNIT,q.u=Qt._unit):(te(yi(E,pt,_t,k),qt),qt.t===tt.UNIT&&(q.t=tt.UNIT,q.u=qt.u)))):(Je?te(Xt,Q):zt?Fn(zt,Q):te(s&&Qt&&Qt.parent.parent===s?Qt._value:yi(E,pt,_t,k),Q),pi?te(ui,q):zt?Fn(zt,q):te(s&&Qt&&Qt.parent.parent===s?Qt._value:yi(E,pt,_t,k),q)),q.o&&(q.n=Ei(Qt?Qt._toNumber:te(yi(E,pt,_t,k),qt).n,q.n,q.o)),Q.o&&(Q.n=Ei(q.n,Q.n,Q.o)),q.t!==Q.t){if(q.t===tt.COMPLEX||Q.t===tt.COMPLEX){const ht=q.t===tt.COMPLEX?q:Q,Dt=q.t===tt.COMPLEX?Q:q;Dt.t=tt.COMPLEX,Dt.s=Nt(ht.s),Dt.d=ht.d.map(()=>Dt.n)}else if(q.t===tt.UNIT||Q.t===tt.UNIT){const ht=q.t===tt.UNIT?q:Q,Dt=q.t===tt.UNIT?Q:q;Dt.t=tt.UNIT,Dt.u=ht.u}else if(q.t===tt.COLOR||Q.t===tt.COLOR){const ht=q.t===tt.COLOR?q:Q,Dt=q.t===tt.COLOR?Q:q;Dt.t=tt.COLOR,Dt.s=ht.s,Dt.d=[0,0,0,1]}}if(q.u!==Q.u){let ht=Q.u?q:Q;ht=$r(E,ht,Q.u?Q.u:q.u,!1)}if(Q.d&&q.d&&Q.d.length!==q.d.length){const ht=q.d.length>Q.d.length?q:Q,Dt=ht===q?Q:q;Dt.d=ht.d.map((id,Wr)=>L(Dt.d[Wr])?0:Dt.d[Wr]),Dt.s=Nt(ht.s)}const Ks=D(+St||st,12),es={parent:this,id:wc++,property:pt,target:E,_value:null,_func:ds.func,_ease:di(fi),_fromNumbers:Nt(q.d),_toNumbers:Nt(Q.d),_strings:Nt(Q.s),_fromNumber:q.n,_toNumber:Q.n,_numbers:Nt(q.d),_number:q.n,_unit:Q.u,_modifier:Ji,_currentTime:0,_startTime:Zs,_delay:+ue,_updateDuration:Ks,_changeDuration:Ks,_absoluteStartTime:Qs,_tweenType:_t,_valueType:Q.t,_composition:we,_isOverlapped:0,_isOverridden:0,_renderTransforms:0,_prevRep:null,_nextRep:null,_prevAdd:null,_nextAdd:null,_prev:null,_next:null};we!==At.none&&ca(es,Wt),isNaN(ne)&&(ne=es._startTime),Bt=D(Zs+Ks,12),zt=es,F++,Ye(this,es)}(isNaN(V)||ne<V)&&(V=ne),(isNaN(R)||Bt>R)&&(R=Bt),_t===ut.TRANSFORM&&(Ft=F-dt,It=F)}if(!isNaN(Ft)){let gt=0;ot(this,_t=>{gt>=Ft&&gt<It&&(_t._renderTransforms=1,_t._composition===At.blend&&ot(Ti.animation,pt=>{pt.id===_t.id&&(pt._renderTransforms=1)})),gt++})}}h||console.warn("No target found. Make sure the element you're trying to animate is accessible before creating your animation."),V?(ot(this,U=>{U._startTime-U._delay||(U._delay-=V),U._startTime-=V}),R-=V):V=0,R||(R=st,this.iterationCount=0),this.targets=l,this.duration=R===st?st:Gs((R+this._loopDelay)*this.iterationCount-this._loopDelay)||st,this.onRender=v||y.onRender,this._ease=w,this._delay=V,this.iterationDuration=R,this._inlineStyles=k,!this._autoplay&&W&&this.onRender(this)}stretch(t){const i=this.duration;if(i===wi(t))return this;const s=t/i;return ot(this,r=>{r._updateDuration=wi(r._updateDuration*s),r._changeDuration=wi(r._changeDuration*s),r._currentTime*=s,r._startTime*=s,r._absoluteStartTime*=s}),super.stretch(t)}refresh(){return ot(this,t=>{const i=yi(t.target,t.property,t._tweenType);te(i,qt),t._fromNumbers=Nt(qt.d),t._fromNumber=qt.n,t._func&&(te(t._func(),Q),t._toNumbers=Nt(Q.d),t._strings=Nt(Q.s),t._toNumber=Q.n)}),this}revert(){return super.revert(),js(this)}then(t){return super.then(t)}}const Mi=(e,t)=>new oi(e,t,null,0,!1).init(),Ec=["x","y","z"];[...Ec,...Nr.filter(e=>["X","Y","Z"].some(t=>e.endsWith(t)))];be&&(L(CSS)||Object.hasOwnProperty.call(CSS,"registerProperty"));const Hn={_head:null,_tail:null},Ac=(e,t,i)=>{let s=Hn._head;for(;s;){const r=s._next,n=s.$el===e,o=!t||s.property===t,a=!i||s.parent===i;if(n&&o&&a){const l=s.animation;try{l.commitStyles()}catch(c){}l.cancel(),ke(Hn,s);const h=s.parent;h&&(h._completed++,h.animations.length===h._completed&&(h.completed=!0,h.muteCallbacks||(h.paused=!0,h.onComplete(h),h._resolve(h))))}s=r}},pa=(e=j)=>new se({duration:1*nt.timeScale,onComplete:e},null,0).resume();function Xe(e,t,i){const s=Yr(e);if(!s.length)return;const[r]=s,n=Xr(r,t),o=qr(t,r,n);let a=yi(r,o);if(L(i))return a;if(te(a,qt),qt.t===tt.NUMBER||qt.t===tt.UNIT){if(i===!1)return qt.n;{const l=$r(r,qt,i,!1);return`${D(l.n,nt.precision)}${l.u}`}}}const Ae=(e,t)=>{if(!L(t))return t.duration=st,t.composition=B(t.composition,At.none),new oi(e,t,null,0,!0).resume()},qn=(e,t,i)=>{let s=!1;return ot(t,r=>{const n=r.target;if(e.includes(n)){const o=r.property,a=r._tweenType,l=qr(i,n,a);(!l||l&&l===o)&&(r.parent._tail===r&&r._tweenType===ut.TRANSFORM&&r._prev&&r._prev._tweenType===ut.TRANSFORM&&(r._prev._renderTransforms=1),ke(t,r),da(r),s=!0)}},!0),s},Ee=(e,t,i)=>{const s=he(e),r=t||bt,n=t&&t.controlAnimation&&t;for(let a=0,l=s.length;a<l;a++){const h=s[a];Ac(h,i,n)}let o;if(r._hasChildren){let a=0;ot(r,l=>{if(!l._hasChildren)if(o=qn(s,l,i),o&&!l._head)l.cancel(),ke(r,l);else{const c=l._offset+l._delay+l.duration;c>a&&(a=c)}l._head?Ee(e,l,i):l._hasChildren=!1},!0),L(r.iterationDuration)||(r.iterationDuration=a)}else o=qn(s,r,i);return o&&!r._head&&(r._hasChildren=!1,r.cancel&&r.cancel()),s},Ur=(e,t,i)=>{const s=tr(10,i||0);return ji((Math.random()*(t-e+1/s)+e)*s)/s},kc=e=>e[Ur(0,e.length-1)],Ic=e=>{let t=e.length,i,s;for(;t;)s=Ur(0,--t),i=e[t],e[t]=e[s],e[s]=i;return e},Dc=(e,t)=>(+e).toFixed(t),Lc=(e,t,i)=>`${e}`.padStart(t,i),Cc=(e,t,i)=>`${e}`.padEnd(t,i),xc=(e,t,i)=>((e-t)%(i-t)+(i-t))%(i-t)+t,Ni=(e,t,i,s,r)=>s+(e-t)/(i-t)*(r-s),Rc=e=>e*Ci/180,Pc=e=>e*180/Ci,ma=(e,t,i,s)=>{let r=yt/nt.defaults.frameRate;if(s!==!1){const o=s||bt._hasChildren&&bt;o&&o.deltaTime&&(r=o.deltaTime)}const n=1-Math.exp(-i*r*.1);return i?i===1?t:(1-n)*e+n*t:e},Oc=(e,t=0)=>(...i)=>t?s=>e(...i,s):s=>e(s,...i),ga=e=>(...t)=>{const i=e(...t);return new Proxy(j,{apply:(s,r,[n])=>i(n),get:(s,r)=>ga((...n)=>{const o=le[r](...n);return a=>o(i(a))})})},ae=(e,t=0)=>(...i)=>(i.length<e.length?ga(Oc(e,t)):e)(...i),le={$:Yr,get:Xe,set:Ae,remove:Ee,cleanInlineStyles:js,random:Ur,randomPick:kc,shuffle:Ic,lerp:ma,sync:pa,clamp:ae(N),round:ae(D),snap:ae(ei),wrap:ae(xc),interpolate:ae(Te,1),mapRange:ae(Ni),roundPad:ae(Dc),padStart:ae(Lc),padEnd:ae(Cc),degToRad:ae(Rc),radToDeg:ae(Pc)},Mc=(e,t)=>{if(ni(t,"<")){const i=t[1]==="<",s=e._tail,r=s?s._offset+s._delay:0;return i?r:r+s.duration}},Ts=(e,t)=>{let i=e.iterationDuration;if(i===st&&(i=0),L(t))return i;if(Be(+t))return+t;const s=t,r=e?e.labels:null,n=!ys(r),o=Mc(e,s),a=!L(o),l=Jo.exec(s);if(l){const h=l[0],c=s.split(h),d=n&&c[0]?r[c[0]]:i,p=a?o:n?d:i,m=+c[1];return Ei(p,m,h[0])}else return a?o:n?L(r[s])?i:r[s]:i};function Nc(e){return Gs((e.iterationDuration+e._loopDelay)*e.iterationCount-e._loopDelay)||st}function fr(e,t,i,s,r,n){const a=Be(e.duration)&&e.duration<=st?i-st:i;ii(t,a,1,1,jt.AUTO);const l=s?new oi(s,e,t,a,!1,r,n):new se(e,t,a);return l.init(1),Ye(t,l),ot(t,h=>{const d=h._offset+h._delay+h.duration;d>t.iterationDuration&&(t.iterationDuration=d)}),t.duration=Nc(t),t}class Fc extends se{constructor(t={}){super(t,null,0),this.duration=0,this.labels={};const i=t.defaults,s=nt.defaults;this.defaults=i?Ms(i,s):s,this.onRender=t.onRender||s.onRender;const r=B(t.playbackEase,s.playbackEase);this._ease=r?di(r):null,this.iterationDuration=0}add(t,i,s){const r=Ct(i),n=Ct(t);if(r||n){if(this._hasChildren=!0,r){const o=i;if(De(s)){const a=s,l=he(t),h=this.duration,c=this.iterationDuration,d=o.id;let p=0;const m=l.length;l.forEach(g=>{const f=Kt({},o);this.duration=h,this.iterationDuration=c,L(d)||(f.id=d+"-"+p),fr(f,this,a(g,p,m,this),g,p,m),p++})}else fr(o,this,Ts(this,s),t)}else fr(t,this,Ts(this,i));return this.init(1)}}sync(t,i){if(L(t)||t&&L(t.pause))return this;t.pause();const s=+(t.effect?t.effect.getTiming().duration:t.duration);return this.add(t,{currentTime:[0,s],duration:s,ease:"linear"},i)}set(t,i,s){return L(i)?this:(i.duration=st,i.composition=At.replace,this.add(t,i,s))}call(t,i){return L(t)||t&&!De(t)?this:this.add({duration:0,onComplete:()=>t(this)},i)}label(t,i){return L(t)||t&&!ye(t)?this:(this.labels[t]=Ts(this,i),this)}remove(t,i){return Ee(t,this,i),this}stretch(t){const i=this.duration;if(i===wi(t))return this;const s=t/i,r=this.labels;ot(this,n=>n.stretch(n.duration*s));for(let n in r)r[n]*=s;return super.stretch(t)}refresh(){return ot(this,t=>{t.refresh&&t.refresh()}),this}revert(){return super.revert(),ot(this,t=>t.revert,!0),js(this)}then(t){return super.then(t)}}const _a=e=>new Fc(e).init();class va{constructor(t,i){const s={},r={};if(this.targets=[],this.animations={},!(L(t)||L(i))){for(let n in i){const o=i[n];Yi(n)?r[n]=o:s[n]=o}for(let n in r){const o=r[n],a=Ct(o);let l={},h="+=0";if(a){const p=o.unit;ye(p)&&(h+=p)}else l.duration=o;l[n]=a?Ms({to:h},o):h;const c=Ms(s,l);c.composition=At.replace,c.autoplay=!1;const d=this.animations[n]=new oi(t,c,null,0,!1).init();this.targets.length||this.targets.push(...d.targets),this[n]=(p,m,g)=>{const f=d._head;if(L(p)&&f){const u=f._numbers;return u&&u.length?u:f._modifier(f._number)}else return ot(d,u=>{if(ie(p))for(let _=0,v=p.length;_<v;_++)L(u._numbers[_])||(u._fromNumbers[_]=u._modifier(u._numbers[_]),u._toNumbers[_]=p[_]);else u._fromNumber=u._modifier(u._number),u._toNumber=p;L(g)||(u._ease=di(g)),u._currentTime=0}),L(m)||d.stretch(m),d.reset(1).resume(),this}}}}revert(){for(let t in this.animations)this[t]=j,this.animations[t].revert();return this.animations={},this.targets.length=0,this}}const zc=(e,t)=>new va(e,t);class Bc{constructor(t={}){this.timeStep=.02,this.restThreshold=5e-4,this.restDuration=200,this.maxDuration=6e4,this.maxRestSteps=this.restDuration/this.timeStep/yt,this.maxIterations=this.maxDuration/this.timeStep/yt,this.m=N(B(t.mass,1),0,yt),this.s=N(B(t.stiffness,100),1,yt),this.d=N(B(t.damping,10),.1,yt),this.v=N(B(t.velocity,0),-1e3,yt),this.w0=0,this.zeta=0,this.wd=0,this.b=0,this.solverDuration=0,this.duration=0,this.compute(),this.ease=i=>i===0||i===1?i:this.solve(i*this.solverDuration)}solve(t){const{zeta:i,w0:s,wd:r,b:n}=this;let o=t;return i<1?o=Pn(-o*i*s)*(1*Br(r*o)+n*zr(r*o)):o=(1+n*o)*Pn(-o*s),1-o}compute(){const{maxRestSteps:t,maxIterations:i,restThreshold:s,timeStep:r,m:n,d:o,s:a,v:l}=this,h=this.w0=N(qe(a/n),st,yt),c=this.zeta=o/(2*qe(a*n)),d=this.wd=c<1?h*qe(1-c*c):0;this.b=c<1?(c*h+-l)/d:-l+h;let p=0,m=0,g=0;for(;m<t&&g<i;)_e(1-this.solve(p))<s?m++:m=0,this.solverDuration=p,p+=r,g++;this.duration=D(this.solverDuration*yt,0)*nt.timeScale}get mass(){return this.m}set mass(t){this.m=N(B(t,1),0,yt),this.compute()}get stiffness(){return this.s}set stiffness(t){this.s=N(B(t,100),1,yt),this.compute()}get damping(){return this.d}set damping(t){this.d=N(B(t,10),.1,yt),this.compute()}get velocity(){return this.v}set velocity(t){this.v=N(B(t,0),-1e3,yt),this.compute()}}const $n=e=>new Bc(e),Fe=e=>{e.cancelable&&e.preventDefault()};class Yc{constructor(t){this.el=t,this.zIndex=0,this.parentElement=null,this.classList={add:j,remove:j}}get x(){return this.el.x||0}set x(t){this.el.x=t}get y(){return this.el.y||0}set y(t){this.el.y=t}get width(){return this.el.width||0}set width(t){this.el.width=t}get height(){return this.el.height||0}set height(t){this.el.height=t}getBoundingClientRect(){return{top:this.y,right:this.x,bottom:this.y+this.height,left:this.x+this.width}}}class Xc{constructor(t){this.$el=t,this.inlineTransforms=[],this.point=new DOMPoint,this.inversedMatrix=this.getMatrix().inverse()}normalizePoint(t,i){return this.point.x=t,this.point.y=i,this.point.matrixTransform(this.inversedMatrix)}traverseUp(t){let i=this.$el.parentElement,s=0;for(;i&&i!==H;)t(i,s),i=i.parentElement,s++}getMatrix(){const t=new DOMMatrix;return this.traverseUp(i=>{const s=getComputedStyle(i).transform;if(s){const r=new DOMMatrix(s);t.preMultiplySelf(r)}}),t}remove(){this.traverseUp((t,i)=>{this.inlineTransforms[i]=t.style.transform,t.style.transform="none"})}revert(){this.traverseUp((t,i)=>{const s=this.inlineTransforms[i];s===""?t.style.removeProperty("transform"):t.style.transform=s})}}const Ht=(e,t)=>e&&De(e)?e(t):e;let ps=0;class Vc{constructor(t,i={}){if(!t)return;const s=i.x,r=i.y,n=i.trigger,o=i.modifier,a=i.releaseEase,l=a&&di(a),h=!L(a)&&!L(a.ease),c=Ct(s)&&!L(s.mapTo)?s.mapTo:"translateX",d=Ct(r)&&!L(r.mapTo)?r.mapTo:"translateY",p=Ht(i.container,this);this.containerArray=ie(p)?p:null,this.$container=p&&!this.containerArray?he(p)[0]:H.body,this.useWin=this.$container===H.body,this.$scrollContainer=this.useWin?$t:this.$container,this.$target=Ct(t)?new Yc(t):he(t)[0],this.$trigger=he(n||t)[0],this.fixed=Xe(this.$target,"position")==="fixed",this.isFinePointer=!0,this.containerPadding=[0,0,0,0],this.containerFriction=0,this.releaseContainerFriction=0,this.snapX=0,this.snapY=0,this.scrollSpeed=0,this.scrollThreshold=0,this.dragSpeed=0,this.maxVelocity=0,this.minVelocity=0,this.velocityMultiplier=0,this.cursor=!1,this.releaseXSpring=h?a:$n({mass:B(i.releaseMass,1),stiffness:B(i.releaseStiffness,80),damping:B(i.releaseDamping,20)}),this.releaseYSpring=h?a:$n({mass:B(i.releaseMass,1),stiffness:B(i.releaseStiffness,80),damping:B(i.releaseDamping,20)}),this.releaseEase=l||Oi.outQuint,this.hasReleaseSpring=h,this.onGrab=i.onGrab||j,this.onDrag=i.onDrag||j,this.onRelease=i.onRelease||j,this.onUpdate=i.onUpdate||j,this.onSettle=i.onSettle||j,this.onSnap=i.onSnap||j,this.onResize=i.onResize||j,this.onAfterResize=i.onAfterResize||j,this.disabled=[0,0];const m={};if(o&&(m.modifier=o),L(s)||s===!0)m[c]=0;else if(Ct(s)){const g=s,f={};g.modifier&&(f.modifier=g.modifier),g.composition&&(f.composition=g.composition),m[c]=f}else s===!1&&(m[c]=0,this.disabled[0]=1);if(L(r)||r===!0)m[d]=0;else if(Ct(r)){const g=r,f={};g.modifier&&(f.modifier=g.modifier),g.composition&&(f.composition=g.composition),m[d]=f}else r===!1&&(m[d]=0,this.disabled[1]=1);this.animate=new va(this.$target,m),this.xProp=c,this.yProp=d,this.destX=0,this.destY=0,this.deltaX=0,this.deltaY=0,this.scroll={x:0,y:0},this.coords=[this.x,this.y,0,0],this.snapped=[0,0],this.pointer=[0,0,0,0,0,0,0,0],this.scrollView=[0,0],this.dragArea=[0,0,0,0],this.containerBounds=[-1e12,Si,Si,-1e12],this.scrollBounds=[0,0,0,0],this.targetBounds=[0,0,0,0],this.window=[0,0],this.velocityStack=[0,0,0],this.velocityStackIndex=0,this.velocityTime=ci(),this.velocity=0,this.angle=0,this.cursorStyles=null,this.triggerStyles=null,this.bodyStyles=null,this.targetStyles=null,this.touchActionStyles=null,this.transforms=new Xc(this.$target),this.overshootCoords={x:0,y:0},this.overshootXTicker=new se({autoplay:!1},null,0).init(),this.overshootYTicker=new se({autoplay:!1},null,0).init(),this.updateTicker=new se({autoplay:!1},null,0).init(),this.overshootXTicker.onUpdate=()=>{this.disabled[0]||(this.updated=!0,this.manual=!0,this.animate[this.xProp](this.overshootCoords.x,0))},this.overshootXTicker.onComplete=()=>{this.disabled[0]||(this.manual=!1,this.animate[this.xProp](this.overshootCoords.x,0))},this.overshootYTicker.onUpdate=()=>{this.disabled[1]||(this.updated=!0,this.manual=!0,this.animate[this.yProp](this.overshootCoords.y,0))},this.overshootYTicker.onComplete=()=>{this.disabled[1]||(this.manual=!1,this.animate[this.yProp](this.overshootCoords.y,0))},this.updateTicker.onUpdate=()=>this.update(),this.contained=!L(p),this.manual=!1,this.grabbed=!1,this.dragged=!1,this.updated=!1,this.released=!1,this.canScroll=!1,this.enabled=!1,this.initialized=!1,this.activeProp=this.disabled[1]?c:d,this.animate.animations[this.activeProp].onRender=()=>{const g=this.updated,u=!(this.grabbed&&g)&&this.released,_=this.x,v=this.y,y=_-this.coords[2],S=v-this.coords[3];this.deltaX=y,this.deltaY=S,this.coords[2]=_,this.coords[3]=v,g&&this.onUpdate(this),u?(this.computeVelocity(y,S),this.angle=Ss(S,y)):this.updated=!1},this.animate.animations[this.activeProp].onComplete=()=>{!this.grabbed&&this.released&&(this.released=!1),this.manual||(this.deltaX=0,this.deltaY=0,this.velocity=0,this.velocityStack[0]=0,this.velocityStack[1]=0,this.velocityStack[2]=0,this.velocityStackIndex=0,this.onSettle(this))},this.resizeTicker=new se({autoplay:!1,duration:150*nt.timeScale,onComplete:()=>{this.onResize(this),this.refresh(),this.onAfterResize(this)}}).init(),this.parameters=i,this.resizeObserver=new ResizeObserver(()=>{this.initialized?this.resizeTicker.restart():this.initialized=!0}),this.enable(),this.refresh(),this.resizeObserver.observe(this.$container),Ct(t)||this.resizeObserver.observe(this.$target)}computeVelocity(t,i){const s=this.velocityTime,r=ci(),n=r-s;if(n<17)return this.velocity;this.velocityTime=r;const o=this.velocityStack,a=this.velocityMultiplier,l=this.minVelocity,h=this.maxVelocity,c=this.velocityStackIndex;o[c]=D(N(qe(t*t+i*i)/n*a,l,h),5);const d=na(o[0],o[1],o[2]);return this.velocity=d,this.velocityStackIndex=(c+1)%3,d}setX(t,i=!1){if(this.disabled[0])return;const s=D(t,5);return this.overshootXTicker.pause(),this.manual=!0,this.updated=!i,this.destX=s,this.snapped[0]=ei(s,this.snapX),this.animate[this.xProp](s,0),this.manual=!1,this}setY(t,i=!1){if(this.disabled[1])return;const s=D(t,5);return this.overshootYTicker.pause(),this.manual=!0,this.updated=!i,this.destY=s,this.snapped[1]=ei(s,this.snapY),this.animate[this.yProp](s,0),this.manual=!1,this}get x(){return D(this.animate[this.xProp](),nt.precision)}set x(t){this.setX(t,!1)}get y(){return D(this.animate[this.yProp](),nt.precision)}set y(t){this.setY(t,!1)}get progressX(){return Ni(this.x,this.containerBounds[3],this.containerBounds[1],0,1)}set progressX(t){this.setX(Ni(t,0,1,this.containerBounds[3],this.containerBounds[1]),!1)}get progressY(){return Ni(this.y,this.containerBounds[0],this.containerBounds[2],0,1)}set progressY(t){this.setY(Ni(t,0,1,this.containerBounds[0],this.containerBounds[2]),!1)}updateScrollCoords(){const t=D(this.useWin?$t.scrollX:this.$container.scrollLeft,0),i=D(this.useWin?$t.scrollY:this.$container.scrollTop,0),[s,r,n,o]=this.containerPadding,a=this.scrollThreshold;this.scroll.x=t,this.scroll.y=i,this.scrollBounds[0]=i-this.targetBounds[0]+s-a,this.scrollBounds[1]=t-this.targetBounds[1]-r+a,this.scrollBounds[2]=i-this.targetBounds[2]-n+a,this.scrollBounds[3]=t-this.targetBounds[3]+o-a}updateBoundingValues(){const t=this.$container,i=this.x,s=this.y,r=this.coords[2],n=this.coords[3];this.coords[2]=0,this.coords[3]=0,this.setX(0,!0),this.setY(0,!0),this.transforms.remove();const o=this.window[0]=$t.innerWidth,a=this.window[1]=$t.innerHeight,l=this.useWin,h=t.scrollWidth,c=t.scrollHeight,d=this.fixed,p=t.getBoundingClientRect(),[m,g,f,u]=this.containerPadding;this.dragArea[0]=l?0:p.left,this.dragArea[1]=l?0:p.top,this.scrollView[0]=l?N(h,o,h):h,this.scrollView[1]=l?N(c,a,c):c,this.updateScrollCoords();const{width:_,height:v,left:y,top:S,right:w,bottom:A}=t.getBoundingClientRect();this.dragArea[2]=D(l?N(_,o,o):_,0),this.dragArea[3]=D(l?N(v,a,a):v,0);const O=Xe(t,"overflow"),P=O==="visible",C=O==="hidden";if(this.canScroll=d?!1:this.contained&&(t===H.body&&P||!C&&!P)&&(h>this.dragArea[2]+u-g||c>this.dragArea[3]+m-f)&&(!this.containerArray||this.containerArray&&!ie(this.containerArray)),this.contained){const z=this.scroll.x,x=this.scroll.y,k=this.canScroll,X=this.$target.getBoundingClientRect(),R=k?l?0:t.scrollLeft:0,V=k?l?0:t.scrollTop:0,F=k?this.scrollView[0]-R-_:0,W=k?this.scrollView[1]-V-v:0;this.targetBounds[0]=D(X.top+x-(l?0:S),0),this.targetBounds[1]=D(X.right+z-(l?o:w),0),this.targetBounds[2]=D(X.bottom+x-(l?a:A),0),this.targetBounds[3]=D(X.left+z-(l?0:y),0),this.containerArray?(this.containerBounds[0]=this.containerArray[0]+m,this.containerBounds[1]=this.containerArray[1]-g,this.containerBounds[2]=this.containerArray[2]-f,this.containerBounds[3]=this.containerArray[3]+u):(this.containerBounds[0]=-D(X.top-(d?N(S,0,a):S)+V-m,0),this.containerBounds[1]=-D(X.right-(d?N(w,0,o):w)-F+g,0),this.containerBounds[2]=-D(X.bottom-(d?N(A,0,a):A)-W+f,0),this.containerBounds[3]=-D(X.left-(d?N(y,0,o):y)+R-u,0))}this.transforms.revert(),this.coords[2]=r,this.coords[3]=n,this.setX(i,!0),this.setY(s,!0)}isOutOfBounds(t,i,s){if(!this.contained)return 0;const[r,n,o,a]=t,[l,h]=this.disabled,c=!l&&i<a||!l&&i>n,d=!h&&s<r||!h&&s>o;return c&&!d?1:!c&&d?2:c&&d?3:0}refresh(){const t=this.parameters,i=t.x,s=t.y,r=Ht(t.container,this),n=Ht(t.containerPadding,this)||0,o=ie(n)?n:[n,n,n,n],a=this.x,l=this.y,h=Ht(t.cursor,this),c={onHover:"grab",onGrab:"grabbing"};if(h){const{onHover:f,onGrab:u}=h;f&&(c.onHover=f),u&&(c.onGrab=u)}this.containerArray=ie(r)?r:null,this.$container=r&&!this.containerArray?he(r)[0]:H.body,this.useWin=this.$container===H.body,this.$scrollContainer=this.useWin?$t:this.$container,this.isFinePointer=matchMedia("(pointer:fine)").matches,this.containerPadding=B(o,[0,0,0,0]),this.containerFriction=N(B(Ht(t.containerFriction,this),.8),0,1),this.releaseContainerFriction=N(B(Ht(t.releaseContainerFriction,this),this.containerFriction),0,1),this.snapX=Ht(Ct(i)&&!L(i.snap)?i.snap:t.snap,this),this.snapY=Ht(Ct(s)&&!L(s.snap)?s.snap:t.snap,this),this.scrollSpeed=B(Ht(t.scrollSpeed,this),1.5),this.scrollThreshold=B(Ht(t.scrollThreshold,this),20),this.dragSpeed=B(Ht(t.dragSpeed,this),1),this.minVelocity=B(Ht(t.minVelocity,this),0),this.maxVelocity=B(Ht(t.maxVelocity,this),50),this.velocityMultiplier=B(Ht(t.velocityMultiplier,this),1),this.cursor=h===!1?!1:c,this.updateBoundingValues();const[d,p,m,g]=this.containerBounds;this.setX(N(a,g,p),!0),this.setY(N(l,d,m),!0)}update(){if(this.updateScrollCoords(),this.canScroll){const[v,y,S,w]=this.containerPadding,[A,O]=this.scrollView,P=this.dragArea[2],C=this.dragArea[3],z=this.scroll.x,x=this.scroll.y,k=this.$container.scrollWidth,X=this.$container.scrollHeight,R=this.useWin?N(k,this.window[0],k):k,V=this.useWin?N(X,this.window[1],X):X,F=A-R,W=O-V;this.dragged&&F>0&&(this.coords[0]-=F,this.scrollView[0]=R),this.dragged&&W>0&&(this.coords[1]-=W,this.scrollView[1]=V);const U=this.scrollSpeed*10,E=this.scrollThreshold,[lt,at]=this.coords,[Ft,It,gt,_t]=this.scrollBounds,pt=D(N((at-Ft+v)/E,-1,0)*U,0),vt=D(N((lt-It-y)/E,0,1)*U,0),Re=D(N((at-gt-S)/E,0,1)*U,0),Wt=D(N((lt-_t+w)/E,-1,0)*U,0);if(pt||Re||Wt||vt){const[zt,ne]=this.disabled;let Bt=z,dt=x;zt||(Bt=D(N(z+(Wt||vt),0,A-P),0),this.coords[0]-=z-Bt),ne||(dt=D(N(x+(pt||Re),0,O-C),0),this.coords[1]-=x-dt),this.useWin?this.$scrollContainer.scrollBy(-(z-Bt),-(x-dt)):this.$scrollContainer.scrollTo(Bt,dt)}}const[t,i,s,r]=this.containerBounds,[n,o,a,l,h,c]=this.pointer;this.coords[0]+=(n-h)*this.dragSpeed,this.coords[1]+=(o-c)*this.dragSpeed,this.pointer[4]=n,this.pointer[5]=o;const[d,p]=this.coords,[m,g]=this.snapped,f=(1-this.containerFriction)*this.dragSpeed;this.setX(d>i?i+(d-i)*f:d<r?r+(d-r)*f:d,!1),this.setY(p>s?s+(p-s)*f:p<t?t+(p-t)*f:p,!1),this.computeVelocity(n-h,o-c),this.angle=Ss(o-l,n-a);const[u,_]=this.snapped;(u!==m&&this.snapX||_!==g&&this.snapY)&&this.onSnap(this)}stop(){this.updateTicker.pause(),this.overshootXTicker.pause(),this.overshootYTicker.pause();for(let t in this.animate.animations)this.animate.animations[t].pause();return Ee(this,null,"x"),Ee(this,null,"y"),Ee(this,null,"progressX"),Ee(this,null,"progressY"),Ee(this.scroll),Ee(this.overshootCoords),this}scrollInView(t,i=0,s=Oi.inOutQuad){this.updateScrollCoords();const r=this.destX,n=this.destY,o=this.scroll,a=this.scrollBounds,l=this.canScroll;if(!this.containerArray&&this.isOutOfBounds(a,r,n)){const[h,c,d,p]=a,m=D(N(n-h,-1e12,0),0),g=D(N(r-c,0,Si),0),f=D(N(n-d,0,Si),0),u=D(N(r-p,-1e12,0),0);new oi(o,{x:D(o.x+(u?u-i:g?g+i:0),0),y:D(o.y+(m?m-i:f?f+i:0),0),duration:L(t)?350*nt.timeScale:t,ease:s,onUpdate:()=>{this.canScroll=!1,this.$scrollContainer.scrollTo(o.x,o.y)}}).init().then(()=>{this.canScroll=l})}return this}handleHover(){this.isFinePointer&&this.cursor&&!this.cursorStyles&&(this.cursorStyles=Ae(this.$trigger,{cursor:this.cursor.onHover}))}animateInView(t,i=0,s=Oi.inOutQuad){this.stop(),this.updateBoundingValues();const r=this.x,n=this.y,[o,a,l,h]=this.containerPadding,c=this.scroll.y-this.targetBounds[0]+o+i,d=this.scroll.x-this.targetBounds[1]-a-i,p=this.scroll.y-this.targetBounds[2]-l-i,m=this.scroll.x-this.targetBounds[3]+h+i,g=this.isOutOfBounds([c,d,p,m],r,n);if(g){const[f,u]=this.disabled,_=N(ei(r,this.snapX),m,d),v=N(ei(n,this.snapY),c,p),y=L(t)?350*nt.timeScale:t;!f&&(g===1||g===3)&&this.animate[this.xProp](_,y,s),!u&&(g===2||g===3)&&this.animate[this.yProp](v,y,s)}return this}handleDown(t){const i=t.target;if(this.grabbed||i.type==="range")return;t.stopPropagation(),this.grabbed=!0,this.released=!1,this.stop(),this.updateBoundingValues();const s=t.changedTouches,r=s?s[0].clientX:t.clientX,n=s?s[0].clientY:t.clientY,{x:o,y:a}=this.transforms.normalizePoint(r,n),[l,h,c,d]=this.containerBounds,p=(1-this.containerFriction)*this.dragSpeed,m=this.x,g=this.y;this.coords[0]=this.coords[2]=p?m>h?h+(m-h)/p:m<d?d+(m-d)/p:m:m,this.coords[1]=this.coords[3]=p?g>c?c+(g-c)/p:g<l?l+(g-l)/p:g:g,this.pointer[0]=o,this.pointer[1]=a,this.pointer[2]=o,this.pointer[3]=a,this.pointer[4]=o,this.pointer[5]=a,this.pointer[6]=o,this.pointer[7]=a,this.deltaX=0,this.deltaY=0,this.velocity=0,this.velocityStack[0]=0,this.velocityStack[1]=0,this.velocityStack[2]=0,this.velocityStackIndex=0,this.angle=0,this.targetStyles&&(this.targetStyles.revert(),this.targetStyles=null);const f=Xe(this.$target,"zIndex",!1);ps=(f>ps?f:ps)+1,this.targetStyles=Ae(this.$target,{zIndex:ps}),this.triggerStyles&&(this.triggerStyles.revert(),this.triggerStyles=null),this.cursorStyles&&(this.cursorStyles.revert(),this.cursorStyles=null),this.isFinePointer&&this.cursor&&(this.bodyStyles=Ae(H.body,{cursor:this.cursor.onGrab})),this.scrollInView(100,0,Oi.out(3)),this.onGrab(this),H.addEventListener("touchmove",this),H.addEventListener("touchend",this),H.addEventListener("touchcancel",this),H.addEventListener("mousemove",this),H.addEventListener("mouseup",this),H.addEventListener("selectstart",this)}handleMove(t){if(!this.grabbed)return;const i=t.changedTouches,s=i?i[0].clientX:t.clientX,r=i?i[0].clientY:t.clientY,{x:n,y:o}=this.transforms.normalizePoint(s,r),a=n-this.pointer[6],l=o-this.pointer[7];let h=t.target,c=!1,d=!1,p=!1;for(;i&&h&&h!==this.$trigger;){const m=Xe(h,"overflow-y");if(m!=="hidden"&&m!=="visible"){const{scrollTop:g,scrollHeight:f,clientHeight:u}=h;if(f>u){p=!0,c=g<=3,d=g>=f-u-3;break}}h=h.parentNode}p&&(!c&&!d||c&&l<0||d&&l>0)?(this.pointer[0]=n,this.pointer[1]=o,this.pointer[2]=n,this.pointer[3]=o,this.pointer[4]=n,this.pointer[5]=o,this.pointer[6]=n,this.pointer[7]=o):(Fe(t),this.triggerStyles||(this.triggerStyles=Ae(this.$trigger,{pointerEvents:"none"})),this.$trigger.addEventListener("touchstart",Fe,{passive:!1}),this.$trigger.addEventListener("touchmove",Fe,{passive:!1}),this.$trigger.addEventListener("touchend",Fe),(!this.disabled[0]&&_e(a)>3||!this.disabled[1]&&_e(l)>3)&&(this.updateTicker.resume(),this.pointer[2]=this.pointer[0],this.pointer[3]=this.pointer[1],this.pointer[0]=n,this.pointer[1]=o,this.dragged=!0,this.released=!1,this.onDrag(this)))}handleUp(){if(!this.grabbed)return;this.updateTicker.pause(),this.triggerStyles&&(this.triggerStyles.revert(),this.triggerStyles=null),this.bodyStyles&&(this.bodyStyles.revert(),this.bodyStyles=null);const[t,i]=this.disabled,[s,r,n,o,a,l]=this.pointer,[h,c,d,p]=this.containerBounds,[m,g]=this.snapped,f=this.releaseXSpring,u=this.releaseYSpring,_=this.releaseEase,v=this.hasReleaseSpring,y=this.overshootCoords,S=this.x,w=this.y,A=this.computeVelocity(s-a,r-l),O=this.angle=Ss(r-o,s-n),P=A*150,C=(1-this.releaseContainerFriction)*this.dragSpeed,z=S+Br(O)*P,x=w+zr(O)*P,k=z>c?c+(z-c)*C:z<p?p+(z-p)*C:z,X=x>d?d+(x-d)*C:x<h?h+(x-h)*C:x,R=this.destX=N(D(ei(k,this.snapX),5),p,c),V=this.destY=N(D(ei(X,this.snapY),5),h,d),F=this.isOutOfBounds(this.containerBounds,z,x);let W=0,U=0,E=_,lt=_,at=0;if(y.x=S,y.y=w,!t){const It=R===c?S>c?-1:1:S<p?-1:1,gt=D(S-R,0);f.velocity=i&&v?gt?P*It/_e(gt):0:A;const{ease:_t,duration:pt,restDuration:vt}=f;W=S===R?0:v?pt:pt-vt*nt.timeScale,v&&(E=_t),W>at&&(at=W)}if(!i){const It=V===d?w>d?-1:1:w<h?-1:1,gt=D(w-V,0);u.velocity=t&&v?gt?P*It/_e(gt):0:A;const{ease:_t,duration:pt,restDuration:vt}=u;U=w===V?0:v?pt:pt-vt*nt.timeScale,v&&(lt=_t),U>at&&(at=U)}if(!v&&F&&C&&(W||U)){const It=At.blend;new oi(y,{x:{to:k,duration:W*.65},y:{to:X,duration:U*.65},ease:_,composition:It}).init(),new oi(y,{x:{to:R,duration:W},y:{to:V,duration:U},ease:_,composition:It}).init(),this.overshootXTicker.stretch(W).restart(),this.overshootYTicker.stretch(U).restart()}else t||this.animate[this.xProp](R,W,E),i||this.animate[this.yProp](V,U,lt);this.scrollInView(at,this.scrollThreshold,_);let Ft=!1;R!==m&&(this.snapped[0]=R,this.snapX&&(Ft=!0)),V!==g&&this.snapY&&(this.snapped[1]=V,this.snapY&&(Ft=!0)),Ft&&this.onSnap(this),this.grabbed=!1,this.dragged=!1,this.updated=!0,this.released=!0,this.onRelease(this),this.$trigger.removeEventListener("touchstart",Fe),this.$trigger.removeEventListener("touchmove",Fe),this.$trigger.removeEventListener("touchend",Fe),H.removeEventListener("touchmove",this),H.removeEventListener("touchend",this),H.removeEventListener("touchcancel",this),H.removeEventListener("mousemove",this),H.removeEventListener("mouseup",this),H.removeEventListener("selectstart",this)}reset(){return this.stop(),this.resizeTicker.pause(),this.grabbed=!1,this.dragged=!1,this.updated=!1,this.released=!1,this.canScroll=!1,this.setX(0,!0),this.setY(0,!0),this.coords[0]=0,this.coords[1]=0,this.pointer[0]=0,this.pointer[1]=0,this.pointer[2]=0,this.pointer[3]=0,this.pointer[4]=0,this.pointer[5]=0,this.pointer[6]=0,this.pointer[7]=0,this.velocity=0,this.velocityStack[0]=0,this.velocityStack[1]=0,this.velocityStack[2]=0,this.velocityStackIndex=0,this.angle=0,this}enable(){return this.enabled||(this.enabled=!0,this.$target.classList.remove("is-disabled"),this.touchActionStyles=Ae(this.$trigger,{touchAction:this.disabled[0]?"pan-x":this.disabled[1]?"pan-y":"none"}),this.$trigger.addEventListener("touchstart",this,{passive:!0}),this.$trigger.addEventListener("mousedown",this,{passive:!0}),this.$trigger.addEventListener("mouseenter",this)),this}disable(){return this.enabled=!1,this.grabbed=!1,this.dragged=!1,this.updated=!1,this.released=!1,this.canScroll=!1,this.touchActionStyles.revert(),this.cursorStyles&&(this.cursorStyles.revert(),this.cursorStyles=null),this.triggerStyles&&(this.triggerStyles.revert(),this.triggerStyles=null),this.bodyStyles&&(this.bodyStyles.revert(),this.bodyStyles=null),this.targetStyles&&(this.targetStyles.revert(),this.targetStyles=null),this.stop(),this.$target.classList.add("is-disabled"),this.$trigger.removeEventListener("touchstart",this),this.$trigger.removeEventListener("mousedown",this),this.$trigger.removeEventListener("mouseenter",this),H.removeEventListener("touchmove",this),H.removeEventListener("touchend",this),H.removeEventListener("touchcancel",this),H.removeEventListener("mousemove",this),H.removeEventListener("mouseup",this),H.removeEventListener("selectstart",this),this}revert(){return this.reset(),this.disable(),this.$target.classList.remove("is-disabled"),this.updateTicker.revert(),this.overshootXTicker.revert(),this.overshootYTicker.revert(),this.resizeTicker.revert(),this.animate.revert(),this}handleEvent(t){switch(t.type){case"mousedown":this.handleDown(t);break;case"touchstart":this.handleDown(t);break;case"mousemove":this.handleMove(t);break;case"touchmove":this.handleMove(t);break;case"mouseup":this.handleUp();break;case"touchend":this.handleUp();break;case"touchcancel":this.handleUp();break;case"mouseenter":this.handleHover();break;case"selectstart":Fe(t);break}}}const Un=(e,t)=>new Vc(e,t),Hc=()=>{const e=document.createElement("div");H.body.appendChild(e),e.style.height="100lvh";const t=e.offsetHeight;return H.body.removeChild(e),t},ms=(e,t)=>e&&De(e)?e(t):e,Ir=new Map;class qc{constructor(t){this.element=t,this.useWin=this.element===H.body,this.winWidth=0,this.winHeight=0,this.width=0,this.height=0,this.left=0,this.top=0,this.zIndex=0,this.scrollX=0,this.scrollY=0,this.prevScrollX=0,this.prevScrollY=0,this.scrollWidth=0,this.scrollHeight=0,this.velocity=0,this.backwardX=!1,this.backwardY=!1,this.scrollTicker=new se({autoplay:!1,onBegin:()=>this.dataTimer.resume(),onUpdate:()=>{const i=this.backwardX||this.backwardY;ot(this,s=>s.handleScroll(),i)},onComplete:()=>this.dataTimer.pause()}).init(),this.dataTimer=new se({autoplay:!1,frameRate:30,onUpdate:i=>{const s=i.deltaTime,r=this.prevScrollX,n=this.prevScrollY,o=this.scrollX,a=this.scrollY,l=r-o,h=n-a;this.prevScrollX=o,this.prevScrollY=a,l&&(this.backwardX=r>o),h&&(this.backwardY=n>a),this.velocity=D(s>0?Math.sqrt(l*l+h*h)/s:0,5)}}).init(),this.resizeTicker=new se({autoplay:!1,duration:250*nt.timeScale,onComplete:()=>{this.updateWindowBounds(),this.refreshScrollObservers(),this.handleScroll()}}).init(),this.wakeTicker=new se({autoplay:!1,duration:500*nt.timeScale,onBegin:()=>{this.scrollTicker.resume()},onComplete:()=>{this.scrollTicker.pause()}}).init(),this._head=null,this._tail=null,this.updateScrollCoords(),this.updateWindowBounds(),this.updateBounds(),this.refreshScrollObservers(),this.handleScroll(),this.resizeObserver=new ResizeObserver(()=>this.resizeTicker.restart()),this.resizeObserver.observe(this.element),(this.useWin?$t:this.element).addEventListener("scroll",this,!1)}updateScrollCoords(){const t=this.useWin,i=this.element;this.scrollX=D(t?$t.scrollX:i.scrollLeft,0),this.scrollY=D(t?$t.scrollY:i.scrollTop,0)}updateWindowBounds(){this.winWidth=$t.innerWidth,this.winHeight=Hc()}updateBounds(){const t=getComputedStyle(this.element),i=this.element;this.scrollWidth=i.scrollWidth+parseFloat(t.marginLeft)+parseFloat(t.marginRight),this.scrollHeight=i.scrollHeight+parseFloat(t.marginTop)+parseFloat(t.marginBottom),this.updateWindowBounds();let s,r;if(this.useWin)s=this.winWidth,r=this.winHeight;else{const n=i.getBoundingClientRect();s=n.width,r=n.height,this.top=n.top,this.left=n.left}this.width=s,this.height=r}refreshScrollObservers(){ot(this,t=>{t._debug&&t.removeDebug()}),this.updateBounds(),ot(this,t=>{t.refresh(),t._debug&&t.debug()})}refresh(){this.updateWindowBounds(),this.updateBounds(),this.refreshScrollObservers(),this.handleScroll()}handleScroll(){this.updateScrollCoords(),this.wakeTicker.restart()}handleEvent(t){switch(t.type){case"scroll":this.handleScroll();break}}revert(){this.scrollTicker.cancel(),this.dataTimer.cancel(),this.resizeTicker.cancel(),this.wakeTicker.cancel(),this.resizeObserver.unobserve(this.element),(this.useWin?$t:this.element).removeEventListener("scroll",this),Ir.delete(this.element)}}const $c=e=>{const t=e&&he(e)[0]||H.body;let i=Ir.get(t);return i||(i=new qc(t),Ir.set(t,i)),i},Ri=(e,t,i,s,r)=>{const n=t==="min",o=t==="max",a=t==="top"||t==="left"||t==="start"||n?0:t==="bottom"||t==="right"||t==="end"||o?"100%":t==="center"?"50%":t,{n:l,u:h}=te(a,qt);let c=l;return h==="%"?c=l/100*i:h&&(c=$r(e,qt,"px",!0).n),o&&s<0&&(c+=s),n&&r>0&&(c+=r),c},gs=(e,t,i,s,r)=>{let n;if(ye(t)){const o=Jo.exec(t);if(o){const a=o[0],l=a[0],h=t.split(a),c=h[0]==="min",d=h[0]==="max",p=Ri(e,h[0],i,s,r),m=Ri(e,h[1],i,s,r);if(c){const g=Ei(Ri(e,"min",i),m,l);n=g<p?p:g}else if(d){const g=Ei(Ri(e,"max",i),m,l);n=g>p?p:g}else n=Ei(p,m,l)}else n=Ri(e,t,i,s,r)}else n=t;return D(n,0)},Wn=e=>{let t;const i=e.targets;for(let s=0,r=i.length;s<r;s++){const n=i[s];if(n[Us]){t=n;break}}return t};let Uc=0;const Gn=["#FF4B4B","#FF971B","#FFC730","#F9F640","#7AFF5A","#18FF74","#17E09B","#3CFFEC","#05DBE9","#33B3F1","#638CF9","#C563FE","#FF4FCF","#F93F8A"];class Wc{constructor(t={}){const i=B(t.sync,"play pause"),s=i?di(i):null,r=i&&(i==="linear"||i===Ze),n=i&&!(s===Ze&&!r),o=i&&(Be(i)||i===!0||r),a=i&&ye(i)&&!n&&!o,l=a?i.split(" ").map(c=>()=>{const d=this.linked;return d&&d[c]?d[c]():null}):null,h=a&&l.length>2;this.index=Uc++,this.id=L(t.id)?this.index:t.id,this.container=$c(t.container),this.target=null,this.linked=null,this.repeat=null,this.horizontal=null,this.enter=null,this.leave=null,this.sync=n||o||!!l,this.syncEase=n?s:null,this.syncSmooth=o?i===!0||r?1:i:null,this.onSyncEnter=l&&!h&&l[0]?l[0]:j,this.onSyncLeave=l&&!h&&l[1]?l[1]:j,this.onSyncEnterForward=l&&h&&l[0]?l[0]:j,this.onSyncLeaveForward=l&&h&&l[1]?l[1]:j,this.onSyncEnterBackward=l&&h&&l[2]?l[2]:j,this.onSyncLeaveBackward=l&&h&&l[3]?l[3]:j,this.onEnter=t.onEnter||j,this.onLeave=t.onLeave||j,this.onEnterForward=t.onEnterForward||j,this.onLeaveForward=t.onLeaveForward||j,this.onEnterBackward=t.onEnterBackward||j,this.onLeaveBackward=t.onLeaveBackward||j,this.onUpdate=t.onUpdate||j,this.onSyncComplete=t.onSyncComplete||j,this.reverted=!1,this.completed=!1,this.began=!1,this.isInView=!1,this.forceEnter=!1,this.hasEntered=!1,this.offsets=[],this.offset=0,this.offsetStart=0,this.offsetEnd=0,this.distance=0,this.prevProgress=0,this.thresholds=["start","end","end","start"],this.coords=[0,0,0,0],this.debugStyles=null,this.$debug=null,this._params=t,this._debug=B(t.debug,!1),this._next=null,this._prev=null,Ye(this.container,this),pa(()=>{if(!this.reverted){if(!this.target){const c=he(t.target)[0];this.target=c||H.body,this.refresh()}this._debug&&this.debug()}})}link(t){if(t&&(t.pause(),this.linked=t,!this._params.target)){let i;L(t.targets)?ot(t,s=>{s.targets&&!i&&(i=Wn(s))}):i=Wn(t),this.target=i||H.body,this.refresh()}return this}get velocity(){return this.container.velocity}get backward(){return this.horizontal?this.container.backwardX:this.container.backwardY}get scroll(){return this.horizontal?this.container.scrollX:this.container.scrollY}get progress(){const t=(this.scroll-this.offsetStart)/this.distance;return t===1/0||isNaN(t)?0:D(N(t,0,1),6)}refresh(){this.reverted=!1;const t=this._params;return this.repeat=B(ms(t.repeat,this),!0),this.horizontal=B(ms(t.axis,this),"y")==="x",this.enter=B(ms(t.enter,this),"end start"),this.leave=B(ms(t.leave,this),"start end"),this.updateBounds(),this.handleScroll(),this}removeDebug(){return this.$debug&&(this.$debug.parentNode.removeChild(this.$debug),this.$debug=null),this.debugStyles&&(this.debugStyles.revert(),this.$debug=null),this}debug(){this.removeDebug();const t=this.container,i=this.horizontal,s=t.element.querySelector(":scope > .animejs-onscroll-debug"),r=H.createElement("div"),n=H.createElement("div"),o=H.createElement("div"),a=Gn[this.index%Gn.length],l=t.useWin,h=l?t.winWidth:t.width,c=l?t.winHeight:t.height,d=t.scrollWidth,p=t.scrollHeight,m=this.container.width>360?320:260,g=i?0:10,f=i?10:0,u=i?24:m/2,_=i?u:15,v=i?60:u,y=i?v:_,S=i?"repeat-x":"repeat-y",w=z=>i?"0px "+z+"px":z+"px 2px",A=z=>`linear-gradient(${i?90:0}deg, ${z} 2px, transparent 1px)`,O=(z,x,k,X,R)=>`position:${z};left:${x}px;top:${k}px;width:${X}px;height:${R}px;`;r.style.cssText=`${O("absolute",g,f,i?d:m,i?m:p)}
      pointer-events: none;
      z-index: ${this.container.zIndex++};
      display: flex;
      flex-direction: ${i?"column":"row"};
      filter: drop-shadow(0px 1px 0px rgba(0,0,0,.75));
    `,n.style.cssText=`${O("sticky",0,0,i?h:u,i?u:c)}`,s||(n.style.cssText+=`background:
        ${A("#FFFF")}${w(u-10)} / 100px 100px ${S},
        ${A("#FFF8")}${w(u-10)} / 10px 10px ${S};
      `),o.style.cssText=`${O("relative",0,0,i?d:u,i?u:p)}`,s||(o.style.cssText+=`background:
        ${A("#FFFF")}${w(0)} / ${i?"100px 10px":"10px 100px"} ${S},
        ${A("#FFF8")}${w(0)} / ${i?"10px 0px":"0px 10px"} ${S};
      `);const P=[" enter: "," leave: "];this.coords.forEach((z,x)=>{const k=x>1,X=(k?0:this.offset)+z,R=x%2,V=X<y,F=X>(k?i?h:c:i?d:p)-y,W=(k?R&&!V:!R&&!V)||F,U=H.createElement("div"),E=H.createElement("div"),lt=i?W?"right":"left":W?"bottom":"top",at=W?(i?v:_)+(k?i?-1:F?0:-2:i?-1:-2):i?1:0;E.innerHTML=`${this.id}${P[R]}${this.thresholds[x]}`,U.style.cssText=`${O("absolute",0,0,v,_)}
        display: flex;
        flex-direction: ${i?"column":"row"};
        justify-content: flex-${k?"start":"end"};
        align-items: flex-${W?"end":"start"};
        border-${lt}: 2px solid ${a};
      `,E.style.cssText=`
        overflow: hidden;
        max-width: ${m/2-10}px;
        height: ${_};
        margin-${i?W?"right":"left":W?"bottom":"top"}: -2px;
        padding: 1px;
        font-family: ui-monospace, monospace;
        font-size: 10px;
        letter-spacing: -.025em;
        line-height: 9px;
        font-weight: 600;
        text-align: ${i&&W||!i&&!k?"right":"left"};
        white-space: pre;
        text-overflow: ellipsis;
        color: ${R?a:"rgba(0,0,0,.75)"};
        background-color: ${R?"rgba(0,0,0,.65)":a};
        border: 2px solid ${R?a:"transparent"};
        border-${i?W?"top-left":"top-right":W?"top-left":"bottom-left"}-radius: 5px;
        border-${i?W?"bottom-left":"bottom-right":W?"top-right":"bottom-right"}-radius: 5px;
      `,U.appendChild(E);let Ft=X-at+(i?1:0);U.style[i?"left":"top"]=`${Ft}px`,(k?n:o).appendChild(U)}),r.appendChild(n),r.appendChild(o),t.element.appendChild(r),s||r.classList.add("animejs-onscroll-debug"),this.$debug=r,Xe(t.element,"position")==="static"&&(this.debugStyles=Ae(t.element,{position:"relative "}))}updateBounds(){this._debug&&this.removeDebug();let t;const i=this.target,s=this.container,r=this.horizontal,n=this.linked;let o,a=i,l=0,h=0,c=a;n&&(o=n.currentTime,n.seek(0,!0));const d=Xe(s.element,"position")==="static"?Ae(s.element,{position:"relative "}):!1;for(;a&&a!==s.element&&a!==H.body;){const F=Xe(a,"position")==="sticky"?Ae(a,{position:"static"}):!1;a===c&&(l+=a.offsetLeft||0,h+=a.offsetTop||0,c=a.offsetParent),a=a.parentElement,F&&(t||(t=[]),t.push(F))}d&&d.revert();const p=r?l:h,m=r?i.offsetWidth:i.offsetHeight,g=r?s.width:s.height,u=(r?s.scrollWidth:s.scrollHeight)-g,_=this.enter,v=this.leave;let y="start",S="end",w="end",A="start";if(ye(_)){const F=_.split(" ");w=F[0],y=F.length>1?F[1]:y}else if(Ct(_)){const F=_;L(F.container)||(w=F.container),L(F.target)||(y=F.target)}else Be(_)&&(w=_);if(ye(v)){const F=v.split(" ");A=F[0],S=F.length>1?F[1]:S}else if(Ct(v)){const F=v;L(F.container)||(A=F.container),L(F.target)||(S=F.target)}else Be(v)&&(A=v);const O=gs(i,y,m),P=gs(i,S,m),C=O+p-g,z=P+p-u,x=gs(i,w,g,C,z),k=gs(i,A,g,C,z),X=O+p-x,R=P+p-k,V=R-X;this.offsets[0]=l,this.offsets[1]=h,this.offset=p,this.offsetStart=X,this.offsetEnd=R,this.distance=V<=0?0:V,this.thresholds=[y,S,w,A],this.coords=[O,P,x,k],t&&t.forEach(F=>F.revert()),n&&n.seek(o,!0),this._debug&&this.debug()}handleScroll(){const t=this.linked,i=this.sync,s=this.syncEase,r=this.syncSmooth,n=t&&(s||r),o=this.horizontal,a=this.container,l=this.scroll,h=l<=this.offsetStart,c=l>=this.offsetEnd,d=!h&&!c,p=l===this.offsetStart||l===this.offsetEnd,m=!this.hasEntered&&p,g=this._debug&&this.$debug;let f=!1,u=!1,_=this.progress;if(h&&this.began&&(this.began=!1),_>0&&!this.began&&(this.began=!0),n){const v=t.progress;if(r&&Be(r)){if(r<1){const S=v<_&&_===1?1e-4:v>_&&!_?-1e-4:0;_=D(ma(v,_,Te(.01,.2,r),!1)+S,6)}}else s&&(_=s(_));f=_!==this.prevProgress,u=v===1,f&&!u&&r&&v&&a.wakeTicker.restart()}if(g){const v=o?a.scrollY:a.scrollX;g.style[o?"top":"left"]=v+10+"px"}(d&&!this.isInView||m&&!this.forceEnter&&!this.hasEntered)&&(d&&(this.isInView=!0),!this.forceEnter||!this.hasEntered?(g&&d&&(g.style.zIndex=`${this.container.zIndex++}`),this.onSyncEnter(this),this.onEnter(this),this.backward?(this.onSyncEnterBackward(this),this.onEnterBackward(this)):(this.onSyncEnterForward(this),this.onEnterForward(this)),this.hasEntered=!0,m&&(this.forceEnter=!0)):d&&(this.forceEnter=!1)),(d||!d&&this.isInView)&&(f=!0),f&&(n&&t.seek(t.duration*_),this.onUpdate(this)),!d&&this.isInView&&(this.isInView=!1,this.onSyncLeave(this),this.onLeave(this),this.backward?(this.onSyncLeaveBackward(this),this.onLeaveBackward(this)):(this.onSyncLeaveForward(this),this.onLeaveForward(this)),i&&!r&&(u=!0)),_>=1&&this.began&&!this.completed&&(i&&u||!i)&&(i&&this.onSyncComplete(this),this.completed=!0,(!this.repeat&&!t||!this.repeat&&t&&t.completed)&&this.revert()),_<1&&this.completed&&(this.completed=!1),this.prevProgress=_}revert(){if(this.reverted)return;const t=this.container;return ke(t,this),t._head||t.revert(),this._debug&&this.removeDebug(),this.reverted=!0,this}}const Gc=(e={})=>new Wc(e),Pi=(e,t={})=>{let i=[],s=0;const r=t.from,n=t.reversed,o=t.ease,a=!L(o),h=a&&!L(o.ease)?o.ease:a?di(o):null,c=t.grid,d=t.axis,p=L(r)||r===0||r==="first",m=r==="center",g=r==="last",f=ie(e),u=si(f?e[0]:e),_=f?si(e[1]):0,v=Ko.exec((f?e[1]:e)+ze),y=t.start||0+(f?u:0);let S=p?0:Be(r)?r:0;return(w,A,O,P)=>{if(m&&(S=(O-1)/2),g&&(S=O-1),!i.length){for(let k=0;k<O;k++){if(!c)i.push(_e(S-k));else{const X=m?(c[0]-1)/2:S%c[0],R=m?(c[1]-1)/2:ji(S/c[0]),V=k%c[0],F=ji(k/c[0]),W=X-V,U=R-F;let E=qe(W*W+U*U);d==="x"&&(E=-W),d==="y"&&(E=-U),i.push(E)}s=na(...i)}h&&(i=i.map(k=>h(k/s)*s)),n&&(i=i.map(k=>d?k<0?k*-1:-k:_e(s-k)))}const C=f?(_-u)/s:u;let x=(P?Ts(P,L(t.start)?P.iterationDuration:y):y)+(C*D(i[A],2)||0);return t.modifier&&(x=t.modifier(x)),v&&(x=`${x}${v[2]}`),x}};function jc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pr,jn;function Zc(){if(jn)return pr;jn=1;var e=4,t=.001,i=1e-7,s=10,r=11,n=1/(r-1),o=typeof Float32Array=="function";function a(f,u){return 1-3*u+3*f}function l(f,u){return 3*u-6*f}function h(f){return 3*f}function c(f,u,_){return((a(u,_)*f+l(u,_))*f+h(u))*f}function d(f,u,_){return 3*a(u,_)*f*f+2*l(u,_)*f+h(u)}function p(f,u,_,v,y){var S,w,A=0;do w=u+(_-u)/2,S=c(w,v,y)-f,S>0?_=w:u=w;while(Math.abs(S)>i&&++A<s);return w}function m(f,u,_,v){for(var y=0;y<e;++y){var S=d(u,_,v);if(S===0)return u;var w=c(u,_,v)-f;u-=w/S}return u}function g(f){return f}return pr=function(u,_,v,y){if(!(0<=u&&u<=1&&0<=v&&v<=1))throw new Error("bezier x values must be in [0, 1] range");if(u===_&&v===y)return g;for(var S=o?new Float32Array(r):new Array(r),w=0;w<r;++w)S[w]=c(w*n,u,v);function A(O){for(var P=0,C=1,z=r-1;C!==z&&S[C]<=O;++C)P+=n;--C;var x=(O-S[C])/(S[C+1]-S[C]),k=P+x*n,X=d(k,u,v);return X>=t?m(O,k,u,v):X===0?k:p(O,P,P+n,u,v)}return function(P){return P===0?0:P===1?1:c(A(P),_,y)}},pr}var Qc=Zc();const Kc=jc(Qc),G=document.documentElement,$e={isTouchDevice:()=>{var e=" -webkit- -moz- -o- -ms- ".split(" "),t=function(s){return window.matchMedia(s).matches};if("ontouchstart"in window)return!0;var i=["(",e.join("touch-enabled),("),"heartz",")"].join("");return t(i)},viewportSize:()=>[window.innerWidth||G.clientWidth||document.body.clientWidth,window.innerHeight||G.clientHeight||document.body.clientHeight],elementCenterPos:e=>{const t=e.getBoundingClientRect();return[t.left+t.width/2,t.top+t.height/2]},scrollbarWidth:(e=!1)=>{let t=window.innerWidth-G.clientWidth;if(e){const i=parseFloat(window.getComputedStyle(G).getPropertyValue("--scrollbar-width").replace("px",""));t=i>t?i:t}return G.style.setProperty("--scrollbar-width",(t>0?t:0)+"px"),t},randomIntFromInterval:(e,t)=>Math.floor(Math.random()*(t-e+1)+e),arrayOfElements:(e=[],t=document)=>{let i=[];return e.forEach(s=>{t.querySelectorAll(s).forEach(r=>{i.includes(r)||i.push(r)})}),i},removeAllChildNodes:e=>{for(;e.firstChild;)e.removeChild(e.firstChild)},isChildOf:(e,t)=>{for(;(e=e.parentNode)&&e!==t;);return!!e}};window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};window.performance=window.performance||{};performance.now=performance.now||performance.webkitNow||function(){return new Date().getTime()};function Zn(e,t,i){return(1-i)*e+i*t}function Jc(e,t,i={property:!1,once:!0,debug:!1}){i.property?e.addEventListener("transitionend",r=>{r.propertyName==i.property&&t()},{once:i.once}):e.addEventListener("transitionend",()=>{t()},{once:i.once}),i.debug&&e.addEventListener("transitionend",r=>{console.debug("[atTransitionEnd] "+r.propertyName+(i.property?" (selected)":""),e)});let s=!0;Qn.forEach(r=>{s&=r!=e}),s&&(Qn.push(e),e.childNodes.forEach(r=>{r.addEventListener("transitionend",n=>{n.stopPropagation()})}))}let Qn=[],mt={vpSizeBreakpoints:{current:{w:""},breakpoints:{w:{square:1100,vertical:700}}},init:()=>{mt.vpSize=$e.viewportSize(),mt.vpSize[0]<mt.vpSizeBreakpoints.breakpoints.w.square?mt.vpSize[0]<mt.vpSizeBreakpoints.breakpoints.w.vertical?mt.vpSizeBreakpoints.current.w="vpWidthVertical":mt.vpSizeBreakpoints.current.w="vpWidthSquare":mt.vpSizeBreakpoints.current.w="vpWidthDefault"}};mt.init();window.addEventListener("resize",mt.init);let K;const rt={options:{scroll:{lenisOptions:{smoothWheel:!0,smoothTouch:!1,wheelMultiplier:.775,duration:1.15,easing:e=>Math.min(1,1.005-Math.pow(5,-6.75*e)),orientation:"vertical",gestureOrientation:"vertical"},triggerRootMargin:"-1px -1px -1px -1px",rafRootMargin:"100% 100% 100% 100%",autoResize:!0,autoStart:!1},scrollTo:{offset:0,duration:.9,immediate:!1,lock:!1,easing:e=>Kc(.45,0,.05,1)(e)}},resize:(e,t=200)=>{setTimeout(()=>{e.resize()},t)},getScroll:e=>e.lenisInstance.animatedScroll,getScrollTarget:e=>e.lenisInstance.targetScroll,initEvents:()=>{window.addEventListener("scrollHit",e=>{if(e.detail.progress>=1){e.detail.target.classList.add("is-scroll-hit");return}else e.detail.target.classList.remove("is-scroll-hit")})}};let Lt={elements:{menusContainers:document.querySelectorAll(".sticky-menu wrapper[menu-show-id]"),projectNameSpan:document.querySelector(".sticky-menu wrapper[menu-show-id] .project-name"),projectH1:void 0},init:()=>{G.setAttribute("thalia-sticky-menu-state","false"),Lt.elements.menusContainers.forEach(e=>{e.setAttribute("menu-show-state","false")}),Lt.toggleMenuFromURL(me.location.pathname),me.hooks.on("content:replace",e=>{Lt.toggleMenuFromURL(e.to.url)}),window.addEventListener("scrollStickyMenu",e=>{if(rt.getScroll(K)<5){G.setAttribute("thalia-sticky-menu-state","true");return}G.setAttribute("thalia-sticky-menu-state",e.detail.way==="enter")})},triggerAnimate:(e,t=!1)=>{e.style.width=e.firstElementChild.getBoundingClientRect().width+"px",setTimeout(()=>{e.setAttribute("menu-show-state","transition-"+t),Jc(e,()=>{e.setAttribute("menu-show-state",t),e.style.width=null},{once:!0})},100)},toggleMenu:e=>{e==="project"&&(Lt.elements.projectH1=document.querySelector(".section-main-gallery h1.project-title"),Lt.elements.projectH1?(Lt.elements.projectNameSpan.parentElement.classList.remove("hide"),Lt.elements.projectNameSpan.innerText=Lt.elements.projectH1.innerText):(Lt.elements.projectNameSpan.parentElement.classList.add("hide"),Lt.elements.projectNameSpan.innerText=""));const t=document.querySelectorAll('*[menu-show-id="'+e+'"]');if(t.length<=0){console.error("[STICKY_MENU.toggleMenu] not found : "+e);return}Lt.elements.menusContainers.forEach(i=>{i.getAttribute("menu-show-id")!==e&&Lt.triggerAnimate(i,!1)}),t.forEach(i=>{i.getAttribute("menu-show-state").includes("true")||Lt.triggerAnimate(i,!0)})},toggleMenuFromURL:e=>{e!=="/"?Lt.toggleMenu("project"):Lt.toggleMenu("filters")}},b={options:{dragIntensity:{vpWidthDefault:[.5,.6],vpWidthSquare:[.5,.6],vpWidthVertical:[.5,.4]},angleDamping:.025,look:{maxDistance:10,damping:[20,15]},blink:{startTimeout:2e3,interval:4e3,randomIntervalAdd:1e4,speed:190}},data:{dragPos:[0,0],look:{},blinkIntervalInstance:null},elements:{dragContainer:document.querySelector("main"),contentContainer:document.querySelector(".section-main-head"),main:document.querySelector(".interactive-chara-thalia svg.thalia-chara"),mainEyes:document.querySelector(".interactive-chara-thalia svg.thalia-chara g[data-name='eyes']"),hands:document.querySelectorAll(".chara-thalia--hands svg.thalia-chara"),socialBtns:document.querySelectorAll(".section-main-head .socials .social-btn")},interactions:{init:()=>{b.elements.main&&!b.data.activated&&(b.data.activated=!0,b.data.state="resting",G.setAttribute("thalia-chara-state","resting"),b.interactions.toggleHands(!0),window.addEventListener("scrollThaliaCharaHandsToggle",e=>{if(rt.getScroll(K)<5){b.interactions.toggleHands(!0);return}b.interactions.toggleHands(e.detail.way==="enter")}),b.interactions.initBlinkHit(),b.interactions.updateEyesPosition(),window.addEventListener("resize",b.interactions.updateEyesPosition),b.elements.contentContainer.addEventListener("pointerenter",b.interactions.updateEyesPosition),mt.isTouch||(b.interactions.look(),b.elements.dragContainer.addEventListener("pointerenter",b.interactions.look),b.elements.dragContainer.addEventListener("pointerleave",b.interactions.unlook)),b.elements.dragContainer.addEventListener("pointerleave",b.interactions.pointerStop),b.elements.dragContainer.addEventListener("pointerup",b.interactions.pointerStop),b.elements.main.addEventListener("pointerdown",b.interactions.pointerActive),G.setAttribute("thalia-social-hover","false"),b.elements.socialBtns.length>0&&!mt.isTouch&&(b.interactions.socialBtnHover=e=>{G.setAttribute("thalia-social-hover","true")},b.interactions.socialBtnOut=e=>{G.setAttribute("thalia-social-hover","false")},b.elements.socialBtns.forEach(e=>{e.addEventListener("pointerenter",b.interactions.socialBtnHover),e.addEventListener("pointerleave",b.interactions.socialBtnOut)}))),b.interactions.enable(),window.addEventListener("scrollThaliaCharaPause",e=>{if(rt.getScroll(K)<5){b.interactions.enable();return}e.detail.way==="enter"?b.interactions.enable():b.interactions.disable()})},enable:()=>{b.elements.dragContainer.addEventListener("pointermove",b.interactions.following),b.interactions.blinkLoopStart()},disable:()=>{b.elements.dragContainer.removeEventListener("pointermove",b.interactions.following),b.interactions.blinkLoopStop()},updateEyesPosition:e=>{rt.resize(K),b.data.look.center=$e.elementCenterPos(b.elements.mainEyes)},look:e=>{b.elements.main.classList.add("looking")},unlook:e=>{b.elements.main.classList.remove("looking")},pointerStop:e=>{const t=Math.abs(b.data.dragPos[0]);G.setAttribute("thalia-chara-drag-strength",t>mt.vpSize[0]/8?"strong":t>15?"weak":"none"),G.style.setProperty("--thalia-chara-drag-direction",b.data.dragPos[0]>0?1:-1),b.data.state="resting",G.setAttribute("thalia-chara-state","resting"),b.elements.main.classList.remove("grabbing")},pointerActive:e=>{b.data.pointerPosStart=[e.clientX,e.clientY],b.data.state="grabbing",b.interactions.following(e),G.setAttribute("thalia-chara-state","grabbing"),b.elements.main.classList.add("grabbing")},following:e=>{b.data.pointerPos=[e.clientX,e.clientY],b.data.state=="grabbing"?(b.data.dragPos=[Zn(0,b.data.pointerPos[0]-b.data.pointerPosStart[0],b.options.dragIntensity[mt.vpSizeBreakpoints.current.w][0]),Zn(0,b.data.pointerPos[1]-b.data.pointerPosStart[1],b.options.dragIntensity[mt.vpSizeBreakpoints.current.w][1])],G.style.setProperty("--thalia-chara-drag-x",b.data.dragPos[0]+"px"),G.style.setProperty("--thalia-chara-drag-y",b.data.dragPos[1]+"px"),G.style.setProperty("--thalia-chara-drag-rotate",b.data.dragPos[0]*b.options.angleDamping+"deg")):mt.isTouch||(b.data.look.posFromCenter=[(b.data.pointerPos[0]-b.data.look.center[0])/b.options.look.damping[0],(b.data.pointerPos[1]-b.data.look.center[1])/b.options.look.damping[1]],b.data.look.distanceFactor=b.options.look.maxDistance/Math.sqrt(b.data.look.posFromCenter[0]*b.data.look.posFromCenter[0]+b.data.look.posFromCenter[1]*b.data.look.posFromCenter[1]),b.data.look.distanceFactor>1?b.data.look.posFromCenter=[b.data.look.posFromCenter[0],b.data.look.posFromCenter[1]]:b.data.look.posFromCenter=[b.data.look.posFromCenter[0]*b.data.look.distanceFactor,b.data.look.posFromCenter[1]*b.data.look.distanceFactor],b.elements.main.style.setProperty("--pointer-follow-look-x",b.data.look.posFromCenter[0]+"px"),b.elements.main.style.setProperty("--pointer-follow-look-y",b.data.look.posFromCenter[1]+"px"))},toggleHands:e=>{G.setAttribute("thalia-chara-hands-toggle",e)},initBlinkHit:()=>{b.interactions.blinkHit(!1),b.elements.hands.forEach(e=>{e.addEventListener("pointerdown",()=>{b.interactions.blinkHit(!0)}),e.addEventListener("pointerup",()=>{b.interactions.blinkHit(!1)}),e.addEventListener("pointerleave",()=>{b.interactions.blinkHit(!1)})})},blinkHit:e=>{G.setAttribute("thalia-chara-state",e?"grabbing":"resting"),b.data.dragPos=[0,0],G.style.setProperty("--thalia-chara-drag-x","0px"),G.style.setProperty("--thalia-chara-drag-y","0px"),G.style.setProperty("--thalia-chara-drag-rotate","0deg")},blink:(e=!1)=>{setTimeout(()=>{G.setAttribute("thalia-chara-blink","true"),setTimeout(()=>{G.setAttribute("thalia-chara-blink","false")},b.options.blink.speed)},e?0:$e.randomIntFromInterval(0,b.options.blink.randomIntervalAdd))},blinkLoopStart:()=>{b.data.blinkIntervalInstance||(setTimeout(()=>{b.interactions.blink(!0)},b.options.blink.startTimeout),b.data.blinkIntervalInstance=setInterval(()=>{b.interactions.blink()},b.options.blink.interval))},blinkLoopStop:()=>{b.data.blinkIntervalInstance&&(clearTimeout(b.data.blinkIntervalInstance),b.data.blinkIntervalInstance=null)}}},Gt;const mr={target:".grid-muuri",gallery:{items:".grid-muuri--item",sortData:null,showDuration:600,showEasing:"cubic-bezier(0.4, 0, 0, 1)",visibleStyles:{opacity:"1",transform:"scale(1)"},hideDuration:400,hideEasing:"cubic-bezier(0.7, 0, 0.4, 1)",hiddenStyles:{opacity:"0",transform:"scale(0.6)"},layout:{fillGaps:!0,horizontal:!1,alignRight:!1,alignBottom:!1,rounding:!1},layoutOnInit:!0,layoutOnResize:150,layoutDuration:800,layoutEasing:"cubic-bezier(0.45, 0, 0, 1)",dragEnabled:!1}};let I={itemsShiftValue:140,data:{currentFilter:null},elements:{section:document.querySelector(".section-main-gallery"),gallerySectionTopAnchor:document.querySelector(".section-main-gallery .anchor-top"),gallerySectionScrollToAnchor:document.querySelector(".section-main-gallery .scroll-to-anchor"),galleryItemsFiltersContainers:void 0,filtersBarBtns:document.querySelectorAll(".sticky-menu wrapper[menu-show-id='filters'] .btn-filter"),filtersClearBtn:document.querySelectorAll("*[thalia-gallery-filter-btn-clear]"),filtersBtns:void 0,shiftItemsMuuri:void 0,shiftItemsContent:[]},init:(e=!0)=>{I.elements.galleryItemsFiltersContainers=document.querySelectorAll(".gallery-grid .item-gallery .filters"),Gt=new $(mr.target,mr.gallery),I.initShiftItems(),I.createItemsFiltersBtns(),I.initItemsFiltersBtns(e),setTimeout(()=>{I.getShiftItemsSize(I.setShiftItemsSize),Gt.refreshItems(),Gt.layout(!0)},1),Gt._settings.hideDuration=0,Gt.layout(!0),setTimeout(()=>{Gt._settings.hideDuration=mr.gallery.hideDuration},200)},initAttributes:()=>{G.hasAttribute("thalia-gallery-filter")||G.setAttribute("thalia-gallery-filter","false")},destroy:()=>{Gt.destroy(),I.elements.filtersBtns=document.querySelectorAll("*[thalia-gallery-filter-btn-id]"),I.elements.filtersBtns.forEach(e=>{if(e){let t=e.cloneNode(!0);e.parentNode.replaceChild(t,e),e=t}}),I.elements.filtersClearBtn.forEach(e=>{e&&e.removeEventListener("click",I.onUnfilter)})},galleryFilter:(e,t)=>!!e.getElement().getAttribute("thalia-gallery-item-filters").match(t),onClickFilter:(e,t=!1)=>{G.setAttribute("thalia-gallery-filter-previous",G.getAttribute("thalia-gallery-filter")),t?(I.onFilter(e,t),rt.resize(K)):(e.getAttribute("thalia-gallery-filter-btn-id")==I.data.currentFilter?(I.onUnfilter(),rt.resize(K)):(I.onFilter(e),rt.resize(K)),I.scrollToTop())},onFilter:(e,t=!1)=>{t?(I.data.currentFilter=e.getAttribute("thalia-gallery-filter-btn-id"),G.setAttribute("thalia-gallery-filter",I.data.currentFilter)):(I.data.currentFilter=e.getAttribute("thalia-gallery-filter-btn-id"),I.setShiftItemsSize(),G.setAttribute("thalia-gallery-filter",I.data.currentFilter),I.filterItems())},onUnfilter:(e=!0)=>{e?(I.data.currentFilter=null,I.setShiftItemsSize(),G.setAttribute("thalia-gallery-filter","false")):I.setShiftItemsSize(),I.filterItems()},filterItems:()=>{const e=!!I.data.currentFilter;Gt.refreshItems(),Gt.filter(t=>(t.getElement().setAttribute("thalia-gallery-item-was-hidden",!t.isVisible()),e?I.galleryFilter(t,I.data.currentFilter):!0)),e?I.elements.filtersBtns.forEach(t=>{t.getAttribute("thalia-gallery-filter-btn-id").match(I.data.currentFilter)?t.classList.add("active"):t.classList.remove("active")}):I.elements.filtersBtns.forEach(t=>{t.classList.remove("active")})},createItemsFiltersBtns:()=>{Gt.getItems().forEach(e=>{let t="";e.getElement().getAttribute("thalia-gallery-item-filters").split(";").forEach(i=>{t+='<span thalia-gallery-filter-btn-id="'+i+'">'+i+"</span>"}),e.getElement().querySelector(".filters").innerHTML=t})},createFilterBtns:(e,t=null)=>{const i=e.querySelectorAll("*[thalia-gallery-filters--insert]");i.length>0&&(i.forEach(s=>{let r="";s.getAttribute("thalia-gallery-filters--insert").split(";").forEach(n=>{r+='<span thalia-gallery-filter-btn-id="'+n+'">'+n+"</span>"}),s.innerHTML=r}),e.querySelectorAll("*[thalia-gallery-filters--insert] *[thalia-gallery-filter-btn-id]").forEach(s=>{s.addEventListener("click",()=>{I.onClickFilter(s,!0),e.querySelectorAll(".sticky-menu *[thalia-gallery-filter-btn-id]").forEach(r=>{r.getAttribute("thalia-gallery-filter-btn-id").match(I.data.currentFilter)?r.classList.add("active"):r.classList.remove("active")}),t!=null&&t()})}),i.forEach(s=>{s.removeAttribute("thalia-gallery-filters--insert")}))},initItemsFiltersBtns:(e=!0)=>{I.elements.filtersBtns=document.querySelectorAll("*[thalia-gallery-filter-btn-id]"),I.elements.filtersBtns.length>0&&(I.elements.filtersBtns.forEach(t=>{t.addEventListener("click",()=>{I.onClickFilter(t)})}),I.elements.filtersClearBtn.forEach(t=>{t.addEventListener("click",I.onUnfilter)})),I.onUnfilter(e)},getShiftItemsSize:e=>{I.elements.shiftItemsMuuri.forEach(t=>{t.style.display="block",t.setAttribute("thalia-gallery-item-height",t.firstElementChild.firstElementChild.getBoundingClientRect().height),setTimeout(()=>{t.classList.contains("muuri-item-hidden")?t.style.display="none":t.style.display=null},5)}),e&&e()},setShiftItemsSize:()=>{I.elements.shiftItemsMuuri.forEach(e=>{e.style.height=(I.data.currentFilter===null?I.itemsShiftValue:0)+parseFloat(e.getAttribute("thalia-gallery-item-height"))+"px"})},initShiftItems:()=>{G.style.setProperty("--thalia-gallery-item-shift",I.itemsShiftValue+"px"),I.elements.shiftItemsMuuri=document.querySelectorAll(".gallery-grid .grid-muuri--item.item-shift"),I.elements.shiftItemsMuuri.forEach(e=>{I.elements.shiftItemsContent.push(e.querySelectorAll(".item-gallery"))}),I.getShiftItemsSize(I.setShiftItemsSize),window.addEventListener("resize",()=>{I.getShiftItemsSize(I.setShiftItemsSize)})},initScrollInView:()=>{Gt.getItems().forEach(e=>{const t=e.getElement().querySelector(".item-gallery");t.setAttribute("data-scroll",""),t.setAttribute("data-scroll-offset","200,0")}),K.addScrollElements(Gt.getElement())},scrollToTop:()=>{rt.getScroll(K)>50&&K.scrollTo(I.elements.gallerySectionScrollToAnchor,Pe(Kt({},rt.options.scrollTo),{offset:0,onComplete:()=>{rt.resize(K)}}))}};window.addEventListener("scrollCarouselInfinite_call",e=>{if(rt.getScroll(K)<5){Ue.toggle(!0,e.detail.target.getAttribute("data-carousel-infinite-index"));return}Ue.toggle(e.detail.way==="enter",e.detail.target.getAttribute("data-carousel-infinite-index"))});window.addEventListener("scrollCarouselInfinite_onScroll",e=>{const t=e.detail.target.getAttribute("data-carousel-infinite-index");Ue.apply(e.detail.target,t,Math.abs(K.lenisInstance.velocity)*Ue.data.instances[t].scrollStrength)});let Ue;class td{constructor(t={}){this.options={initPosition:t.initPosition||-600,idleSpeed:t.idleSpeed||-60,scrollStrength:t.scrollStrength||-.65,dragStrength:t.dragStrength||2.35,dragEasingDuration:t.dragEasingDuration||2e3,dragEasingTiming:t.dragEasingTiming||"outExpo"},this.data={idleLoop:void 0,elements:void 0,instances:{},eventListeners:{}}}init(){if(this.data.elements=G.querySelectorAll("*[data-carousel-infinite]"),this.data.elements.length<=0)return;let t=0;this.data.elements.forEach(s=>{s.setAttribute("data-carousel-infinite-index",t),s.setAttribute("data-scroll",""),s.setAttribute("data-scroll-repeat",""),s.setAttribute("data-scroll-position","start,end"),s.setAttribute("data-scroll-offset","-5,-5"),s.setAttribute("data-scroll-call","scrollCarouselInfinite_call"),s.setAttribute("data-scroll-event-progress","scrollCarouselInfinite_onScroll");const r=s.firstElementChild.firstElementChild;r.classList.add("carousel-infinite--group"),$e.arrayOfElements([".carousel-infinite--group > *"],s).forEach(h=>{h.classList.add("carousel-infinite--item")});const o=r.cloneNode(!0);r.parentNode.appendChild(o);const a=Array.prototype.slice.call(r.children).length;if(a<(s.hasAttribute("data-carousel-infinite--3rd-mirror-threshold")?parseInt(s.getAttribute("data-carousel-infinite--3rd-mirror-threshold")):4)){const h=o.cloneNode(!0);r.parentNode.appendChild(h)}const l=s.hasAttribute("data-carousel-infinite--invert")?-1:1;this.data.instances[t]={way:l,idleSpeed:(s.hasAttribute("data-carousel-infinite--idle-speed")?parseFloat(s.getAttribute("data-carousel-infinite--idle-speed")):this.options.idleSpeed)*l,scrollStrength:(s.hasAttribute("data-carousel-infinite--scroll-strength")?parseFloat(s.getAttribute("data-carousel-infinite--scroll-strength")):this.options.scrollStrength)*l,firstInit:!1,active:!1,currentPos:0,loopEndPos:0,itemsNb:a,drag:{isDragging:!1,mousePrevious:void 0,mouseCurrent:void 0,posFrom:0,posAnimated:0,posTo:0}},this.idle(),s.onpointerdown||(s.onpointerdown=this.dragToggle_down.bind(this,t)),s.onpointerup||(s.onpointerup=this.dragToggle_up.bind(this,t)),s.onpointerout||(s.onpointerout=this.dragToggle_up.bind(this,t)),s.onpointermove||(s.onpointermove=this.dragMove.bind(this,t)),t+=1}),this.updateSizes(),this.data.eventListeners.resize_updateSizes||(this.data.eventListeners.resize_updateSizes=window.addEventListener("resize",this.updateSizes.bind(this)));let i=0;this.data.elements.forEach(s=>{s.querySelectorAll(".carousel-infinite--item > *").forEach(r=>{r.addEventListener("load",this.updateSizes.bind(this))}),setTimeout(()=>{let r=s.hasAttribute("data-carousel-infinite--init-position")?parseFloat(s.getAttribute("data-carousel-infinite--init-position")):this.options.initPosition;r<0&&(r=this.data.instances[i].loopEndPos-r),this.apply(s,i,this.data.instances[i].currentPos+r),i+=1},500)})}clear(){this.data.idleLoop&&(this.data.idleLoop=!1);for(const t of Object.getOwnPropertyNames(this.data.instances))delete this.data.instances[t];this.data.eventListeners.resize_updateSizes&&(window.removeEventListener("resize",this.updateSizes),delete this.data.eventListeners.resize_updateSizes),this.data.elements.forEach(t=>{t.onpointerdown=null,t.onpointerup=null,t.onpointerout=null,t.onpointermove=null})}toggle(t=!0,i){if(this.data.instances[i].active=!!t,!t){let s=!1;for(let r=0;r<Object.values(this.data.instances).length;r++)s|=!!this.data.instances[r].active;if(!s){this.data.idleLoop=!1;return}}this.data.idleLoop||this.idle()}updateSizes(){let t=0;this.data.elements.forEach(i=>{this.data.instances[t].loopEndPos=-i.querySelector(".carousel-infinite--group").getBoundingClientRect().width,t+=1})}apply(t,i,s){let r=this.data.instances[i].currentPos+s;r>0?r=this.data.instances[i].loopEndPos:r<this.data.instances[i].loopEndPos&&(this.updateSizes(),r=0),this.data.instances[i].currentPos=r,t.firstElementChild.style.transform="translate3D("+r+"px, 0, 0) rotateX(0.04deg)"}idle(){if(this.data.idleLoop)return;const t=(r,n,o)=>{const a=this.data.instances[n];if(a.drag.isDragging&&(this.data.instances[n].drag.posFrom=(a.drag.mouseCurrent-a.drag.mousePrevious)*this.options.dragStrength,this.data.instances[n].drag.mousePrevious=a.drag.mouseCurrent),this.data.instances[n].drag.posFrom!=a.drag.posTo){this.data.instances[n].drag.posTo=this.data.instances[n].drag.posFrom;const l={move:this.data.instances[n].drag.posAnimated};Mi(l,{ease:this.options.dragEasingTiming,duration:this.options.dragEasingDuration,move:[this.data.instances[n].drag.posAnimated,this.data.instances[n].drag.posFrom],onUpdate:()=>{this.data.instances[n].drag.posAnimated=l.move}})}this.apply(r,n,this.data.instances[n].drag.posAnimated+a.idleSpeed*o)},i=r=>{const n=(r-s)/1e3;if(s=r,this.data.idleLoop){let o=0;this.data.elements.forEach(a=>{this.data.instances[o].active&&t(a,o,n),o+=1}),this.data.idleLoop=requestAnimationFrame(i)}};let s=performance.now();this.data.idleLoop=requestAnimationFrame(i.bind(this))}dragToggle_down(t,i){this.data.instances[t].drag.mouseCurrent=i.clientX,this.data.instances[t].drag.mousePrevious=this.data.instances[t].drag.mouseCurrent,this.data.instances[t].drag.isDragging=!0}dragToggle_up(t,i){i.stopPropagation(),this.data.instances[t].drag.mouseCurrent=0,this.data.instances[t].drag.mousePrevious=0,this.data.instances[t].drag.posFrom=0,this.data.instances[t].drag.isDragging=!1}dragMove(t,i){this.data.instances[t].drag.isDragging&&(this.data.instances[t].drag.mouseCurrent=i.clientX)}}let Es;class ed{constructor(){this.data={elements:void 0,eventListeners:{}}}init(){this.data.elements=G.querySelectorAll("*[data-carousel-progress]"),!(this.data.elements.length<=0)&&(this.data.elements.forEach(t=>{t.setAttribute("data-scroll",""),t.setAttribute("data-scroll-repeat",""),t.setAttribute("data-scroll-position","start,end"),t.setAttribute("data-scroll-offset","0,0"),t.setAttribute("data-scroll-css-progress",""),t.hasAttribute("data-carousel-progress--scroll-length")&&t.getAttribute("data-carousel-progress--scroll-length").length>0&&t.style.setProperty("--carousel-scroll-length",t.getAttribute("data-carousel-progress--scroll-length")),t.hasAttribute("data-carousel-progress--scroll-length-ratio")&&t.getAttribute("data-carousel-progress--scroll-length-ratio").length>0&&t.style.setProperty("--carousel-scroll-length-ratio",t.getAttribute("data-carousel-progress--scroll-length-ratio")),t.querySelectorAll("img").forEach(i=>{i.addEventListener("load",this.updateSizes.bind(this))}),t.querySelectorAll("video").forEach(i=>{i.addEventListener("load",this.updateSizes.bind(this))})}),this.updateSizes(),this.data.eventListeners.resize_updateSizes||(this.data.eventListeners.resize_updateSizes=window.addEventListener("resize",this.updateSizes.bind(this))))}clear(){this.data.eventListeners.resize_updateSizes&&(window.removeEventListener("resize",this.updateSizes),delete this.data.eventListeners.resize_updateSizes)}updateSizes(){this.data.elements.forEach(t=>{t.style.setProperty("--carousel-track-width",Math.ceil(t.firstElementChild.getBoundingClientRect().width)+"px")})}}const Jt={data:{homePrevScrollPos:null,homePrevAnchorPos:null,homePrevFilter:null},initPagesHandling:()=>{I.initAttributes(),me.hooks.on("page:view",e=>{Gt&&I.destroy(),e.to.url==="/"&&I.init(!1),Jt.whenPageView(e)}),Jt.whenPageView(null,!0),me.hooks.on("content:replace",e=>{Jt.whenPageExit(e)},{before:!0}),me.hooks.on("visit:start",e=>{e.scroll.reset=!1,e.from.url==="/"&&(Jt.data.homePrevScrollPos=rt.getScroll(K),Jt.data.homePrevAnchorPos=I.elements.gallerySectionTopAnchor.getBoundingClientRect().top),I.elements.gallerySectionScrollToAnchor.getBoundingClientRect().top>1?e.to.url!=="/"?K.scrollTo(I.elements.gallerySectionTopAnchor,Pe(Kt({},rt.options.scrollTo),{lock:!0,offset:5,onComplete:()=>{rt.resize(K)}})):K.scrollTo(I.elements.gallerySectionScrollToAnchor,Pe(Kt({},rt.options.scrollTo),{lock:!0,offset:5,onComplete:()=>{rt.resize(K)}})):me.hooks.on("content:replace",()=>{I.elements.gallerySectionTopAnchor.getBoundingClientRect().top<1&&(K.scrollTo(I.elements.gallerySectionTopAnchor,{immediate:!0,lock:!0,offset:300,onComplete:()=>{K.scrollTo(I.elements.gallerySectionTopAnchor,Pe(Kt({},rt.options.scrollTo),{lock:!0,offset:5,onComplete:()=>{rt.resize(K)}}))}}),e.to.url==="/"&&Jt.data.homePrevScrollPos!=null&&Jt.data.homePrevFilter==G.getAttribute("thalia-gallery-filter")&&Jt.data.homePrevScrollPos>mt.vpSize[1]*1.3&&Jt.data.homePrevAnchorPos<0&&setTimeout(()=>{K.scrollTo(Jt.data.homePrevScrollPos,Pe(Kt({},rt.options.scrollTo),{lock:!0,offset:0,onComplete:()=>{rt.resize(K)}}))},300))},{once:!0,before:!0})})},whenPageView:(e,t=!1)=>{const i=document.querySelector(".page-content");I.createFilterBtns(I.elements.section,()=>{me.navigate("/")}),Ue.init(),Es.init(),Fs.projectSpecificEvents(!0,e==null?me.location.pathname:e.to.url),t||K.addScrollElements(i);const s=i.querySelectorAll("video[autoplay]");s.length>0&&s.forEach(r=>{r.pause(),setTimeout(()=>{r.play().then().catch(n=>{console.log("[VIDEOS.autoplay] failed to play video",r,n)})},0)})},whenPageExit:(e,t=!1)=>{const i=document.querySelector(".page-content");e&&e.from.url==="/"&&(Jt.data.homePrevFilter=G.getAttribute("thalia-gallery-filter")),Ue&&Ue.clear(),Es&&Es.clear(),Fs.projectSpecificEvents(!1,e==null?me.location.pathname:e.from.url),t||K.removeScrollElements(i)}},Fs={projectSpecificEvents:(e=!0,t)=>{switch(t){case"/p/cartes-tarot-garou/":e?Fs.special.cardsStackInteractive():Fs.special.cardsStackInteractive_destroy();break}},special:{cardsStackInteractive_destroy:()=>{const e=le.$(".cards-stack-interactive");e.length<=0||e.forEach(t=>{$e.removeAllChildNodes(t)})},cardsStackInteractive:()=>{const e=le.$(".cards-stack-interactive");if(e.length<=0)return;const t={initOffsetY:25,initRandomRotate:1,initScale:1.5,initStaggerY:-2.5,staggerDepth:15,staggerDepthOffset:-75,accentDepthFadeOpacity:.8,initRotateX:0,finalRotateX:-6,radius:60,cardClickPush:4,cardsEnabledProgressThreshold:.75};e.forEach(i=>{let s={nb:void 0,rotateSlice:void 0,maxZDepth:void 0,isOpening:!1,isOpened:!1,instances:[]};const r=i.querySelector(".stack"),n=i.querySelectorAll(".stack .card"),o=r.querySelector(".cards-global-fader");s.nb=n.length,s.rotateSlice=360/s.nb,s.maxZDepth=t.staggerDepth*s.nb,le.set(n,{rotate:()=>le.random(-1,t.initRandomRotate,2),rotateZ:()=>le.random(-1,t.initRandomRotate,2),rotateX:()=>t.initRotateX,y:Pi(t.initStaggerY,{from:"last"}),z:Pi(t.staggerDepth,{start:t.staggerDepthOffset})}),le.set(".stack .card .back",{opacity:Pi([1,t.accentDepthFadeOpacity])});const a=_a({defaults:{ease:"linear",duration:500,composition:"blend"},autoplay:Gc({target:".cards-container",enter:"40% top",leave:"bottom bottom",sync:.5,onUpdate:c=>{c.progress<.96?(l(),i.classList.remove("reached-end")):i.classList.add("reached-end")}})}).add(r,{rotateY:[-180,0],y:{from:`${t.initOffsetY}%`,to:0,ease:"inOutQuad"},ease:"in(2)"},0).add(n,{scale:{from:t.initScale,to:1,ease:"inOutQuad"},rotate:0,rotateZ:{to:Pi([0,-360+s.rotateSlice],{from:"last"}),ease:"inOut(3)"},rotateX:[t.initRotateX,t.finalRotateX,t.finalRotateX],y:{to:`-${t.radius}%`,duration:400},transformOrigin:["50% 100%","50% 50%"],delay:Pi(1,{from:"first"})},0).init();n.forEach((c,d)=>{s.instances[d]={cardName:c.getAttribute("data-card-name"),isActive:!1,doAnimSpin:!0,rotations:0,isCardInLeftHalf:d>s.nb/2-1,isCardTop:d+1==s.nb};const p=c.firstElementChild,m=c.firstElementChild.firstElementChild,g=c.querySelector(".fader"),f=i.querySelector('.card-infos[data-card-info="'+s.instances[d].cardName+'"]');s.instances[d].cardDraggableX=Un(p,{x:{mapTo:"rotateY",modifier:le.wrap(-360,360),snap:[0,180,-180,359.5,-359.5]},y:!1,dragSpeed:mt.vpSizeBreakpoints.current.w=="vpWidthVertical"?1:.5,releaseMass:.1,releaseStiffness:5,releaseDamping:15,maxVelocity:1e3,scrollThreshold:!1,scrollSpeed:0,onDrag:_=>{s.instances[d].doAnimSpin=!1},onUpdate:_=>{const v=Math.abs(_.coords[0]%360),y=45;le.set(g,{opacity:v>90-y&&v<90+y||v>270-y&&v<270+y?Math.max(0,Math.min(1,1-Math.min(Math.abs(v-90),Math.abs(v-270))/y))*.5:0}),_.grabbed||le.set(g,{opacity:0})},onGrab:_=>{c.classList.add("is-grabbing")},onRelease:_=>{c.classList.remove("is-grabbing"),setTimeout(()=>{s.instances[d].doAnimSpin=!0},100)},onResize:()=>{s.instances[d].isActive||(s.instances[d].cardDraggableX.setX(0),s.instances[d].cardDraggableX.refresh())}}),s.instances[d].cardDraggableY=Un(p,{x:!1,y:{mapTo:"rotateX",modifier:_=>_*-1,snap:[0]},dragSpeed:.1,releaseMass:.7,releaseStiffness:60,scrollThreshold:!1,scrollSpeed:0});const u=zc(m,{y:{unit:"%",duration:1e3,ease:"outElastic(1.2, .7)"},rotateY:{duration:2300,ease:"cubicBezier(0.2, 0.5, 0, 1)"},z:{duration:300,ease:"cubicBezier(0.2, 0.5, 0, 1)"},scale:100,ease:"out(5)"});c.addEventListener("pointerenter",()=>{a.progress>t.cardsEnabledProgressThreshold&&!s.isOpening&&!s.isOpened&&(c.classList.add("is-hovering"),u.y(-10))}),c.addEventListener("pointerleave",()=>{c.classList.remove("is-hovering"),u.y(0)}),c.addEventListener("pointerdown",()=>{a.progress>t.cardsEnabledProgressThreshold&&!s.isOpening&&!s.isOpened&&u.y(u.y()+t.cardClickPush)}),p.addEventListener("mousemove",()=>{s.isOpened&&u.scale(1.03,400,"cubicBezier(0.1, 0.3, 0.2, 1)")}),p.addEventListener("mouseleave",()=>{u.scale(1,400,"cubicBezier(0.3, 0.1, 0.2, 1)")}),p.addEventListener("pointerdown",()=>{u.scale(.98,80,"ease")}),c.addEventListener("click",_=>{if(s.isOpening||s.isOpened){if(s.instances[d].doAnimSpin){const v=c.getBoundingClientRect();s.instances[d].rotations+=v.left+v.width/2>_.clientX?-1:1,u.rotateY(s.instances[d].rotations*360).scale(1.1,250,"inOut(1)"),setTimeout(()=>{u.scale(1,1600,"outElastic(1.2, .6)")},300)}}else a.progress>t.cardsEnabledProgressThreshold&&(s.isOpening=!0,s.instances[d].isActive=!0,u.y(0),c.classList.add("is-click-timeout"),setTimeout(()=>{c.classList.remove("is-click-timeout")},500),setTimeout(()=>{c.classList.add("is-active"),o.classList.add("is-active")},1e3),c.classList.remove("is-hovering"),f&&f.classList.add("is-active"),K.scrollTo(rt.getScroll(K)+i.getBoundingClientRect().bottom-mt.vpSize[1],Pe(Kt({},rt.options.scrollTo),{lock:!0,offset:-2,onComplete:()=>{rt.resize(K),setTimeout(()=>{s.isOpening=!1,s.isOpened=!0},1500)}})),s.instances[d].cardDraggableX.enable().setX(0).refresh(),s.instances[d].cardDraggableY.enable().setY(0).refresh(),Mi(c,{z:{to:s.maxZDepth+250,delay:300,duration:700,ease:"ease"},rotateZ:{to:s.instances[d].isCardInLeftHalf?0:-360,delay:0,duration:2e3,ease:s.instances[d].isCardInLeftHalf?"cubicBezier(0.6, 0, 0.2, 1)":"cubicBezier(0.7, 0, 0, 1)"},rotateX:0,x:{to:"0%",delay:200},y:[{to:s.instances[d].isCardTop?"-90%":"-140%",duration:s.instances[d].isCardTop?200:500,ease:"cubicBezier(0.2, 0.2, 0.6, 1)"},{to:"0",duration:s.instances[d].isCardTop?2e3:1500,ease:"cubicBezier(0.5, 0, 0, 1)"}],rotateY:{to:[0,s.instances[d].isCardInLeftHalf?360:-360],delay:150,duration:2200,ease:"cubicBezier(0.5, 0, 0, 1)"},duration:1e3,ease:"cubicBezier(0.5, 0.1, 0, 1)",composition:"blend"}),n.forEach((v,y)=>{y!=d&&(v.classList.add("is-disabled"),Mi(v.querySelector("wrapper[data-drag]"),{scale:["1","0.835"],y:["0%","4%"],duration:2200,ease:"cubicBezier(0.5, 0, 0.4, 1)",composition:"blend"}))}))})});function l(){s.isOpened&&n.forEach((c,d)=>{s.instances[d].isActive&&h(c,d)})}o.addEventListener("click",l);function h(c,d){c.classList.add("is-click-timeout"),setTimeout(()=>{c.classList.remove("is-click-timeout")},500),s.instances[d].isActive=!1,c.classList.remove("is-active"),o.classList.remove("is-active");const p=i.querySelector('.card-infos[data-card-info="'+s.instances[d].cardName+'"]');p&&p.classList.remove("is-active"),Mi(c,{z:{to:t.staggerDepth*d+t.staggerDepthOffset,delay:300,duration:700,ease:"ease"},rotateZ:{to:-360+s.rotateSlice*(d+1),delay:0,duration:1500,ease:"cubicBezier(0.6, 0, 0, 1)"},rotateX:t.finalRotateX,x:{to:"0%",delay:200},y:[{to:s.instances[d].isCardTop?"-90%":"-140%",duration:900,ease:"cubicBezier(0.4, 0, 0.6, 1)"},{to:`-${t.radius}%`,duration:1e3,ease:"cubicBezier(0.3, 0, 0, 1)"}],rotateY:{to:0,delay:250,duration:1100,ease:"cubicBezier(0.3, 0.2, 0, 1)"},duration:1e3,ease:"cubicBezier(0.5, 0.1, 0, 1)",composition:"blend"}),s.instances[d].cardDraggableX.disable(),s.instances[d].cardDraggableY.disable(),setTimeout(()=>{s.instances[d].cardDraggableX.setX(0).refresh(),s.instances[d].cardDraggableY.setY(0).refresh()},600),le.set(c.querySelector(".fader"),{opacity:0}),n.forEach((m,g)=>{d!=g&&Mi(m.querySelector("wrapper[data-drag]"),{scale:"1",y:"0%",delay:200,duration:2200,ease:"cubicBezier(0.5, 0, 0.3, 1)",composition:"blend"})}),setTimeout(()=>{s.isOpened=!1,n.forEach((m,g)=>{m.classList.remove("is-disabled")})},800)}})}}},me=new Za({animateHistoryBrowsing:!0,cache:!0,containers:["#swup"],animationSelector:'[class*="swup-transition-"]',animationScope:"html",linkSelector:"a[href]",linkToSelf:"scroll",timeout:0,native:!1,plugins:[new Ja({throttle:5,preloadHoveredLinks:!0,preloadVisibleLinks:!1,preloadInitialPage:!0})]}),J={elements:{container:document.querySelector(".thalia-loading-screen"),thaliaSmallProfile:document.querySelector(".thalia-loading-screen .thalia-small-profile")},data:{skipLoadingAnimation:!1,skipLoadingAnimationDevMode:!0,devMode:!1,events:{pageLoaded:!1,introAnimStarted:!1,introAnimFinished:!1,hiding:!1}},init:e=>{if(!J.elements.container){e(),console.error("[LOADING] no container found");return}J.setState("init"),J.data.skipLoadingAnimation=J.data.devMode,window.addEventListener("load",()=>{J.data.events.pageLoaded||(J.data.events.pageLoaded=!0,J.setState("page-loaded"),e&&e(),(J.data.events.introAnimFinished||J.data.skipLoadingAnimation)&&J.hide(),setTimeout(()=>{J.data.events.introAnimFinished||(J.data.events.introAnimFinished=!0,console.warn("[LOADING] automatically dismissed, anim took too long"),J.hide())},8e3))}),setTimeout(()=>{J.introAnim(()=>{J.data.events.pageLoaded?J.hide():window.addEventListener("load",()=>{J.hide()})})},300),setTimeout(()=>{J.data.events.pageLoaded&&J.data.events.introAnimFinished||(J.data.events.pageLoaded=!0,J.data.events.introAnimFinished=!0,console.warn("[LOADING] automatically dismissed, loading took too long"),J.hide())},12e3)},setState:e=>{G.setAttribute("thalia-loading-state",e)},hide:()=>{J.data.events.hiding||(J.data.events.hiding=!0,J.setState("hiding"),K.scrollTo(0,{offset:0,immediate:!0,lock:!0,onComplete:()=>{rt.resize(K)}}),setTimeout(()=>{J.setState("hidden"),K.start(),K.scrollTo(rt.getScroll(K),{offset:0,immediate:!0,lock:!0,onComplete:e=>{rt.resize(e)}}),setTimeout(()=>{rt.resize(K)},100),setTimeout(()=>{b.interactions.blink(!0)},1350),setTimeout(()=>{J.setState("hidden-fully"),rt.resize(K)},J.data.skipLoadingAnimation?10:2500)},J.data.skipLoadingAnimation?0:600))},introAnim:e=>{if(J.data.events.introAnimStarted)return;J.data.events.introAnimStarted=!0,J.elements.container.classList.add("loading-animating");let t=J.elements.thaliaSmallProfile.querySelectorAll("*[data-anim-blink]");t.forEach(r=>{r.classList.add("anim")});const i=_a({defaults:{delay:0},onComplete:r=>{J.data.events.introAnimFinished=!0,e&&e()}}),s={hair:{timePosition:0,duration:700,ease:"cubicBezier(0.7, 0.2, 0.4, 0.7)"},face:{timePosition:"<",duration:800,ease:"cubicBezier(0.2, 0.2, 0.2, 1)",onComplete:r=>{t.forEach(n=>{n.classList.add("anim-blink"),setTimeout(()=>{n.classList.remove("anim-blink"),setTimeout(()=>{n.classList.add("anim-blink")},150)},300)})}},throat:{timePosition:"<<+=400",duration:800,ease:"cubicBezier(0.3, 0.2, 0.2, 0.9)"},circle:{timePosition:500,duration:2300,ease:"cubicBezier(0.6, 0, 0.2, 0.95)"}};J.elements.thaliaSmallProfile.querySelectorAll("*[data-anim-draw]").forEach(r=>{const n=r.getAttribute("data-anim-draw");i.add(lc.createDrawable(r),{draw:["0 0","0 1"],duration:s[n].duration,ease:s[n].ease,onComplete:o=>{s[n].onComplete&&s[n].onComplete()}},s[n].timePosition)})}};J.init(()=>{mt.isTouch=$e.isTouchDevice(),mt.isTouch&&G.classList.add("deviceIsTouch"),$e.scrollbarWidth(!0),me.hooks.on("content:replace",()=>{$e.scrollbarWidth(!0)}),K=new fl(rt.options.scroll),rt.initEvents(),Lt.init(),Ue=new td,Es=new ed,b.interactions.init(),Jt.initPagesHandling(),document.querySelector(".gallery-grid")&&I.init(),rt.resize(K)});
